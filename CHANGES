------------------------------------------------------------------------
r1857 | oetiker | 2009-06-08 07:12:26 +0200 | 2 lines

make config.h a symlink to rrd_config.h so that intl/Makefile is happy

------------------------------------------------------------------------
r1856 | oetiker | 2009-06-08 06:56:56 +0200 | 4 lines

Relax automake requirements and make 1.11 features optional -- kevin brintnall



------------------------------------------------------------------------
r1855 | oetiker | 2009-06-07 22:48:39 +0200 | 2 lines

fix some missing rrd_flushcached instances -- kevin

------------------------------------------------------------------------
r1854 | oetiker | 2009-06-07 16:46:21 +0200 | 2 lines

switch to the rrd_flushcached interface

------------------------------------------------------------------------
r1853 | oetiker | 2009-06-07 16:45:55 +0200 | 2 lines

consider fgets return value

------------------------------------------------------------------------
r1852 | oetiker | 2009-06-07 16:33:06 +0200 | 2 lines

do not try to mess with autopoints files

------------------------------------------------------------------------
r1851 | oetiker | 2009-06-07 16:27:52 +0200 | 2 lines

check return value from write

------------------------------------------------------------------------
r1850 | oetiker | 2009-06-07 16:19:04 +0200 | 2 lines

check return values of dup and ftruncate

------------------------------------------------------------------------
r1849 | oetiker | 2009-06-07 16:12:28 +0200 | 2 lines

fix some warnings

------------------------------------------------------------------------
r1848 | oetiker | 2009-06-07 15:57:17 +0200 | 2 lines

added a copy to svn since it is changed from the original

------------------------------------------------------------------------
r1847 | oetiker | 2009-06-07 15:53:10 +0200 | 2 lines

changed from original version, so include it ... 

------------------------------------------------------------------------
r1846 | oetiker | 2009-06-07 15:42:39 +0200 | 2 lines

include libtool with the distro

------------------------------------------------------------------------
r1845 | oetiker | 2009-06-07 13:36:20 +0200 | 2 lines

another ID tag

------------------------------------------------------------------------
r1844 | oetiker | 2009-06-07 13:35:52 +0200 | 2 lines

more id tags added

------------------------------------------------------------------------
r1843 | oetiker | 2009-06-07 13:34:39 +0200 | 2 lines

updated for release

------------------------------------------------------------------------
r1842 | oetiker | 2009-06-07 13:34:22 +0200 | 2 lines

updated for release

------------------------------------------------------------------------
r1841 | oetiker | 2009-06-07 13:20:15 +0200 | 2 lines

added $Id:$

------------------------------------------------------------------------
r1840 | oetiker | 2009-06-07 13:16:07 +0200 | 2 lines

initial news

------------------------------------------------------------------------
r1839 | oetiker | 2009-06-02 15:55:40 +0200 | 2 lines

Mention that negative time values should be separated by '--' in rrdupdate.pod -- Sebastian Harl

------------------------------------------------------------------------
r1837 | oetiker | 2009-06-01 16:01:51 +0200 | 2 lines

Make rrdtool compile on GNU/kFreeBSD. Fix for Debian bug 494874. Patch by Petr Salinger.

------------------------------------------------------------------------
r1836 | oetiker | 2009-06-01 15:58:58 +0200 | 4 lines

make negative update times work as diescribed in the documentation (-5 is NOW-5seconds)
this takes care of debian bug 332766


------------------------------------------------------------------------
r1834 | oetiker | 2009-05-28 07:25:32 +0200 | 2 lines

madvise hints may not be ORed since they are enumerated ... #224

------------------------------------------------------------------------
r1833 | oetiker | 2009-05-27 18:23:40 +0200 | 1 line

back to 0.14.4
------------------------------------------------------------------------
r1830 | oetiker | 2009-05-27 18:21:15 +0200 | 2 lines

get the latest gettext

------------------------------------------------------------------------
r1826 | oetiker | 2009-05-27 18:03:01 +0200 | 2 lines

added gettext.h to dist

------------------------------------------------------------------------
r1825 | oetiker | 2009-05-27 17:00:04 +0200 | 2 lines

added missing gettext.h

------------------------------------------------------------------------
r1824 | oetiker | 2009-05-27 16:59:47 +0200 | 2 lines

we don't have any translations ... so  do not pretend

------------------------------------------------------------------------
r1823 | oetiker | 2009-05-27 16:31:31 +0200 | 2 lines

reduce gettext version requirements

------------------------------------------------------------------------
r1820 | oetiker | 2009-05-27 16:14:10 +0200 | 2 lines

fix path

------------------------------------------------------------------------
r1819 | oetiker | 2009-05-27 15:39:44 +0200 | 9 lines

the get ready for 1.4rc patch

* updated to automake 1.11 with silet build, with this warnings stand out much better in the build process.
  use make V=1 to see all as before
* switched from intltoolize to autopoint for gettext support
* moved m4 bits into their own subdirectory

--tobi

------------------------------------------------------------------------
r1818 | oetiker | 2009-05-27 15:11:22 +0200 | 2 lines

Only include libgen.h when we have it. use pbbasename if we do not. Also fixes #223.

------------------------------------------------------------------------
r1817 | oetiker | 2009-05-26 17:25:41 +0200 | 2 lines

update flush to flushcached

------------------------------------------------------------------------
r1816 | oetiker | 2009-05-26 17:24:26 +0200 | 2 lines

bindings should invoke new rrd_flushcached (instead of rrd_cmd_flush) -- kevin

------------------------------------------------------------------------
r1815 | oetiker | 2009-05-26 17:20:05 +0200 | 2 lines

"ulong" is not portable. must be unsigned long -- kevin

------------------------------------------------------------------------
r1814 | oetiker | 2009-05-26 10:55:50 +0200 | 2 lines

update flush document name

------------------------------------------------------------------------
r1813 | oetiker | 2009-05-26 09:14:58 +0200 | 2 lines

rename rrd_flush.c to rrd_flushcached.c in Makefile.am

------------------------------------------------------------------------
r1812 | oetiker | 2009-05-26 09:13:52 +0200 | 11 lines

resolve the "flush inconsistency":

* rrd_flush (a leftover from when rrdtool was using stream based io) is turned into a no-op
  but still exported to preserve library compatibility.

* rrd_cmd_flush (the implementation of "rrdtool flush") is renamed to rrd_flushcached
  along with its command line invocation which is now rrdtool flushcached

--tobi
  

------------------------------------------------------------------------
r1811 | oetiker | 2009-05-26 00:23:06 +0200 | 16 lines

While restoring, rrd_restore uses between 30 and 40 times as much memory as
the size of the rrd file to be restored. This is due to the use of libxml2
for parsing the the whole file prior to turning it into rrd structs.

This patch switches rrd_restore to using the xmlTextReader interface for
incremental consumtion of xml files. This reduces the memory requirements to
about twice the size of the rrd file which should be quite manageable for
most cases.

The parsing is about 25% less efficient than with the original libxml2
version of rrd_restore. This could be in part due to the more liberal use of
malloced memory. Optimizing this is for another day though.

--tobi


------------------------------------------------------------------------
r1809 | oetiker | 2009-05-25 08:05:55 +0200 | 2 lines

only include utime.h when necessary

------------------------------------------------------------------------
r1808 | oetiker | 2009-05-24 12:31:44 +0200 | 11 lines

* in 1.3: Changed types used in rrd_file_t from off_t to size_t to prevent: warning: comparison between signed and unsigned
* Misc other off_t -> size_t changes to prevent signed warning
* in 1.3: Added rrd_dump_opt_r declaration to prevent undef warning
* Explicit cast to time_t of check in rrd_fetch to prevent signed warning
* Added vasprintf path to sprintf_alloc to prevent excessive mallocing
* in 1.3: fixed STRERROR_R_CHAR_P undef warning

patch by Steven Hartland killing multiplay.co.uk



------------------------------------------------------------------------
r1806 | oetiker | 2009-05-22 16:54:21 +0200 | 2 lines

reset errno right befor the call I want to test

------------------------------------------------------------------------
r1805 | oetiker | 2009-05-22 15:55:46 +0200 | 2 lines

inline is something for the compiler to figure ... 

------------------------------------------------------------------------
r1804 | oetiker | 2009-05-22 13:32:21 +0200 | 2 lines

fix error messages on the road to fix #222

------------------------------------------------------------------------
r1803 | oetiker | 2009-05-21 07:20:50 +0200 | 2 lines

fix text organisation

------------------------------------------------------------------------
r1800 | oetiker | 2009-05-18 16:23:23 +0200 | 2 lines

integrated fix for debian bug #529291 as supplied by Anders Hammarquist

------------------------------------------------------------------------
r1799 | oetiker | 2009-05-11 23:25:57 +0200 | 6 lines

fix rrd_getops use of external variables (optarg and friends) ... most
prominently is kills a segfault when using rrdtool perl bindings on
solaris ... thanks to Ihsan Dogan for helping with tracking this down and providing
access to sparc solaris boxes.


------------------------------------------------------------------------
r1797 | oetiker | 2009-04-29 08:52:25 +0200 | 2 lines

added some remarks on CDEF versus VDEF to the docs -- Pablo Sanchez

------------------------------------------------------------------------
r1796 | oetiker | 2009-04-20 08:48:01 +0200 | 9 lines

This patch includes utility functions to support dynamically sized arrays.
This simplifies the code that manages some of the dynamic structures
inside rrdcached. 

A few data types have been changed to size_t.

-- kevin


------------------------------------------------------------------------
r1795 | oetiker | 2009-04-20 08:46:47 +0200 | 3 lines

introduced header_property in info output -- Daniel.Pocock barclayscapital.com


------------------------------------------------------------------------
r1794 | oetiker | 2009-04-17 11:53:57 +0200 | 2 lines

add documentation for graph-render-mode

------------------------------------------------------------------------
r1793 | oetiker | 2009-04-15 09:05:58 +0200 | 2 lines

fix comments and error messages in rrd_restore patch

------------------------------------------------------------------------
r1792 | oetiker | 2009-04-15 09:02:04 +0200 | 4 lines

Fix casting issues in rrd_restore. The bug manifested when compiled on sparc v9 as explained in #218.
Patch based in input provided by poster of #218.


------------------------------------------------------------------------
r1791 | oetiker | 2009-04-14 15:55:29 +0200 | 3 lines

make ruby bindings compile with newer ruby versions ... fix for #217
patch provided by rrd trac user.

------------------------------------------------------------------------
r1790 | oetiker | 2009-04-14 09:51:20 +0200 | 3 lines

Generate an error message when using RRDp with graph - this can not work reliably. (Debian Bug#251701) -- Sebastian Harl


------------------------------------------------------------------------
r1789 | oetiker | 2009-04-14 08:10:21 +0200 | 7 lines

rrd_random() is a wrapper around random() that ensures the PRNG is seeded
exactly ONCE per process.

rrd_utils.c is introduced for functions that do not have a better home. --kevin



------------------------------------------------------------------------
r1788 | oetiker | 2009-04-10 10:52:34 +0200 | 13 lines

This patch consolidates several aspects of the command handling in
rrdcached:

 * all commands, help, and context information is reduced to a single data
   structure.

 * all checks for command validity (context and permission) are handled in
   the main dispatch routine

This removes duplicate help/syntax text, and long if..elseif..else chains.
It facilitates the addition of new commands. -- kevin


------------------------------------------------------------------------
r1787 | oetiker | 2009-04-09 17:07:05 +0200 | 3 lines

The bookkeeping of all threads is not necessary, since we cannot pthread_join() them anyway. We only need to know when the last one has exited. -- kevin


------------------------------------------------------------------------
r1786 | oetiker | 2009-04-09 17:05:41 +0200 | 2 lines

added missing docs -- kevin

------------------------------------------------------------------------
r1785 | oetiker | 2009-04-09 17:04:27 +0200 | 2 lines

added missing newline -- by sebastian harl

------------------------------------------------------------------------
r1778 | oetiker | 2009-04-07 09:23:20 +0200 | 2 lines

make sure an empty m4 is in the checkout

------------------------------------------------------------------------
r1773 | oetiker | 2009-04-07 08:37:17 +0200 | 6 lines

fix for #213 restore old behaviour of --lazy. Even in lazy mode all the data
calculation elements are run. The main time saving comes from the fact that
the graph is not being drawn and the image does not have to be compressed.



------------------------------------------------------------------------
r1772 | oetiker | 2009-04-07 08:03:49 +0200 | 2 lines

make sure rrd_dump outputs numbers with C locale so that . does not suddenly become , this fixes #212

------------------------------------------------------------------------
r1771 | oetiker | 2009-04-06 16:49:03 +0200 | 3 lines

I thought that it would be nice to be able to pass
parameters to python bindings as a list (array) of strings. -- Vytautas Zdanavicius vytaszd at yahoo.com

------------------------------------------------------------------------
r1770 | oetiker | 2009-04-06 16:14:31 +0200 | 2 lines

use %lld with (long long) conversion when printing time.

------------------------------------------------------------------------
r1769 | oetiker | 2009-04-06 16:12:21 +0200 | 4 lines

printf for time_t with %lli can easily cause a segfault since on many platforms
time_t is only 32bit ... by adding (long long) to the time value this gets fixed.


------------------------------------------------------------------------
r1768 | oetiker | 2009-04-06 16:08:16 +0200 | 2 lines

lets have an error message when creating the graph fails

------------------------------------------------------------------------
r1764 | oetiker | 2009-03-21 11:45:40 +0100 | 2 lines

remove excess flush calls ... 

------------------------------------------------------------------------
r1762 | oetiker | 2009-03-21 10:56:43 +0100 | 2 lines

remove flush symbol

------------------------------------------------------------------------
r1760 | oetiker | 2009-03-21 10:53:30 +0100 | 5 lines

the call to rrd_flush has appeared when rrd_open was fleshed out. It used to be an fflush call
which is something entirely different than the current rrd_flush implementation with fdatasync was ... 

we can safely drop this and gain performance for holt winters in the process ... -- tobi

------------------------------------------------------------------------
r1759 | oetiker | 2009-03-18 18:12:09 +0100 | 2 lines

New rrd_graph functions for legend  placement control added -- Patch by Melchior Rabe rrdtool mrab.de

------------------------------------------------------------------------
r1758 | oetiker | 2009-03-08 12:12:41 +0100 | 3 lines

rrd_flush.c: Provide a more useful error message.
by Sebastian Harl

------------------------------------------------------------------------
r1757 | oetiker | 2009-03-08 09:02:38 +0100 | 6 lines

Renaming ntmake.pl to ntmake.PL (r1742) had unforseen side effects. At least
on freebsd ntmake.PL gets called automatically during build. This is not
desired. I renamed the file to ntmake-build sinc it gets called
explicilty on windows anyway. Reported by Kevin modified by Tobi


------------------------------------------------------------------------
r1756 | oetiker | 2009-03-07 11:31:51 +0100 | 4 lines

This 2-patch series exposes 'flush' methods to the various language
bindings.


------------------------------------------------------------------------
r1754 | oetiker | 2009-03-06 06:51:34 +0100 | 2 lines

there were two lines of debug info printed by rrd_xport, messing up the xml code. Fix by Alejandro Galue.

------------------------------------------------------------------------
r1752 | oetiker | 2009-03-06 06:39:37 +0100 | 18 lines

Even though POSIX/XSI requires "strerror_r" to return an "int", some systems
(e.g. the GNU libc) return a "char *" _and_ ignore the second argument (user
provided buffer). The configure script now checks for that behavior using
AC_FUNC_STRERROR_R. rrd_strerror() in rrd_thread_safe.c has been updated to
(hopefully) handle all possible cases.

Previously, rrd_strerror() would have returned "strerror_r failed. sorry!" in
mostly any cases when using glibc, since "if (strerror_r())" had been used to
check for errors which evaluates to true if a (non-NULL) pointer was returned.

Now, we, at least, return the error number in case anything else fails.

Thanks to Alessandro Iurlano for reporting this issue after spotting it in
collectd <http://collectd.org>.

patch by Sebastian Harl


------------------------------------------------------------------------
r1751 | oetiker | 2009-03-06 06:30:08 +0100 | 2 lines

Make sure we use correct sizes for vsnprintf (sizeof) and strncpy (sizeof-1). -- kevin

------------------------------------------------------------------------
r1749 | oetiker | 2009-02-21 10:43:58 +0100 | 2 lines

Misc documentation fixes by Alex van den Bogaerdt

------------------------------------------------------------------------
r1748 | oetiker | 2009-02-21 10:23:04 +0100 | 2 lines

Documentation fixes by  Bernhard Reutner-Fischer 

------------------------------------------------------------------------
r1745 | oetiker | 2009-01-25 23:39:34 +0100 | 2 lines

added doc on new graphv graph_start und graph_end info variables

------------------------------------------------------------------------
r1744 | oetiker | 2009-01-25 23:02:57 +0100 | 2 lines

fix type conversion error (on windows) unsigned/signed affecting timestamps on rrd_dump.

------------------------------------------------------------------------
r1742 | oetiker | 2009-01-25 22:52:25 +0100 | 2 lines

rename ntmake.pl to ntmake.PL so that it does not get installed

------------------------------------------------------------------------
r1741 | oetiker | 2009-01-25 19:38:34 +0100 | 2 lines

define cwd where we need it and not outside

------------------------------------------------------------------------
r1733 | oetiker | 2009-01-14 09:14:31 +0100 | 5 lines

In rrd_graph: the width/height values are written into rrd_infoval_t's u_cnt
but read out of u_int (u_long vs. int). This breaks on LP64BE. Patch by
Rafal Boni rafal pobox.com


------------------------------------------------------------------------
r1732 | oetiker | 2009-01-14 08:22:09 +0100 | 2 lines

added percentnan (VDEF PERCENT variant that ignores NAN) -- patch by Martin Sperl

------------------------------------------------------------------------
r1726 | oetiker | 2009-01-06 17:32:16 +0100 | 2 lines

with MMAP enabled rrd resize GROW was broken ... this fixes it ...

------------------------------------------------------------------------
r1725 | oetiker | 2009-01-06 16:45:53 +0100 | 2 lines

TICK with negative numbers should 'start from the top of the graph' looking down ... now it does.

------------------------------------------------------------------------
r1724 | oetiker | 2009-01-06 15:54:41 +0100 | 2 lines

fix for segfault in rrd_cgi: caused by freeing a invalid address when printing an error message.

------------------------------------------------------------------------
r1723 | oetiker | 2008-12-26 09:05:03 +0100 | 2 lines

Include libgen.h to get prototype for basename in a POSIX conformant way. Fix for #202.

------------------------------------------------------------------------
r1722 | oetiker | 2008-12-26 09:03:06 +0100 | 2 lines

improvements for build docs by Zorzoli, Pablo

------------------------------------------------------------------------
r1721 | oetiker | 2008-12-22 22:23:49 +0100 | 2 lines

should free memory after a successful fetch too ...

------------------------------------------------------------------------
r1720 | oetiker | 2008-12-22 22:23:04 +0100 | 2 lines

documentation fixes

------------------------------------------------------------------------
r1718 | oetiker | 2008-12-22 08:21:46 +0100 | 2 lines

Fix for POD error by Sebasian Harl

------------------------------------------------------------------------
r1717 | oetiker | 2008-12-22 08:20:17 +0100 | 2 lines

Fixes some typos by Sebastian Harl.

------------------------------------------------------------------------
r1716 | oetiker | 2008-12-19 15:26:47 +0100 | 8 lines

win32 fixes by Stefan . Ludewig . exitgames . com

* added portable plbasename since basename is not available on stock win32
* rrd_update was using %d to show a timestamp ... %lli is better
  since it also will show 64bit time_t correctly.



------------------------------------------------------------------------
r1715 | oetiker | 2008-12-19 00:56:52 +0100 | 2 lines

fix extra dist to include missing win32 files

------------------------------------------------------------------------
r1708 | oetiker | 2008-12-11 15:31:16 +0100 | 2 lines

fixed another seek issue ... 

------------------------------------------------------------------------
r1707 | oetiker | 2008-12-11 11:01:33 +0100 | 5 lines

The spec file for building the rrdtool as an RPM that comes with the 
release is not "friendly" to older versions of RHEL and derivatives.
-- Martin Sperl <rrdtool@martin.sperl.org>


------------------------------------------------------------------------
r1706 | oetiker | 2008-12-11 10:59:10 +0100 | 2 lines

include luapod into distro

------------------------------------------------------------------------
r1705 | oetiker | 2008-12-10 14:18:10 +0100 | 4 lines

On some architectures, strtod does not turn "NaN" into 'Not A Number (NAN)'
se we better provide our own code here.


------------------------------------------------------------------------
r1703 | oetiker | 2008-12-10 13:42:46 +0100 | 4 lines

rrdtool dump is now backward compatible with rrdtool 1.3 dump again. Default is --header=dtd and
--no-header is an alias for --header=none


------------------------------------------------------------------------
r1702 | oetiker | 2008-12-10 09:29:38 +0100 | 2 lines

minichange

------------------------------------------------------------------------
r1701 | oetiker | 2008-12-09 19:30:43 +0100 | 4 lines

* forward ported right axis patch from 1.2 branche
* fixed --full-size-mode sizing issue when used in combination with --title
the work in the axis patch has been sponsored by VoltWerk.

------------------------------------------------------------------------
r1700 | oetiker | 2008-12-08 17:07:27 +0100 | 2 lines

Fix for last method in ruby bindings -- Hiroyuki Ikezoe

------------------------------------------------------------------------
r1699 | oetiker | 2008-12-05 16:39:55 +0100 | 2 lines

integrate osx build hints as indicated in #192

------------------------------------------------------------------------
r1697 | oetiker | 2008-12-05 16:23:45 +0100 | 2 lines

deleted a bit much from rrd_open ... merged back in

------------------------------------------------------------------------
r1696 | oetiker | 2008-12-05 16:18:11 +0100 | 4 lines

check for broken implementations of msync / MS_ASYNC where
the mtime does not get updated. warn and explicitly call utime
in rrd_open when a file is opened rw.

------------------------------------------------------------------------
r1695 | oetiker | 2008-12-05 11:23:46 +0100 | 2 lines

added rrdcached examples to extra_dist to make sure they get distributed

------------------------------------------------------------------------
r1694 | oetiker | 2008-12-04 17:01:37 +0100 | 2 lines

Legends should NOT be placed in reverse order when using --full-size-mode ... this fixed #198.

------------------------------------------------------------------------
r1693 | oetiker | 2008-12-04 16:49:11 +0100 | 2 lines

add de-referencing to step in fetch check

------------------------------------------------------------------------
r1692 | oetiker | 2008-12-04 16:48:39 +0100 | 2 lines

fix merg error with win32 port

------------------------------------------------------------------------
r1691 | oetiker | 2008-12-04 10:03:48 +0100 | 2 lines

Catch CDEF:tot= and raise and error to fix #199. Thanks to Jeron Massar for reporting this.

------------------------------------------------------------------------
r1690 | oetiker | 2008-12-04 08:02:56 +0100 | 4 lines

Update to WIN32-BUILD-TIPS.txt and VC project files so that the rrdtool.exe can be built too.
-- Stefan Ludewig Stefan.Ludewig exitgames.com


------------------------------------------------------------------------
r1689 | oetiker | 2008-12-03 12:08:48 +0100 | 4 lines

When fetching data from 'past' an rra, rrd_fetch was seeking past the rrd
file. This did cause seek errors in some setups. Fixed. Thanks to Daniel Pocock for finding the problem.


------------------------------------------------------------------------
r1686 | oetiker | 2008-12-03 10:54:09 +0100 | 2 lines

integrated rrdcached examples into build process

------------------------------------------------------------------------
r1685 | oetiker | 2008-12-03 09:47:56 +0100 | 2 lines

add rrdcached examples -- kevin

------------------------------------------------------------------------
r1683 | oetiker | 2008-12-02 13:35:02 +0100 | 2 lines

fixed solaris build instructions

------------------------------------------------------------------------
r1682 | oetiker | 2008-12-01 12:05:52 +0100 | 2 lines

added libdbi doc to extradist

------------------------------------------------------------------------
r1678 | oetiker | 2008-11-20 14:04:38 +0100 | 27 lines

Attached a patch for the rrd-tool LIBDBI integration with the following improvements:

a) correct error handling in case of libdbi being unable to load the driver
   was producing segmentation faults.

b) better parsing of datasources

   * until now timestamp fields had to be integer and had to contain a unix
     timestamp - now you can now also use DateTime fields (you still need to
     specify it, as the time-range needs to be defined correctly)

   * data fields are now no longer limited to (var)char or DOUBLE fields -
     FLOAT, INTEGER,... are now also supported.

c) there is a bug with at least LIBDBI 0.8.1 in conjunction with mysql that
   can result in segmentation faults when BINARY/BLOB fields are accessed -
   rrdtool will now tell you about this fact before dying ;)

d) also the value of rrdderivemaxstep only gets applied if derive has been
   selected correctly.

e) "GROUP BY timestamp" has been removed from SQL statement.

f) "ORDER BY timestamp" will be added only in the case of fetching "derived" data.

-- Martin Sperl

------------------------------------------------------------------------
r1677 | oetiker | 2008-11-18 18:19:17 +0100 | 5 lines

win32 portability patch and win32/rrdlib.vcproj file for the source
-- christof wegmann Christof.Wegmann with exitgames.com
some fixes to make the result work on unix again ...


------------------------------------------------------------------------
r1674 | oetiker | 2008-11-18 08:14:10 +0100 | 2 lines

missing , added to  help string

------------------------------------------------------------------------
r1672 | oetiker | 2008-11-17 17:21:41 +0100 | 2 lines

added build instruction for libdbi docu

------------------------------------------------------------------------
r1670 | oetiker | 2008-11-16 23:24:44 +0100 | 2 lines

missing pod files

------------------------------------------------------------------------
r1669 | oetiker | 2008-11-15 15:35:51 +0100 | 2 lines

switch tu using AS_HELP_STRING for formatting ...

------------------------------------------------------------------------
r1668 | oetiker | 2008-11-15 15:15:38 +0100 | 3 lines

fix typo in handle_request_help
--kevin

------------------------------------------------------------------------
r1667 | oetiker | 2008-11-15 15:14:19 +0100 | 8 lines

doc fixups for rrdcacehd

 * documented the -p option
 * added nbsp between option and argument
 * layout one option per line

--kevin

------------------------------------------------------------------------
r1666 | oetiker | 2008-11-11 17:36:45 +0100 | 2 lines

make basename work

------------------------------------------------------------------------
r1665 | oetiker | 2008-11-11 17:36:13 +0100 | 14 lines

This patch allows for multiple RRD writer threads to service the queue.

Now, rrdcached can have more simultaneous I/O requests into the kernel.
This may allow the kernel to re-order disk writes, resulting in better
disk throughput.  In practice, throughput is increased by 2-3x.

The flush (-f) timer maintenance has been moved from queue_thread_main
into its own thread.

Be more careful about when to use pthread_cond_signal vs _broadcast, since
multiple threads may be waiting on &queue_cond.

--kevin

------------------------------------------------------------------------
r1663 | oetiker | 2008-11-09 20:19:48 +0100 | 2 lines

be even more liberal with NOT using isfinite on solaris2.8

------------------------------------------------------------------------
r1662 | oetiker | 2008-11-09 01:00:33 +0100 | 2 lines

use basename to determine filename for imginfo as suggested by sebastian

------------------------------------------------------------------------
r1661 | oetiker | 2008-11-08 23:57:38 +0100 | 3 lines

 rrdcached: move queue length decrement into remove_from_queue
-- kevin

------------------------------------------------------------------------
r1660 | oetiker | 2008-11-08 23:57:18 +0100 | 3 lines

rrdcached: examine the current queue with the "QUEUE" command
-- kevin

------------------------------------------------------------------------
r1659 | oetiker | 2008-11-08 23:50:51 +0100 | 4 lines

This helps with portability on platforms where realloc doesn't handle NULL.
-- kevin


------------------------------------------------------------------------
r1658 | oetiker | 2008-11-08 19:01:33 +0100 | 3 lines

document the "QUIT" command -- kevin


------------------------------------------------------------------------
r1657 | oetiker | 2008-11-08 19:01:01 +0100 | 4 lines

rrdcached: journal_replay default failure reason, just in case
avoids a "may be used uninitialized" warning -- kevin


------------------------------------------------------------------------
r1656 | oetiker | 2008-11-08 19:00:21 +0100 | 3 lines

added "quit" command -- kevin


------------------------------------------------------------------------
r1655 | oetiker | 2008-11-08 18:57:32 +0100 | 9 lines

rrdcached now frees all of its resources correctly.  This facilitates
memory debugging.  g_tree now knows how to free the nodes when it removes
them.

Also, use g_tree_replace instead of g_tree_insert.  This fixes a bug
triggered when the same file was simultaneously inserted by two clients.

--kevin

------------------------------------------------------------------------
r1654 | oetiker | 2008-11-08 18:56:48 +0100 | 2 lines

do not quit when libdbi is missing

------------------------------------------------------------------------
r1653 | oetiker | 2008-11-07 23:46:40 +0100 | 2 lines

fixed --font TITLE:12: problem -- tobi

------------------------------------------------------------------------
r1652 | oetiker | 2008-11-07 23:23:16 +0100 | 2 lines

fix scaling issue -- Martin

------------------------------------------------------------------------
r1651 | oetiker | 2008-11-07 15:09:29 +0100 | 2 lines

extra file to make libdbi patch work

------------------------------------------------------------------------
r1650 | oetiker | 2008-11-07 15:07:53 +0100 | 38 lines

As some of you may know that I have created  a patch for rrdtool 1.2 a few years ago, so that a database could be queried  for
values for graphing.

The patch has been mostly rewritten and the following changes have been made:

   * high dependency on mysql has been reduced by avoiding the
     temporary tables (which was bad for mysql replication)
   * The number of executed SQL-Statements for one CDEF has been
     reduced to 1 compared to 11 SQLs (including CREATE TEMPORARY
     TABLE) - for patch against version 1.2
   * All consolidation is done in rrdtool itself (MIN,MAX,AVERAGE)
   * Additional consolidation functions are COUNT and SIGMA, which give
     information on statistics on a per "time-bin" basis.
   * All these consolidation values are always returned as separate
     columns, that are returned by RRD and the consolidation function
     given as Argument is ignored.
     Main reason is that this way there is only one call to rrd_fetcht
     and thus the database even if we need to fetch for example min,
     avg and max. Compare this to 3 calls in case of different
     consolidation functions - and if you want to get SIGMA and COUNT
     as well it is still only one call to the backend and the database.
   * Some previous existing features have been taken out at the moment
     to allow for this reduced set of SQL queries.
         o prediction using the values from the last X days at the same
           time
         o the corresponding sigma calculation
   * The idea is to create generic CDEF's that will do the same thing,
     but that is also available when using RRD-files (similar to TREND,
     but with another scope)
     This will get posted as a separate patch.
   * Overall performance should be much better and the patch as a whole
     simpler.
   * The patch also includes modifications to the configuration
     infrastructure, to make libdbi support optional.

-- Martin Sperl


------------------------------------------------------------------------
r1649 | oetiker | 2008-11-07 15:02:09 +0100 | 3 lines

new CDEF functions for predictions PREDICT and PREDICTSIGMA
-- Martin Sperl

------------------------------------------------------------------------
r1648 | oetiker | 2008-11-07 14:51:24 +0100 | 10 lines

Much simpler handling of timestamp errors.  Return an error to the user
when any of the time stamp values are invalid.  This is similar to
RRDTool's normal behavior.  Removed the complex logic previously used to
return error codes to the user.

This solves a bug where non-advancing timestamps could have produced
incorrect error output during "BATCH" mode.  The bug was cause by using
the sock->wbuf pointer for the error output. -- kevin brintnall


------------------------------------------------------------------------
r1647 | oetiker | 2008-11-07 14:45:34 +0100 | 4 lines

rrdcached: pull in rrd_config.h so we can use its defines
... particularly HAVE_VSNPRINTF --  kevin brintnall 


------------------------------------------------------------------------
r1645 | oetiker | 2008-11-04 08:12:46 +0100 | 15 lines

I realize now that the problem is the line

    test -f lua/Makefile && cd lua && $(MAKE) install || true

in the target "install-data-local", in bindings/Makefile.am. It forces
execution of bindings/lua/Makefile independently of lua being found or
not. I added that line in my first patch, following perl, python and
ruby build style, but it's not needed after I switched to automake. The
make recursion is controlled by SUBDIRS, which will only contain "lua"
if BUILD_LUA is true.

-- Fidelis Assis



------------------------------------------------------------------------
r1644 | oetiker | 2008-11-02 18:25:36 +0100 | 2 lines

fix build process for systems without lua

------------------------------------------------------------------------
r1643 | oetiker | 2008-11-02 18:09:36 +0100 | 3 lines

PTHREAD_COND_INITIALIZER may only be used to initialize static cond variables.
-- Sebastian Harl

------------------------------------------------------------------------
r1642 | oetiker | 2008-11-02 16:25:48 +0100 | 2 lines

reverting non build makefile patch ... we need to lua makefile for building the ditribution

------------------------------------------------------------------------
r1641 | oetiker | 2008-11-01 10:09:07 +0100 | 2 lines

do not create the lua makefile if lua is not to be compiled.

------------------------------------------------------------------------
r1638 | oetiker | 2008-10-30 15:32:09 +0100 | 2 lines

fix from alex

------------------------------------------------------------------------
r1637 | oetiker | 2008-10-28 09:57:13 +0100 | 5 lines

- remove the spaccing between the elements
- add xsd support to dump output
- change the argument "[--no-header|-n]" to [--header|-h {xsd,dtd}]
-- tobias.lindenmann 1und1.de

------------------------------------------------------------------------
r1632 | oetiker | 2008-10-26 16:18:33 +0100 | 2 lines

make compilation on older OSX versios work by removing the # from the librrd.sym file

------------------------------------------------------------------------
r1628 | oetiker | 2008-10-24 08:20:21 +0200 | 2 lines

fixed typo ... GAUGE not GUAGE

------------------------------------------------------------------------
r1627 | oetiker | 2008-10-22 22:41:59 +0200 | 4 lines

The previous code relied on the assumption that pthread_cond_init(&cond)
was equivalent to memset(&cond,0).  This may not be true on all platforms.
-- kevin

------------------------------------------------------------------------
r1626 | oetiker | 2008-10-22 08:02:23 +0200 | 15 lines

remove_cache_item() did not check whether a file was in queue before
modifying the cache head/tail pointers.  Therefore, the process of
flushing old files may perturb the cache_queue_head pointer.  This caused
some nodes with CI_FLAGS_IN_QUEUE to be un-linked from the queue list.

Thereafter, they would not be flushed by any periodic process (although
they could be revived with FLUSH or UPDATE).  This caused a slow memory
leak for files that are no longer updated.  Pending updates for these
"abandoned" files would remain in memory ad infinitum.

With this patch, remove_from_queue() will check that the item is queued
before modifying the head/tail pointers.  This restores the intended
behavior.
--kevin

------------------------------------------------------------------------
r1625 | oetiker | 2008-10-22 07:08:47 +0200 | 2 lines

this was replaced by Makefile.am

------------------------------------------------------------------------
r1624 | oetiker | 2008-10-21 08:10:32 +0200 | 2 lines

guess one needs that in svn too for luabindings to work

------------------------------------------------------------------------
r1623 | oetiker | 2008-10-21 07:42:50 +0200 | 13 lines

 * Open all listen sockets in daemonize(), while we still have stderr.
   Changed open_listen_socket_* routines to complain to stderr.  Now, any
   errors in binding to the listen sockets are much more obvious.

 * Simplified exit of parent after fork()

 * PID file will be correctly cleaned up if there is a failure in daemonize().

 * unlink the unix socket before trying to bind()
   (after we're sure we have the PID file)

-- kevin

------------------------------------------------------------------------
r1622 | oetiker | 2008-10-20 13:46:08 +0200 | 9 lines

rrd_notify_row patch:

 - Delegate choice of starting row for newly created RRD  files to the  rrd_open.c API.
 - Introduce the rrd_notify_row() function so that an implementation can choose to align the rows of new RRDs with existing  RRDs, if desirable.
 - Maintain the existing behaviour (random starting row) by default.

-- Daniel.Pocock


------------------------------------------------------------------------
r1621 | oetiker | 2008-10-20 08:06:16 +0200 | 4 lines

- Lua module build and install process rewritten using automake+libtool
- improved check for compat-5.1 availability
-- Fidelis Assis

------------------------------------------------------------------------
r1620 | oetiker | 2008-10-19 00:32:19 +0200 | 6 lines

rrd_open should not create files with restrictive masks

Removed unnecessary "mode" varaible.  The mode is only used when O_CREAT is
specified, where we want to use 0666 (as rrd_create_fn did r<=1612).
--kevin

------------------------------------------------------------------------
r1619 | oetiker | 2008-10-18 17:50:07 +0200 | 7 lines

- encapsulate fd and mmap related variables within a private data
structure
- rrd_file_t keeps a pointer to the private data structure of type
void*, so that other block storage implementations can store their
internal data with rrd_file_t
-- Daniel.Pocock

------------------------------------------------------------------------
r1618 | oetiker | 2008-10-17 07:50:22 +0200 | 3 lines

rrdc_flush_if_daemon should not clobber error message -- kevin (as suggested by Sebastian)


------------------------------------------------------------------------
r1617 | oetiker | 2008-10-17 07:44:09 +0200 | 2 lines

use double for legend positioning to fight wiggle

------------------------------------------------------------------------
r1616 | oetiker | 2008-10-16 23:33:08 +0200 | 5 lines

fix version numbers in compile instructions
tobi



------------------------------------------------------------------------
r1614 | oetiker | 2008-10-16 23:30:17 +0200 | 4 lines

In almost all cases where rrdc_flush can fail, it will leave a more
descriptive error message anyway..  better not overwrite it.
-- kevin

------------------------------------------------------------------------
r1613 | oetiker | 2008-10-16 23:12:27 +0200 | 14 lines

- rrd_open() calculates file size for new files and calls mmap once for
the whole file

- rrd_resize() cleaned up, no longer passing a size through the cookie
argument

- rrd_init(&my_rrd) must be called before rrd_open() - if people are
calling rrd_open directly from application code, this might be
troublesome.  Alternative solutions: creating an additional function,
rrd_open_create(), or adding an extra argument to rrd_open() for setting
the file size

-- Daniel Pocock

------------------------------------------------------------------------
r1612 | oetiker | 2008-10-16 23:05:51 +0200 | 2 lines

move rrd_lock into rrd_open where the general rrd_file ops are located. -- Daniel Pocock

------------------------------------------------------------------------
r1610 | oetiker | 2008-10-16 08:11:54 +0200 | 3 lines

error reporting caused crash in journal replay


------------------------------------------------------------------------
r1609 | oetiker | 2008-10-16 08:11:44 +0200 | 2 lines

better build docs

------------------------------------------------------------------------
r1607 | oetiker | 2008-10-15 07:29:41 +0200 | 2 lines

reverted r1601 and r1606 since r1601 introduced a non portable mremap and r1606 has a dependency on r1601.

------------------------------------------------------------------------
r1606 | oetiker | 2008-10-14 22:14:35 +0200 | 15 lines

This moves selection of the initial RRA row into the rrd_open.c API

The current implementation (random row) is used by default.  However, it
now provides an opportunity for alternative implementations to integrate
with rrdtool in a single place.

Maybe there are other places in rrdtool where I should insert calls to
the function rrd_notify_row()?

This has been tested with rrdtool create and rrdtool info to verify that
random rows are selected by default (existing behaviour preserved).

-- Daniel Pocock


------------------------------------------------------------------------
r1605 | oetiker | 2008-10-14 21:23:24 +0200 | 8 lines

Under most circumstances, rrdcached can detect a stale pid file.

If the process in the pid file does not exist, or cannot be signalled by
the rrdcached owner, then rrdcached will replace the pid file and start
normally.  Otherwise, it will complain verbosely to STDERR.

--kevin

------------------------------------------------------------------------
r1604 | oetiker | 2008-10-14 21:08:56 +0200 | 12 lines

 * this preserves principle of least surprise when dealing with files that
   are reachable via many path strings.  i.e. when $PWD=/base/dir the
   following files are the same:

        /base/dir/x.rrd
        x.rrd
        ../dir/x.rrd

 * for performance, absolute paths (starting with '/') are not resolved.
   this reduces the number of stat(2) system calls.


------------------------------------------------------------------------
r1603 | oetiker | 2008-10-14 21:08:36 +0200 | 15 lines

Now, the daemon will check that a base directory is NOT reached via
symbolic link.  Documentation added to illustrate the restriction.

This allows several simplifying (and performance-enhancing) assumptions to
be made elsewhere in the code:

 * it ensures that paths resolved in the client via realpath() will match
   our data structure keys

 * it's possible to generate the correct absolute path when given a
   relative path by simply prepending the base directory

 * it's not necessary to resolve paths that begin with '/'
 -- kevin

------------------------------------------------------------------------
r1602 | oetiker | 2008-10-14 21:08:00 +0200 | 2 lines

rrdcached treats relative and absolute paths the same -- kevin

------------------------------------------------------------------------
r1601 | oetiker | 2008-10-14 13:33:37 +0200 | 13 lines

Some observations I made while implementing this:

- In rrd_open(), the call to rrd_init() clobbers values already populated in
rrd_create.c

- The logic for newfile_size in rrd_open() wasn't really able to cope with the
logic for a file starting with size 0

I've tried to deal with these issues, but maybe there is a more elegant solution.

-- Daniel Pocock


------------------------------------------------------------------------
r1600 | oetiker | 2008-10-14 08:37:19 +0200 | 3 lines

clearer way of advancing the flush time
-- kevin

------------------------------------------------------------------------
r1599 | oetiker | 2008-10-14 00:07:14 +0200 | 18 lines

This patch reduces the number of time()/gettimeofday() system calls when
doing high volume processing.  This enables about 25% speed increase
during journal replay and "BATCH" processing.  (this is a function of
syscall overhead).

 * note when "BATCH" processing or journal replay starts, use that
   timestamp for all commands

 * use the batch start time to detect when we're in batch mode.  no longer
   need a separate boolean.

 * pass the time_t into handle_request

 * pass the time_t through to the commands that need it

-- kevin brintnall


------------------------------------------------------------------------
r1598 | oetiker | 2008-10-13 20:41:12 +0200 | 3 lines

fixed bad folding marker (on handle_request_flush)
-- kevin

------------------------------------------------------------------------
r1597 | oetiker | 2008-10-11 11:53:40 +0200 | 4 lines

this ensures that the response is protocol-compliant even if additional
info has been added to the write buffer during processing.
-- kevin brintnall

------------------------------------------------------------------------
r1596 | oetiker | 2008-10-11 11:37:53 +0200 | 10 lines

This patch introduces a feature whereby rrdcached will disallow updates
that do not advance the update time.  This prevents the updates from being
discarded later by rrd_update_r.

This patch attempts to make the most of the protocol's limited ability to
return error text when using a -1 return code.

-- kevin brintnall 


------------------------------------------------------------------------
r1595 | oetiker | 2008-10-10 07:21:19 +0200 | 5 lines

This patch ensures that when rrdcached is stopped, it cleans up the
pid file.  Apparently this is necessary if RRDCACHED_USER is not the
default "rrdcached".
-- Bernard Li

------------------------------------------------------------------------
r1594 | oetiker | 2008-10-10 07:21:01 +0200 | 4 lines

The patch I submitted for rrdtool.spec introduced a bug where there
are two ldconfig calls in the %postun section.  This patch fixes that.
--  Bernard Li 

------------------------------------------------------------------------
r1593 | oetiker | 2008-10-10 07:19:06 +0200 | 11 lines

This patch does two things:

- remove the --pidfile check, for compatibility with older RHEL/Centos
  systems

- update the username used by the init script, to remain consistent with
  Bernard's changes to the spec file

-- Daniel.Pocock


------------------------------------------------------------------------
r1592 | oetiker | 2008-10-08 22:47:04 +0200 | 2 lines

Split-out rrd-cached subpackage -- Bernard Li

------------------------------------------------------------------------
r1591 | oetiker | 2008-10-08 07:49:24 +0200 | 5 lines

This patch updates the spec file and includes the librrd.pc file in
the -devel subpackage so that you can build the RPM again.
-- Bernard


------------------------------------------------------------------------
r1590 | oetiker | 2008-10-08 07:47:39 +0200 | 2 lines

fix crash reported by Bernard Li - connection_thread_main: avoid double calls to close_connection -- kevin

------------------------------------------------------------------------
r1589 | oetiker | 2008-10-08 07:46:21 +0200 | 1 line

fixed typo
------------------------------------------------------------------------
r1588 | oetiker | 2008-10-07 23:10:54 +0200 | 7 lines

This patch introduces two new commands for cache management:

 PENDING: shows any un-written updates for a file
 FORGET : remove a file completely from cache

-- kevin brintnall

------------------------------------------------------------------------
r1587 | oetiker | 2008-10-07 23:08:30 +0200 | 15 lines

This patch moves the permission handling code around a bit.

 * moved privilege checks into the command handler functions
   (possible now that we pass the sock data structures around)

 * on UPDATE, delay journal_write until after check_file_access().
   previously, it was possible for a high-priv socket to introduce
   commands into the journal that could be replayed if they were
   still in the journal at next startup.

 * moved has_privilege() further up in the file to avoid need
   for prototype.

--  kevin brintnall

------------------------------------------------------------------------
r1586 | oetiker | 2008-10-07 18:28:24 +0200 | 24 lines

This patch introduces some extra safety checks in journal processing,
and cleans up the code a little bit.

 * moved journal initialization to its own function; main() is cleaner

 * any time we process a file, log the results
   (previous code only loggded if there was a valid entry)

 * After reading journals at startup, only trigger full flush out to disk
   if the user specified -F.  Avoids unnecessary IO on startup unless the
   user also wants unnecessary IO on shutdown.

 * journal_replay is much more careful about files it will open
     * must be a regular file
     * must be owned by daemon user
     * must not be group/other writable

 * Ensure that the journal gets created with the right permissions.
    ... even when the daemon is invoked with a permissive umask.
    equivalent to "chmod a-x,go-w"

-- kevin


------------------------------------------------------------------------
r1584 | oetiker | 2008-10-07 17:37:34 +0200 | 4 lines

aniel Pocock reported that the argument may be NULL in low-diskspace
situations, so check for that here to prevent a segmentation fault.
-- Florian Forster

------------------------------------------------------------------------
r1583 | oetiker | 2008-10-06 21:14:17 +0200 | 2 lines

Makefile.lua is now generated

------------------------------------------------------------------------
r1582 | oetiker | 2008-10-06 21:13:30 +0200 | 2 lines

added missing file from lua 5.0 integration patch

------------------------------------------------------------------------
r1581 | oetiker | 2008-10-06 21:05:47 +0200 | 12 lines

This patch introduces "BATCH" mode.

In this mode, a client can feed multiple commands to rrdcached without
waiting for acknowledgement.  This permits multiple commands to be sent
for each read()/write().  This can dramatically increase the command
throughput by increasing the amount of work done per system call.

It enables over 100k updates/second with no CPU
utilization due to the reduced system calls.

-- kevin brintnall

------------------------------------------------------------------------
r1580 | oetiker | 2008-10-06 21:04:48 +0200 | 15 lines

This patch introduces buffered I/O to rrdcached.  Now, rrdcached can
interpret as many commands as arrive in a single read(), and it will use
fewer write()s when there are multiple output lines.

All routines now pass around listen_socket_t objects instead of file
descriptors.

All I/O is now contained in two routines.  It's no longer necessary to
specify the line count in multi-line outputs, since that is calculated
automatically.

This is the foundation for accepting batched commands.
-- kevin brintnall


------------------------------------------------------------------------
r1579 | oetiker | 2008-10-06 07:05:19 +0200 | 2 lines

Support to Lua 5.0 -- Fidelis Assis

------------------------------------------------------------------------
r1575 | oetiker | 2008-10-04 18:05:11 +0200 | 3 lines

initial librrd file added ... this will need more love since it does
not pick up any -rpath settings

------------------------------------------------------------------------
r1571 | oetiker | 2008-10-04 15:34:54 +0200 | 3 lines

* rrd_resize fixed so that it does NOT alter the original file (mmap side effect)
* rrd_resize can can deal with version 4 files, so let it

------------------------------------------------------------------------
r1570 | oetiker | 2008-10-04 00:53:28 +0200 | 11 lines

The patch fixs rrdtools behaviour when presented with trunkated rrd files.

  * Make sure that we do not extend past the end of the
    file when reading the header.

  * Makes sure that the data portion of the file is large enough, based on
    the ds_cnt and the total number of RRA rows

-- kevin brintnall


------------------------------------------------------------------------
r1567 | oetiker | 2008-10-02 21:17:18 +0200 | 2 lines

folding fix

------------------------------------------------------------------------
r1566 | oetiker | 2008-10-02 21:08:30 +0200 | 3 lines

missing spaces in extconf.rb caused compile failure -- kevin


------------------------------------------------------------------------
r1565 | oetiker | 2008-10-02 19:17:58 +0200 | 2 lines

permission fix for rrdcached socket -- Daniel.Pocock

------------------------------------------------------------------------
r1559 | oetiker | 2008-10-01 22:22:57 +0200 | 3 lines

since rrdcached uses pthread functions, use the threadsafe version of librrd as well. This will
also reasolve build problems on boxes there the ptherad functions must be linked explicitly.

------------------------------------------------------------------------
r1558 | oetiker | 2008-10-01 22:04:47 +0200 | 2 lines

Clearer explanation on which paths are permitted when -B is supplied -- kevin

------------------------------------------------------------------------
r1557 | oetiker | 2008-10-01 22:01:43 +0200 | 26 lines

Fixes for the following compiler warnings:

 - unused variable
 - unused parameter
 - assignment / argument discards qualifiers from pointer target type
 - comparison between signed and unsigned
 - too many arguments to function
 - assignment makes pointer from integer without a cast
 - incompatible pointer type
 - differ in signedness
 - implicit declaration of function
 - enumeration value not handled in switch
 - value computed is not used

Most notably, a possible segfault in the Rrd_Lastupdate() code of the TCL
bindings has been fixed.

Also, -Wundef (warn if an undefined identifier is evaluated in an #if
directive) has been removed from CFLAGS. I don't see any problem with letting
undefined identifiers evaluate to "false" in rrdtool. Keeping that option
would produce a lot of (imho unnecessary) errors which would need to be fixed
using ugly preprocessor statements like '#if defined(FOO) && FOO'.

-- Sebastian Harl 


------------------------------------------------------------------------
r1556 | oetiker | 2008-10-01 21:48:15 +0200 | 15 lines

I've adapted an init script for rrdcached, and also incorporated it into
the spec file so that it is deployed with the RPM.

There are also some other changes to the spec file so that I could build
an RPM successfully from trunk.  I'm happy to tidy up the spec file some
more if no one else wants to mandate the best way to do it.

By default, rrdcached runs as nobody.  I've tested this on a server
running Ganglia gmetad.

Regards,

Daniel


------------------------------------------------------------------------
r1555 | oetiker | 2008-10-01 21:44:36 +0200 | 11 lines

Now, moving a value to the head of the queue is O(1).  Before it was
O(queue size).  This improves performance of individual flushes when
there is a large number of files in the queue.  As a result, we don't
hold the cache_lock as much.

Revamped enqueue_cache_item to take advantage of the new structure.

Renamed _wipe_ci_values to look nicer with other code.

--kevin

------------------------------------------------------------------------
r1552 | oetiker | 2008-10-01 18:53:56 +0200 | 2 lines

lcd is actually gcd!

------------------------------------------------------------------------
r1551 | oetiker | 2008-09-30 20:44:03 +0200 | 4 lines

When -B is specified, the daemon will only operate on files within the
base directory.  Symlink detection is omitted for performance reasons (if
a user can create a symlink, they can probably overwrite the RRDs anyway). -- kevin

------------------------------------------------------------------------
r1550 | oetiker | 2008-09-30 20:43:15 +0200 | 2 lines

 check permissions before writing to journal -- kevin

------------------------------------------------------------------------
r1549 | oetiker | 2008-09-30 20:42:34 +0200 | 3 lines

The daemon should behave the same way w/r/t files whether we "-g" or not.
-- kevin

------------------------------------------------------------------------
r1548 | oetiker | 2008-09-29 22:00:34 +0200 | 6 lines

This bug caused the last line in each journal file to be processed a
second time.  Since it had been modified due to tokenizing, it failed
syntax check.  The daemon would always record one failed line at
end-of-journal as a result.  No data loss incurred by this bug. -- kevin


------------------------------------------------------------------------
r1547 | oetiker | 2008-09-29 21:58:34 +0200 | 13 lines

This patch introduces the concept of socket privilege levels.  "UPDATE"
and "FLUSHALL" commands are restricted to high-privilege sockets.  "FLUSH"
commands can be executed on any socket.  This is ideal for multi-user
installations where only certain users need write access to the RRD files.

Now, nearly all socket information is passed around the daemon in
listen_socket_t data structures.  In case there is other per-socket state
(i.e. if we add authentication) we can put it there.

Also, I created a new "open_listen_socket_network" and removed the network
setup from "open_listen_socket". -- kevin


------------------------------------------------------------------------
r1546 | oetiker | 2008-09-29 21:56:10 +0200 | 6 lines

This patch provides better error messages to the client when something
goes wrong with the daemon.  When possible, the daemon error message is
passed through to rrd_set_error() on the client.  Prior to this patch,
most error conditions would result in "Internal error", which is not very
helpful. -- kevin brintnall

------------------------------------------------------------------------
r1543 | oetiker | 2008-09-28 23:37:46 +0200 | 2 lines

spelling fix -- kevin

------------------------------------------------------------------------
r1542 | oetiker | 2008-09-28 23:36:46 +0200 | 4 lines

This patch removes an extra "SIGNALS" section in the rrdcached.pod and
merges "[BUG] fixed hang in flush_file() introduced by per-file flush
condition". --  kevin brintnall

------------------------------------------------------------------------
r1541 | oetiker | 2008-09-28 21:27:45 +0200 | 3 lines

a few missing {{{ folding }}} markers added
-- kevin brintnall

------------------------------------------------------------------------
r1540 | oetiker | 2008-09-28 21:26:39 +0200 | 3 lines

This patch introduces "fast shutdown" mode and two new signals.
-- kevin brintnall 

------------------------------------------------------------------------
r1539 | oetiker | 2008-09-28 21:25:40 +0200 | 4 lines

Moved signal handler setup out of daemonize().  Coalesced common code
in preparation for new signals.  Documented behavior of existing signals.
-- kevin brintnall

------------------------------------------------------------------------
r1537 | oetiker | 2008-09-28 21:23:23 +0200 | 9 lines

Attached is a patch to lower the version requirements of libtool and
automake.  I have tested this on CentOS 4.x with the specified
versions of libtool and automake and was able to build RRDTool fine.
I did *not* test building with PHP, tcl, ruby or Python though.

I also abstracted the version numbers of all the dependencies such
that editing them in the future will be easier.
-- Bernard Li

------------------------------------------------------------------------
r1535 | oetiker | 2008-09-28 21:12:22 +0200 | 2 lines

added support for FLUSHALL command -- kevin brintnall

------------------------------------------------------------------------
r1534 | oetiker | 2008-09-28 21:10:57 +0200 | 1 line

move cache broadcast into enqueue_cache_item -- kevin brintnall
------------------------------------------------------------------------
r1533 | oetiker | 2008-09-28 21:10:15 +0200 | 6 lines

When -z <jitter> is specified, some updates may be timestamped up to
<jitter> seconcds in the future.  Therefore, a timeout of now+1 may not be
sufficient.  Set abs_timeout past the point where any updates are
currently specified. -- kevin brintnall


------------------------------------------------------------------------
r1532 | oetiker | 2008-09-28 21:09:34 +0200 | 15 lines

The PID file is created with open() in the parent process, while we still
have STDERR open.  If it cannot be created, it complains verbosely to
stderr.

The PID file is written in the child process.  The only way the fdopen()
will fail on a fd that is already open is if you're completely out of
memory.  As in other places in the code, I didn't consider this a case
that required a very verbose message.  (Search for "strdup failed").  If
you still think a more verbose message is called for, please suggest one.

The attached patch corrects the error message to complain about fdopen()
vs fopen().  I hadn't noticed that until you brought it up.

--  kevin brintnall

------------------------------------------------------------------------
r1531 | oetiker | 2008-09-28 21:08:41 +0200 | 2 lines

 rrd.h, librrd.sym: Define and export rrd_info_r() --  Sebastian Harl 

------------------------------------------------------------------------
r1530 | oetiker | 2008-09-28 17:01:43 +0200 | 7 lines

vdef calc was using end_orig to determine for which range it should do its
calculations which is odd, since orig is only the requested range as
invocation time and not the data range deliverd by fetch. It does fall
completely flat when shifting since shifting does not affect the original
data. Bug #177 reported by hokiel


------------------------------------------------------------------------
r1529 | oetiker | 2008-09-27 13:44:58 +0200 | 2 lines

rrdxport was completely broken for exporting datasources that did not have a uniform step size. Thanks to Peter Valdemar Mrch for finding this.

------------------------------------------------------------------------
r1528 | oetiker | 2008-09-26 07:11:32 +0200 | 2 lines

create the pid file before forking, so we can complain to stderr  --  kevin brintnall

------------------------------------------------------------------------
r1527 | oetiker | 2008-09-26 07:10:25 +0200 | 8 lines

This patch ensures that the "FLUSH" command will write the updates out to
RRD before returning to the user.  Before, it returned when the update was
"dequeued"; updates were not necessarily on disk.

Also, for new nodes, the cache_lock is not held while we are setting up
the new node.  We don't want to be holding the lock if the stat() blocks.
--  kevin brintnal

------------------------------------------------------------------------
r1526 | oetiker | 2008-09-25 23:07:35 +0200 | 2 lines

Use the same IPv6/IPv4 as for the client as Florian did for the server -- kevin brintnall

------------------------------------------------------------------------
r1525 | oetiker | 2008-09-25 22:31:29 +0200 | 10 lines

This fixes a couple problems when exiting due to signal:

 * connection threads exit without closing client socket
   (so client blocks waiting for response that never comes)

 * listen_queue_thread blocks on poll() until a new connection comes in
   (because no poll timeout specified)

-- kevin brintnall

------------------------------------------------------------------------
r1524 | oetiker | 2008-09-25 22:11:43 +0200 | 2 lines

set SO_REUSEADDR on the listen socket -- kevin brintnall

------------------------------------------------------------------------
r1523 | oetiker | 2008-09-25 22:10:17 +0200 | 17 lines

Support for IPv6 has been broken with revision 1522: Because IPv6-addresses
contain colons, simply checking for a colon and using everything after it does
destroy correctly formatted IPv6-addresses.

This patch checks for dots '.' in the address. If the address contains at least
one dot, it is considered to be a hostname or an IPv4-address and a simple
search for a colon is done.

If no dot is found, the code will check for an opening square bracket '[' at
the beginning of the address. If one if found, the format
  [address]:port
is assumed.

If neither applies, the default port will be used.
-- Florian Forster


------------------------------------------------------------------------
r1522 | oetiker | 2008-09-25 17:25:51 +0200 | 4 lines

This adds support for <address>:<port> in the rrd client library.
Obviously this is required to take advantage of the server's ability to
bind to a non-standard port -- kevin brintnall

------------------------------------------------------------------------
r1521 | oetiker | 2008-09-25 00:21:21 +0200 | 2 lines

Allow ports to be specified with -l addr:port also. --  kevin brintnall

------------------------------------------------------------------------
r1520 | oetiker | 2008-09-25 00:07:33 +0200 | 2 lines

the rrdlua.pod is in the doc directory

------------------------------------------------------------------------
r1519 | oetiker | 2008-09-24 08:04:26 +0200 | 2 lines

added section on error reporting -- Florian Forster

------------------------------------------------------------------------
r1517 | oetiker | 2008-09-22 08:35:26 +0200 | 3 lines

I finally finished the first version of the patch (attached) --  Fidelis Assis fidelis pobox.com
(this does not seem to quite work yet at least not in my hardy setup)

------------------------------------------------------------------------
r1515 | oetiker | 2008-09-22 07:38:28 +0200 | 2 lines

use default prefix for ruby install if no user defined prefix is available

------------------------------------------------------------------------
r1513 | oetiker | 2008-09-19 22:34:42 +0200 | 2 lines

Bsd lirary path switch added to perl bindings makefile -- as suggested by Kevin Brintnall

------------------------------------------------------------------------
r1512 | oetiker | 2008-09-18 15:30:48 +0200 | 3 lines

Fix for debian bug 498183 ... never *advise after the end of the
file. On sparc this causes a segfault. Thanks to Sebastian Harl and Jurij Smakov for finding this.

------------------------------------------------------------------------
r1507 | oetiker | 2008-09-14 17:30:43 +0200 | 2 lines

fix RRDCacheD documentation -- Florian Forster

------------------------------------------------------------------------
r1506 | oetiker | 2008-09-14 17:28:34 +0200 | 13 lines

The previous code was broken: The response was read using `read(2)'. If
the server wasn't sending fast enough, the client would stop reading
before the entire message had been read.

This patch changes the communication code to use the (line based)
`fgets' function rather than the lower level `read' function. After
reading the first line (which contains the total number of line to be
expected), this precise number of lines is read - blocking if necessary.

Also, the missing four new statistic values have been added to
`rrdc_stats_get'.
--Folorian Forester

------------------------------------------------------------------------
r1505 | oetiker | 2008-09-14 12:35:51 +0200 | 2 lines

did not pick up all the changes for rrdcached in the first round ... so here is the second batch.

------------------------------------------------------------------------
r1504 | oetiker | 2008-09-14 11:49:03 +0200 | 4 lines

RRDcached patch. This implements an infrastructure, where rrd updates can be
sent to a daemon which caches them prior to bulk-updateing rrd files. See the rrdcached manual page.
-- Created by Florian Forster with some help from Kevin Brintnall.

------------------------------------------------------------------------
r1502 | oetiker | 2008-09-13 13:42:08 +0200 | 7 lines

regarding #183:
* move part of rrd_config.h out to a separate file, so that
  autoconf is not confused by the more complex expressions.
* fix configure variable name to allow caching
* another attemt at fixing solaris 2.8 compile so that it
  works out of the box.

------------------------------------------------------------------------
r1501 | oetiker | 2008-09-13 12:56:40 +0200 | 2 lines

fix graph docs

------------------------------------------------------------------------
r1500 | oetiker | 2008-09-11 22:27:47 +0200 | 3 lines

fixed processing of custom fonts Ren GARCIA <rene@margar.fr>


------------------------------------------------------------------------
r1499 | oetiker | 2008-09-11 09:01:30 +0200 | 2 lines

no , on the last member in C

------------------------------------------------------------------------
r1488 | oetiker | 2008-09-07 09:19:03 +0200 | 5 lines

The attached patch eliminates the many places where the rra_current pointer was maintained; the existing write/seek mechanisms update rrd_file->pos correctly.
Also, the seek at the front of process_arg is not necessary; write_to_rras will now take care to correct the file position at every update cycle.
This eliminates unnecessary rrd_seek() calls when MMAP is not enabled. -- kevin brintnall  kbrint rufus.net


------------------------------------------------------------------------
r1484 | oetiker | 2008-09-06 16:24:43 +0200 | 1 line

prepare for the release of rrdtool-1.3.2
------------------------------------------------------------------------
r1483 | oetiker | 2008-09-06 13:46:41 +0200 | 2 lines

we need rrd_format.h here for things to compile properly

------------------------------------------------------------------------
r1482 | oetiker | 2008-09-06 13:43:10 +0200 | 2 lines

updated opensolaris build instructions

------------------------------------------------------------------------
r1481 | oetiker | 2008-09-06 12:43:07 +0200 | 4 lines

only link build and use rrd_getopt if there is no getopt_long provided by
by the os ... this should also fix problems for solaris 2.8 and other
non getopt_long oses who were not taken care of anymore after the intriduction of librrd.sym

------------------------------------------------------------------------
r1480 | oetiker | 2008-09-06 12:39:29 +0200 | 1 line

fix for multi update - data corruption bug as reported (and patched) in #178 by kevin brintnall
------------------------------------------------------------------------
r1479 | oetiker | 2008-09-06 12:32:57 +0200 | 2 lines

make pod checker happy

------------------------------------------------------------------------
r1478 | oetiker | 2008-09-06 10:58:18 +0200 | 4 lines

inline functions are not supported in c99 ... lets remove this.
the compiler will foture it out if they are important.


------------------------------------------------------------------------
r1477 | oetiker | 2008-09-04 23:45:44 +0200 | 2 lines

introduced a persistant fontmap ... this makes our pango rendering 6 times faster starting from the second graph we draw.

------------------------------------------------------------------------
r1476 | oetiker | 2008-09-01 01:42:02 +0200 | 2 lines

now the results actually look as they did with the old code only things are FASTER

------------------------------------------------------------------------
r1475 | oetiker | 2008-09-01 00:53:49 +0200 | 3 lines

Improve performance by keeping multiple pango font descriptions. For the first invocation we are about 20% times as fast
for the second one about 4-5 times faster ... 

------------------------------------------------------------------------
r1474 | oetiker | 2008-08-31 12:55:24 +0200 | 3 lines

trying to improve the pango performance I added facilities to cache layout,context and more in between invocations of
the text function, unfortunately it does not seem to help all that much.

------------------------------------------------------------------------
r1473 | oetiker | 2008-08-31 12:52:49 +0200 | 1 line

use the standart info free function
------------------------------------------------------------------------
r1471 | oetiker | 2008-08-28 07:49:02 +0200 | 2 lines

fix handling of error conditions in rrd_tool.c ... errno is not for detection, only for information AFTER detection.

------------------------------------------------------------------------
r1470 | oetiker | 2008-08-28 06:13:39 +0200 | 2 lines

free the linebuffer if you don't return it!

------------------------------------------------------------------------
r1469 | oetiker | 2008-08-28 00:06:43 +0200 | 2 lines

some more leak plugging

------------------------------------------------------------------------
r1468 | oetiker | 2008-08-27 23:48:50 +0200 | 2 lines

drop the dummy surface prior to creating the real one

------------------------------------------------------------------------
r1467 | oetiker | 2008-08-27 23:46:01 +0200 | 2 lines

added some freeing for error conditions

------------------------------------------------------------------------
r1466 | oetiker | 2008-08-27 23:25:43 +0200 | 2 lines

fixed indentation  ... gnu indent results are not realy beautifl. I might switch to uncrustify.

------------------------------------------------------------------------
r1465 | oetiker | 2008-08-27 23:25:04 +0200 | 2 lines

Many rrd_create memory leaks patched ... based on valgrind analysis by Sven Engelhardt. Thanks!

------------------------------------------------------------------------
r1464 | oetiker | 2008-08-27 23:18:46 +0200 | 2 lines

fix indentation

------------------------------------------------------------------------
r1463 | oetiker | 2008-08-27 08:52:33 +0200 | 3 lines

added  sparc-sun-solaris2.8 to list of broken isfinite implementations


------------------------------------------------------------------------
r1462 | oetiker | 2008-08-23 00:04:37 +0200 | 2 lines

it is rb_rrd_infocall not rrd_infocall ... 

------------------------------------------------------------------------
r1461 | oetiker | 2008-08-16 09:13:01 +0200 | 5 lines

When in lazy mode, and the graph does not get regenerated, then there are no
results from PRINT either. Fix for #163.



------------------------------------------------------------------------
r1460 | oetiker | 2008-08-16 09:11:46 +0200 | 1 line

documentation updates
------------------------------------------------------------------------
r1459 | oetiker | 2008-08-12 08:48:37 +0200 | 2 lines

make sure imageinfo only reports the filename and not the whole path. This is a regression from 1.2.x where this was implemented properly.

------------------------------------------------------------------------
r1457 | oetiker | 2008-08-04 22:35:45 +0200 | 12 lines

The attached patch converts the given string to UTF-8 using glib's
g_locale_to_utf8() function. This function expects the string to be
encoded as specified by the locale settings, so this will fail if e.g.
you're using some script which is encoded in some way incompatible to
the locale settings. In this case, the patch falls back to use the
original string as provided by the user as there is no way to tell how
to interpret that string. So, in this case, you will still get the old
behavior (that pango warning and messed up strings in the graph).
However, imho this is perfectly fine since it should be up to the user
to take care of a sane environment. -- Sebastian Harl


------------------------------------------------------------------------
r1456 | oetiker | 2008-07-29 16:42:08 +0200 | 2 lines

newer perlapi docu suggests to  use SV * instead of void for managed returns

------------------------------------------------------------------------
r1455 | oetiker | 2008-07-29 07:08:46 +0200 | 2 lines

fixed some c++ style lines -- David Masterson

------------------------------------------------------------------------
r1454 | oetiker | 2008-07-28 09:23:15 +0200 | 2 lines

spelling fix

------------------------------------------------------------------------
r1453 | oetiker | 2008-07-23 17:03:43 +0200 | 3 lines

forward ported patch for rra cur_row randomization in rrd_restore from 1.2.28 to 1.3.1


------------------------------------------------------------------------
r1447 | oetiker | 2008-07-23 15:02:26 +0200 | 1 line

prepare for the release of rrdtool-1.3.1
------------------------------------------------------------------------
r1446 | oetiker | 2008-07-23 14:45:52 +0200 | 3 lines

added support for restoring rrdtool 1.0.x files ... removed support for old HW patched rrd format created by an early patched version of 1.0.x


------------------------------------------------------------------------
r1445 | oetiker | 2008-07-22 17:15:44 +0200 | 2 lines

Fix for #167 - rrdcreate is arguably missing a check for 'step>=1' for RRAs with AVERAGE as a CF. I ran into this when specifying 0.6 as a step value, assuming floats were also accepted. Patch attached here. -- Bogdan

------------------------------------------------------------------------
r1444 | oetiker | 2008-07-01 08:35:54 +0200 | 1 line

header-fix
------------------------------------------------------------------------
r1443 | oetiker | 2008-07-01 08:34:24 +0200 | 2 lines

improve layout

------------------------------------------------------------------------
r1441 | oetiker | 2008-06-29 18:23:50 +0200 | 2 lines

added rrd filename to illegal update message -- he at uninett.no

------------------------------------------------------------------------
r1440 | oetiker | 2008-06-29 16:08:51 +0200 | 2 lines

rrdtool.spec fix by Anton Blanchard to build without php patch 

------------------------------------------------------------------------
r1439 | oetiker | 2008-06-29 15:57:00 +0200 | 2 lines

make sure image-with and image-height get returned even when rrdtool is called with --lazy as reported in bug #163

------------------------------------------------------------------------
r1436 | oetiker | 2008-06-19 15:18:04 +0200 | 3 lines

rrdtool.fetch is returning an extra, bogus, data point.  Attached is a
patch to correct this. - Gilad Raphaelli. Fix for #161

------------------------------------------------------------------------
r1435 | oetiker | 2008-06-12 15:54:23 +0200 | 2 lines

added note on %S

------------------------------------------------------------------------
r1434 | oetiker | 2008-06-11 17:49:24 +0200 | 2 lines

made news the same as the announcement

------------------------------------------------------------------------
r1432 | oetiker | 2008-06-11 01:12:55 +0200 | 1 line

prepare for the release of rrdtool-1.3.0
------------------------------------------------------------------------
r1428 | oetiker | 2008-06-10 18:38:10 +0200 | 2 lines

oops it is 1.3.0 not 1.4.0 yet

------------------------------------------------------------------------
r1427 | oetiker | 2008-06-10 18:37:39 +0200 | 2 lines

preparing for 1.3

------------------------------------------------------------------------
r1426 | oetiker | 2008-06-10 18:32:34 +0200 | 4 lines

document the 'internal' functions in rrd.h but mark them as deprecated, so
that anyone using them will see that they should not be doing it.


------------------------------------------------------------------------
r1425 | oetiker | 2008-06-10 13:16:40 +0200 | 2 lines

flip check for row_count with setting for better code logic

------------------------------------------------------------------------
r1424 | oetiker | 2008-06-10 11:35:03 +0200 | 2 lines

check row count in RRAs to be > 0 ... by Sebastian Harl

------------------------------------------------------------------------
r1423 | oetiker | 2008-06-10 09:18:02 +0200 | 2 lines

for windows we must open files in O_BINARY mode

------------------------------------------------------------------------
r1421 | oetiker | 2008-06-09 18:10:39 +0200 | 6 lines

do NOT export lowlevel functions, since I have no intention supporting these
interfaces across versions. The symbols are in the library, so if someone
WANTS to code to them, they are free todo so, but they will have to use our
internal header files.


------------------------------------------------------------------------
r1420 | oetiker | 2008-06-09 17:49:54 +0200 | 2 lines

add all lowlevel file access functions from the rrd_open interface to the export list.

------------------------------------------------------------------------
r1419 | oetiker | 2008-06-09 07:12:27 +0200 | 2 lines

fixed indenting

------------------------------------------------------------------------
r1418 | oetiker | 2008-06-09 07:11:39 +0200 | 1 line

update to rpm spec from Jarod Wilson
------------------------------------------------------------------------
r1417 | oetiker | 2008-06-08 23:15:32 +0200 | 2 lines

export some more symbols from librrd

------------------------------------------------------------------------
r1416 | oetiker | 2008-06-08 23:06:35 +0200 | 2 lines

windows should use a windows font

------------------------------------------------------------------------
r1415 | oetiker | 2008-06-08 23:05:50 +0200 | 2 lines

drop special case windows font code ... it makes no sense with the new setup

------------------------------------------------------------------------
r1413 | oetiker | 2008-06-08 19:08:47 +0200 | 1 line

prepare for the release of rrdtool-1.3rc9
------------------------------------------------------------------------
r1412 | oetiker | 2008-06-08 19:08:11 +0200 | 2 lines

fixed pango markup switch ... we still want the text to show even if no markup is enabled

------------------------------------------------------------------------
r1411 | oetiker | 2008-06-08 18:47:22 +0200 | 2 lines

rrd_freemem has to be exported as well ... 

------------------------------------------------------------------------
r1409 | oetiker | 2008-06-08 18:23:39 +0200 | 2 lines

fix for ticket #121 jmpbuf on aix is a problem it seems, maybe this makes it better.

------------------------------------------------------------------------
r1407 | oetiker | 2008-06-08 17:59:20 +0200 | 1 line

prepare for the release of rrdtool-1.3rc8
------------------------------------------------------------------------
r1406 | oetiker | 2008-06-08 17:55:54 +0200 | 1 line

prepare for the release of rrdtool-1.3rc8
------------------------------------------------------------------------
r1405 | oetiker | 2008-06-08 17:55:09 +0200 | 62 lines

From: Sebastian Harl sh tokkee.org
Date: Sun, 8 Jun 2008 15:01:05 +0200
Subject: [PATCH] Cleanup the symbols exported by librrd.

Up to know librrd exported a lot of symbols, most of which are to be
regarded as private symbols. This somewhat pollutes the API as the symbols
could, in theory, be used by external software and, more importantly,
makes symbol based dependencies (as recently introduced in e.g. Debian)
somewhat harder to implement.

This patch does a somewhat large-scale cleanup of the exported symbols:

 * Introduced a librrd.sym file which contains all symbols that are to be
   exported. This file is then passed to libtool using the -export-symbols
   option which tells the linker to export the given symbols only (note:
   according to the libtool manual, this has no effect on some
   architectures - however, I assume that most architectures in use today
   do support it).

   librrd.sym contains all symbols originally defined in rrd.h sans
   LockRRD() (which has been moved to rrd_tool.h). The following functions
   have been added to rrd.h and the list of exported symbols (some of them
   have been renamed, see below):
   - rrd_info()
   - rrd_info_free()
   - rrd_info_print()
   - rrd_info_push()
   - rrd_lastupdate()
   - rrd_update_v()
   - rrd_strerror()

 * Prefixed all public functions and types with "rrd_" to avoid name
   clashes with other libraries. Also, while I was at it, I introduced
   typedefs for all custom types and prefixed the time names with "_t" to
   improve consistency:
   - enum info_type -> rrd_info_type_t
   - enum timetype -> rrd_timetype_t

   - union infoval -> rrd_infoval_t

   - struct info_t -> rrd_info_t
   - struct rrd_context -> rrd_context_t
   - struct rrd_time_value -> rrd_time_value_t

   - info_free() -> rrd_info_free()
   - info_free() -> rrd_info_free()
   - info_print() -> rrd_info_print()
   - info_push() -> rrd_info_push()
   - LockRRD() -> rrd_lock() (not public though)
   - parsetime() -> rrd_parsetime()
     (and: src/parsetime.c -> src/rrd_parsetime.c)
   - proc_start_end() -> rrd_proc_start_end()
   - set_to_DINF() -> rrd_set_to_DINF()
   - set_to_DNAN() -> rrd_set_to_DNAN()

 * Moved readfile() from rrd_open.c to rrd_cgi.c and declared it static.
   This function is used in rrd_cgi.c only.

 * rrd_lock() (f.k.a. LockRRD()) now accepts a rrd_file_t pointer instead
   of an integer to increase encapsulation.


------------------------------------------------------------------------
r1404 | oetiker | 2008-06-07 16:35:03 +0200 | 2 lines

don't bother with don't need when there is neither madvise not fadvise calls

------------------------------------------------------------------------
r1403 | oetiker | 2008-06-06 18:38:25 +0200 | 2 lines

fix for --font bug (font names wer not being picked up at all). Bug reported by  Dmitry B. Bigunayk

------------------------------------------------------------------------
r1402 | oetiker | 2008-06-05 22:56:24 +0200 | 2 lines

added pango markup name

------------------------------------------------------------------------
r1401 | oetiker | 2008-06-05 21:59:18 +0200 | 2 lines

fixed indenting

------------------------------------------------------------------------
r1400 | oetiker | 2008-06-05 21:59:01 +0200 | 1 line

disable pango markup by default. added --pango-markup option for explicit enablement.
------------------------------------------------------------------------
r1399 | oetiker | 2008-06-05 21:58:51 +0200 | 1 line

disable pango markup by default. added --pango-markup option for explicit enablement.
------------------------------------------------------------------------
r1398 | oetiker | 2008-06-05 21:57:25 +0200 | 1 line

fixed indenting
------------------------------------------------------------------------
r1397 | oetiker | 2008-06-04 18:18:42 +0200 | 2 lines

enable new building for newer tcl versions

------------------------------------------------------------------------
r1396 | oetiker | 2008-06-02 08:46:57 +0200 | 2 lines

updated documentation of library versioning system

------------------------------------------------------------------------
r1395 | oetiker | 2008-06-02 08:43:43 +0200 | 3 lines

Had to reset the interface version number due to the change in the rrd_context implementation.


------------------------------------------------------------------------
r1394 | oetiker | 2008-06-02 08:21:42 +0200 | 2 lines

use DNAN instead of NAN since there seem to be issues with gcc on solaris and the NAN experession (and we use DNAN everywhere else anyway).

------------------------------------------------------------------------
r1393 | oetiker | 2008-06-01 23:12:26 +0200 | 2 lines

integrated gentoo bits and spell fixes by Peter Volkov

------------------------------------------------------------------------
r1392 | oetiker | 2008-06-01 22:44:01 +0200 | 3 lines

Patch for rrd_context system by sebastian harl, making it simpler and less error prone. Removing one buffer overflow in the process.


------------------------------------------------------------------------
r1389 | oetiker | 2008-05-31 17:58:45 +0200 | 1 line

prepare for the release of rrdtool-1.3rc7
------------------------------------------------------------------------
r1388 | oetiker | 2008-05-31 17:57:39 +0200 | 1 line

prepare for the release of rrdtool-1.3rc7
------------------------------------------------------------------------
r1387 | oetiker | 2008-05-31 17:56:37 +0200 | 2 lines

added pkgconfig build instructions

------------------------------------------------------------------------
r1386 | oetiker | 2008-05-31 14:28:11 +0200 | 2 lines

make sure vdef calcs only calc as far as originally requested.

------------------------------------------------------------------------
r1385 | oetiker | 2008-05-28 00:24:32 +0200 | 3 lines

fixed maxlength for sprintf_alloc 50 was not enough ... 1024+strlen(fmt) is much better. This
makes imginfo work even when there are long image paths.

------------------------------------------------------------------------
r1382 | oetiker | 2008-05-26 13:45:15 +0200 | 2 lines

updated todo list

------------------------------------------------------------------------
r1380 | oetiker | 2008-05-26 10:56:58 +0200 | 1 line

prepare for the release of rrdtool-1.3rc6
------------------------------------------------------------------------
r1379 | oetiker | 2008-05-26 09:46:35 +0200 | 2 lines

added notes about new grid lines

------------------------------------------------------------------------
r1378 | oetiker | 2008-05-26 09:45:19 +0200 | 5 lines

* make y-axis labels NOT run into each other (classic and alt)
* space horizontal grid lines and lables a bit further apart for tight
  layouts.
* let horizontal lines and y axis labels run a little closer for classic grid

------------------------------------------------------------------------
r1377 | oetiker | 2008-05-25 23:17:30 +0200 | 2 lines

fixed calculation of space at the bottom of the graph

------------------------------------------------------------------------
r1375 | oetiker | 2008-05-25 22:02:23 +0200 | 1 line

prepare for the release of rrdtool-1.3rc5
------------------------------------------------------------------------
r1374 | oetiker | 2008-05-25 22:00:45 +0200 | 2 lines

fix update compatibility with rrd-1.0.x files

------------------------------------------------------------------------
r1373 | oetiker | 2008-05-21 00:22:27 +0200 | 2 lines

droped rrd_extra.h from the distro with the python update ... must remove it from the Makefile too

------------------------------------------------------------------------
r1372 | oetiker | 2008-05-19 23:14:36 +0200 | 5 lines

fixed python bindings:
* info call isnnow aequivalent to rrdtool info (the same as in the perl and ruby bindings)
* graphv and updatev calls added


------------------------------------------------------------------------
r1371 | oetiker | 2008-05-19 00:11:56 +0200 | 3 lines

* document tabwidth option
* fix \t -> tab expansion

------------------------------------------------------------------------
r1370 | oetiker | 2008-05-18 17:39:41 +0200 | 2 lines

ytr boundery checking ... this is from the GD days ... we don't need this anymore

------------------------------------------------------------------------
r1369 | oetiker | 2008-05-18 17:11:52 +0200 | 2 lines

fix indenting

------------------------------------------------------------------------
r1368 | oetiker | 2008-05-18 17:11:42 +0200 | 2 lines

pdf, svg and ps formats were not being created

------------------------------------------------------------------------
r1366 | oetiker | 2008-05-18 15:06:44 +0200 | 1 line

prepare for the release of rrdtool-1.3rc4
------------------------------------------------------------------------
r1365 | oetiker | 2008-05-18 15:04:36 +0200 | 2 lines

fix year

------------------------------------------------------------------------
r1364 | oetiker | 2008-05-18 14:53:01 +0200 | 2 lines

PRINT returns from rrd_graph did not work due to an off by one error

------------------------------------------------------------------------
r1363 | oetiker | 2008-05-18 10:42:18 +0200 | 2 lines

updated build instructions to latest libraries

------------------------------------------------------------------------
r1362 | oetiker | 2008-05-18 08:37:43 +0200 | 2 lines

improved handling of libintl issues

------------------------------------------------------------------------
r1360 | oetiker | 2008-05-16 14:29:42 +0200 | 1 line

prepare for the release of rrdtool-1.3rc3
------------------------------------------------------------------------
r1359 | oetiker | 2008-05-16 14:28:37 +0200 | 2 lines

added --no-header to documentation and fixed implementation 

------------------------------------------------------------------------
r1358 | oetiker | 2008-05-16 14:20:05 +0200 | 2 lines

fixed dump_opt implementation

------------------------------------------------------------------------
r1357 | oetiker | 2008-05-16 14:18:05 +0200 | 2 lines

added no-header option to rrd_dump

------------------------------------------------------------------------
r1356 | oetiker | 2008-05-16 14:07:58 +0200 | 2 lines

fix handling of values <= zero for logarithmic display

------------------------------------------------------------------------
r1354 | oetiker | 2008-05-16 00:39:55 +0200 | 1 line

prepare for the release of rrdtool-1.3rc2
------------------------------------------------------------------------
r1353 | oetiker | 2008-05-16 00:39:09 +0200 | 1 line

prepare for the release of rrdtool-1.3rc2
------------------------------------------------------------------------
r1352 | oetiker | 2008-05-16 00:37:26 +0200 | 2 lines

fix portability to mac osx and freebsd -- tobi

------------------------------------------------------------------------
r1351 | oetiker | 2008-05-13 01:10:59 +0200 | 2 lines

add solaris pod2man location last

------------------------------------------------------------------------
r1350 | oetiker | 2008-05-13 01:03:04 +0200 | 2 lines

some changes to make things work on opensolaris 2008.05

------------------------------------------------------------------------
r1349 | oetiker | 2008-05-13 00:42:25 +0200 | 2 lines

for some reason tclrrd.c does not get picked up using $< at least on opensolaris

------------------------------------------------------------------------
r1348 | oetiker | 2008-05-13 00:23:19 +0200 | 3 lines

allow rrd_rpncalc to build without cairo dependencies ...
fix warnings

------------------------------------------------------------------------
r1346 | oetiker | 2008-05-12 23:14:12 +0200 | 2 lines

add intltool*in files to dist

------------------------------------------------------------------------
r1345 | oetiker | 2008-05-12 18:15:25 +0200 | 2 lines

fixed indenting

------------------------------------------------------------------------
r1344 | oetiker | 2008-05-12 18:15:02 +0200 | 2 lines

removed c++ comments // 

------------------------------------------------------------------------
r1343 | oetiker | 2008-05-12 18:09:02 +0200 | 2 lines

added notes about rewrites in this release

------------------------------------------------------------------------
r1342 | oetiker | 2008-05-12 18:08:40 +0200 | 2 lines

improved handling of library versioning

------------------------------------------------------------------------
r1341 | oetiker | 2008-05-12 17:35:40 +0200 | 2 lines

should not leave debug enabled

------------------------------------------------------------------------
r1340 | oetiker | 2008-05-12 17:33:31 +0200 | 10 lines

Fixed handling of unknown data at PDP build time. There was a long standing
(even documented) missfeature in rrdtool which caused uknown-data to be
accepted as long as it was less than the mrhb. This was never the intended
behaviour and had interesting side effects
(http://oss.oetiker.ch/rrdtool-trac/ticket/125): If you have a 60 Second
step with 59s unknown data and 1 second of known data the whole become known
data as long as the mrhb was > step. The intended behaviour was that a step
should become unknown as soon as it contains more than 50% of unknown data.
The patch fixes both the documentation and the code.

------------------------------------------------------------------------
r1339 | oetiker | 2008-05-12 15:22:26 +0200 | 2 lines

the last_ds value fuer unknown is 'U' and not 'UNKN'

------------------------------------------------------------------------
r1338 | oetiker | 2008-05-04 20:59:20 +0200 | 2 lines

fix for sun sudio 11 incompatibility http://www.netbsd.org/cgi-bin/query-pr-single.pl?number=38555

------------------------------------------------------------------------
r1335 | oetiker | 2008-05-02 01:23:35 +0200 | 1 line

indenting fixes
------------------------------------------------------------------------
r1334 | oetiker | 2008-05-02 01:23:25 +0200 | 1 line

make sure properties are shown via graph_v even in --graph-only mode
------------------------------------------------------------------------
r1333 | oetiker | 2008-05-01 08:56:32 +0200 | 2 lines

Make the MakeMakefile script a bit more robust

------------------------------------------------------------------------
r1332 | oetiker | 2008-04-22 23:40:45 +0200 | 2 lines

fix for #148

------------------------------------------------------------------------
r1331 | oetiker | 2008-04-21 00:46:39 +0200 | 7 lines

Introduced a alternated interface to rrd_graph using rrd_info style return
values: rrd_graph_v The graph_v interface returnes additional information
about the graph including the location of the graphing area within the
image. When called with '-' as filename it will even return the image data.
The new interface is supported in the rrdtool command line, RRDs perl and
ruby bindings.

------------------------------------------------------------------------
r1329 | oetiker | 2008-04-17 07:35:16 +0200 | 2 lines

indent fix

------------------------------------------------------------------------
r1328 | oetiker | 2008-04-17 07:35:01 +0200 | 2 lines

do not reset the last_ds store unless the data source type is actually changed.

------------------------------------------------------------------------
r1327 | oetiker | 2008-04-16 17:50:59 +0200 | 2 lines

fixed 2. x-grid example ... since the lable is valid for the whole day, it must be 86400 wide. --tobi

------------------------------------------------------------------------
r1324 | oetiker | 2008-04-12 11:29:10 +0200 | 2 lines

alter order of header inclusion for FreeBSD 4.8 compatibility

------------------------------------------------------------------------
r1323 | oetiker | 2008-04-12 11:21:31 +0200 | 3 lines

do not mess with dst status after running localtime, the system gets confused otherwhise when it comes to times during the switch over periode as DST changes to non DST.
-- tobi

------------------------------------------------------------------------
r1322 | oetiker | 2008-03-26 00:02:32 +0100 | 2 lines

added missing " escapes to xml header in rrd_tool.c

------------------------------------------------------------------------
r1321 | oetiker | 2008-03-25 23:59:49 +0100 | 2 lines

added Florian octo Forster to contrib list

------------------------------------------------------------------------
r1320 | oetiker | 2008-03-25 23:59:30 +0100 | 2 lines

added missing =back for propper pod syntax

------------------------------------------------------------------------
r1319 | oetiker | 2008-03-25 23:58:16 +0100 | 2 lines

fix indent

------------------------------------------------------------------------
r1318 | oetiker | 2008-03-25 23:58:08 +0100 | 2 lines

fix broken header comment section -- Florian octo Forster

------------------------------------------------------------------------
r1317 | oetiker | 2008-03-25 23:57:42 +0100 | 2 lines

cast size_t to int to avoid warning -- Florian octo Forster

------------------------------------------------------------------------
r1316 | oetiker | 2008-03-25 23:56:41 +0100 | 2 lines

do not declare DEBUG functions unless compiled in DEBUG mode -- Florian octo Forster

------------------------------------------------------------------------
r1315 | oetiker | 2008-03-25 23:55:56 +0100 | 2 lines

make helptexts read only memory

------------------------------------------------------------------------
r1314 | oetiker | 2008-03-25 23:55:13 +0100 | 2 lines

stop complaints about unused variables if not running DEBUG

------------------------------------------------------------------------
r1313 | oetiker | 2008-03-25 23:49:47 +0100 | 5 lines

Added check for intltool version.
Use Makefile for cleanup.
-- Florian octo Forster


------------------------------------------------------------------------
r1311 | oetiker | 2008-03-23 14:43:22 +0100 | 2 lines

added pointer to florian forsters dtd to the rrd dumpt

------------------------------------------------------------------------
r1310 | oetiker | 2008-03-20 00:36:26 +0100 | 2 lines

fix pkgconfig file name

------------------------------------------------------------------------
r1306 | oetiker | 2008-03-15 11:39:48 +0100 | 3 lines

reindent
aded id keyword substitution

------------------------------------------------------------------------
r1305 | oetiker | 2008-03-15 11:32:10 +0100 | 2 lines

reat nan as FALSE in an IF CDEF

------------------------------------------------------------------------
r1303 | oetiker | 2008-03-07 09:57:01 +0100 | 10 lines

a nan-safe add operator (ADDNAN) into rrd. I used it to add several incomplete graphs.

NaN + NaN => NaN
 x + NaN => x
 NaN + y => y
 x + y => x + y

-- Timo Stripf tstripf gmx.de


------------------------------------------------------------------------
r1301 | oetiker | 2008-03-02 16:38:05 +0100 | 2 lines

Fix error "cairo_restore without matching cairo_save" when zero-time point is out of graph

------------------------------------------------------------------------
r1300 | oetiker | 2008-02-25 08:11:00 +0100 | 2 lines

Ignore RRA-end when comparing. coverage.

------------------------------------------------------------------------
r1298 | oetiker | 2008-02-24 15:27:34 +0100 | 2 lines

fix indents gone out of kileter by patching ... 

------------------------------------------------------------------------
r1297 | oetiker | 2008-02-24 15:26:46 +0100 | 2 lines

get rid of a few type cast warnings

------------------------------------------------------------------------
r1296 | oetiker | 2008-02-24 15:26:16 +0100 | 2 lines

fix one segfault while trying to restore an invalid xml file. -- tobi

------------------------------------------------------------------------
r1294 | oetiker | 2008-02-21 08:20:49 +0100 | 2 lines

make ruby obey destdir

------------------------------------------------------------------------
r1293 | oetiker | 2008-02-21 08:18:58 +0100 | 2 lines

initial

------------------------------------------------------------------------
r1292 | oetiker | 2008-02-21 08:12:27 +0100 | 2 lines

make inbternationalized version actually build

------------------------------------------------------------------------
r1291 | oetiker | 2008-02-21 07:59:19 +0100 | 2 lines

added missing bits from internationalization

------------------------------------------------------------------------
r1290 | oetiker | 2008-02-19 13:56:44 +0100 | 12 lines

Generate a random cur_row for each RRA during
create/restore operations. This effectively randomizes the block crossings
among RRDs created around the same time. Previously, RRDs that were
created/restored en masse would cross block boundaries simultaneously, which
is sub-optimal.

Also, this patch enables the user to see the RRA's cur_row pointer via
rrdinfo. This was useful during debugging.

-- kevin brintnall kbrint qwest.net


------------------------------------------------------------------------
r1289 | oetiker | 2008-02-18 16:04:42 +0100 | 2 lines

Added I18N support for messages printed by rrd_tool.c -- http://oss.oetiker.ch/rrdtool-trac/ticket/144

------------------------------------------------------------------------
r1285 | oetiker | 2008-02-15 09:49:07 +0100 | 2 lines

check for pdf as well

------------------------------------------------------------------------
r1284 | oetiker | 2008-02-15 09:44:04 +0100 | 2 lines

check for cairo-ps and cairo-svg explicitly

------------------------------------------------------------------------
r1280 | oetiker | 2008-02-06 01:12:27 +0100 | 2 lines

ready for beta 4

------------------------------------------------------------------------
r1279 | oetiker | 2008-02-06 01:10:33 +0100 | 4 lines

* replaced strtok with strtok_r for thread safety
* fixed im initialization broken after the introduction of dashes ...


------------------------------------------------------------------------
r1278 | oetiker | 2008-02-04 23:34:56 +0100 | 2 lines

in rrd_create we do not use mmaping and thus need to free rrd struct members in any case ... 

------------------------------------------------------------------------
r1277 | oetiker | 2008-02-04 23:16:14 +0100 | 2 lines

this should help with the memory leak

------------------------------------------------------------------------
r1276 | oetiker | 2008-02-04 19:18:07 +0100 | 2 lines

added zpl 2.1 to floss exception

------------------------------------------------------------------------
r1274 | oetiker | 2008-02-01 07:52:56 +0100 | 2 lines

fixed parsing of fontnames with embeded spaces

------------------------------------------------------------------------
r1272 | oetiker | 2008-01-14 18:11:50 +0100 | 2 lines

remove c++ warnings flag .. this is not c++ after all

------------------------------------------------------------------------
r1271 | oetiker | 2008-01-14 17:52:49 +0100 | 2 lines

fixed indenting

------------------------------------------------------------------------
r1270 | oetiker | 2008-01-14 17:51:42 +0100 | 2 lines

fix indents

------------------------------------------------------------------------
r1269 | oetiker | 2008-01-14 17:50:51 +0100 | 5 lines

* fixed madvise/fadvise detection
* fixed many compiler warnings
-- Peter Breitenlohner peb mppmu.mpg.de


------------------------------------------------------------------------
r1266 | oetiker | 2008-01-12 19:37:10 +0100 | 1 line

weekday and time are too tight
------------------------------------------------------------------------
r1264 | oetiker | 2008-01-04 23:53:46 +0100 | 2 lines

fontmap resolution was not matching scaled_font resolution ... this killed layouting ... much better now

------------------------------------------------------------------------
r1263 | oetiker | 2008-01-03 22:30:59 +0100 | 2 lines

get rid of DASHED, only use dashes syntax. less redundancy -- thomas.gutzler gmail.com

------------------------------------------------------------------------
r1262 | oetiker | 2008-01-02 23:11:26 +0100 | 2 lines

support for dashed lines in graphs

------------------------------------------------------------------------
r1261 | oetiker | 2008-01-02 23:06:24 +0100 | 2 lines

fix indenting

------------------------------------------------------------------------
r1260 | oetiker | 2008-01-02 23:06:16 +0100 | 2 lines

ignore errors with txt doc building

------------------------------------------------------------------------
r1255 | oetiker | 2007-12-12 00:41:21 +0100 | 2 lines

building the docs depends on the presence of pod2man ... which does not seem to be installed necessarily

------------------------------------------------------------------------
r1253 | oetiker | 2007-12-08 23:15:22 +0100 | 2 lines

added shared library locations into the docs

------------------------------------------------------------------------
r1252 | oetiker | 2007-12-08 22:35:51 +0100 | 2 lines

include stdlib since putenv is in there on solaris

------------------------------------------------------------------------
r1251 | oetiker | 2007-12-08 17:57:04 +0100 | 6 lines

fixing solaris portability
* isinf and isnan definitions fixed
* check if rt must be linked
* ordering must be read write in getopt
* updated build instructions

------------------------------------------------------------------------
r1247 | oetiker | 2007-11-26 21:12:11 +0100 | 2 lines

fix libdir for python build

------------------------------------------------------------------------
r1244 | oetiker | 2007-11-21 11:51:48 +0100 | 2 lines

fixed NetBSD spelling

------------------------------------------------------------------------
r1241 | oetiker | 2007-11-21 07:56:19 +0100 | 2 lines

define bsd source to get access to chroot

------------------------------------------------------------------------
r1240 | oetiker | 2007-11-21 07:47:17 +0100 | 2 lines

make perlbuild more portable

------------------------------------------------------------------------
r1238 | oetiker | 2007-11-20 23:22:31 +0100 | 2 lines

enable madvise defines in netbsd

------------------------------------------------------------------------
r1234 | oetiker | 2007-11-20 01:08:20 +0100 | 3 lines

remove last traces of rrd_nan_inf.h
fix handling of min==max where min < 0

------------------------------------------------------------------------
r1228 | oetiker | 2007-11-15 15:39:56 +0100 | 2 lines

re-indented files that have gone out of indent-style over the last few weeks

------------------------------------------------------------------------
r1227 | oetiker | 2007-11-15 15:36:39 +0100 | 2 lines

integrate rrd_nan_inf header

------------------------------------------------------------------------
r1226 | oetiker | 2007-11-15 15:35:15 +0100 | 2 lines

Improve layout of documentation. -- Bernhard Fischer

------------------------------------------------------------------------
r1225 | oetiker | 2007-11-15 15:34:14 +0100 | 5 lines

*  rrd_update(): Unify error path.
*  parse_template(): Likewise.
*  allocate_data_structures(): Make error strings use consistent punctuation.
-- bernhard fischer

------------------------------------------------------------------------
r1224 | oetiker | 2007-11-15 15:32:37 +0100 | 2 lines

make sure this compiles with aix

------------------------------------------------------------------------
r1213 | oetiker | 2007-11-08 11:16:27 +0100 | 2 lines

fixed start end time in ruby fetch and added step size -- Mike Perham mperham gmail

------------------------------------------------------------------------
r1211 | oetiker | 2007-11-06 22:27:52 +0100 | 2 lines

updated build instructions

------------------------------------------------------------------------
r1209 | oetiker | 2007-11-04 22:56:19 +0100 | 2 lines

handle errors properly ... in RRDp read call 

------------------------------------------------------------------------
r1204 | oetiker | 2007-09-16 17:35:11 +0200 | 2 lines

no reason to die when posixfadvise is not sucessful

------------------------------------------------------------------------
r1203 | oetiker | 2007-09-11 08:28:15 +0200 | 4 lines

Allow to the the smoothing window size other thatn the default 5%.
-- Evan Miller emiller imvu.com


------------------------------------------------------------------------
r1202 | oetiker | 2007-09-11 08:16:52 +0200 | 2 lines

added msync before unmap

------------------------------------------------------------------------
r1201 | oetiker | 2007-09-08 07:23:23 +0200 | 3 lines

added STDEV aggregation function for VDEF. -- Patrick J Cherry patrick bytemark.co.uk


------------------------------------------------------------------------
r1200 | oetiker | 2007-09-08 00:53:41 +0200 | 2 lines

a few leanups -- Bernhard Fischer

------------------------------------------------------------------------
r1199 | oetiker | 2007-09-06 11:06:04 +0200 | 2 lines

added missing ;

------------------------------------------------------------------------
r1198 | oetiker | 2007-09-06 10:42:22 +0200 | 3 lines

* mimic write() and read() even better -- Bernhard Fischer


------------------------------------------------------------------------
r1197 | oetiker | 2007-09-06 10:40:36 +0200 | 5 lines

rrd_open.c (rrd_read): Mimicing read() behaviour for EOF case and NULL buffer case.
-- Bernhard Fischer



------------------------------------------------------------------------
r1196 | oetiker | 2007-09-02 18:55:01 +0200 | 3 lines

fixed speling of horizon


------------------------------------------------------------------------
r1194 | oetiker | 2007-08-29 08:43:16 +0200 | 2 lines

a better performance tester

------------------------------------------------------------------------
r1193 | oetiker | 2007-08-16 09:31:53 +0200 | 2 lines

added holt winters example back into the examples documentation

------------------------------------------------------------------------
r1192 | oetiker | 2007-08-14 23:59:31 +0200 | 18 lines

Fix for HoltWinters phase-shift bug described below.

When one or more primary data point times were missed, the SEASONAL and
DEVSEASONAL archives were marked as being up-to-date, so that they would not
be written to. It was correct not to write to these archives, but the code
failed to advance the pointers within the SEASONAL and DEVSEASONAL archives
so that future updates would go to the correct location in the archives.

Rather than mark these archives as up-to-date (by setting
rra_step_cnt[rra_idx] = 0), my patch allocates a new "skip_update" array
that is set to 1 for SEASONAL and DEVSEASONAL archives that have missed one
or more primary data points. When an RRA is written to, the cur_row pointer
advancement happens for all archives, but the skip_update array is checked
just before actually writing out the changes.

Please give it a whirl!
-- Evan Miller emiller imvu.com

------------------------------------------------------------------------
r1191 | oetiker | 2007-08-13 22:06:10 +0200 | 3 lines

Refactored rrd_update code in preparation of finding the HW update
problem -- Evan Miller

------------------------------------------------------------------------
r1190 | oetiker | 2007-08-07 17:02:08 +0200 | 2 lines

updated build instructions for 1.3

------------------------------------------------------------------------
r1185 | oetiker | 2007-08-03 21:46:17 +0200 | 1 line

prepare for the release of rrdtool-1.2.99907080300
------------------------------------------------------------------------
r1184 | oetiker | 2007-08-03 21:45:01 +0200 | 2 lines

remove some things we do not need anymore in 1.3

------------------------------------------------------------------------
r1183 | oetiker | 2007-08-03 21:43:47 +0200 | 1 line

prepare for the release of rrdtool-1.2.99907080300
------------------------------------------------------------------------
r1182 | oetiker | 2007-08-03 21:43:21 +0200 | 2 lines

prepare for 1.3 beta 1

------------------------------------------------------------------------
r1181 | oetiker | 2007-08-03 21:26:41 +0200 | 2 lines

continue with the revision numbering

------------------------------------------------------------------------
r1180 | oetiker | 2007-08-03 21:17:13 +0200 | 2 lines

added notes on pango inline formatting

------------------------------------------------------------------------
r1178 | oetiker | 2007-08-01 17:29:09 +0200 | 2 lines

only release cairo stuff if we ever initialized it.

------------------------------------------------------------------------
r1177 | oetiker | 2007-08-01 17:28:03 +0200 | 2 lines

fix for 64bit portability problem ... unsigned long is not int

------------------------------------------------------------------------
r1175 | oetiker | 2007-07-31 06:53:04 +0200 | 2 lines

reindented

------------------------------------------------------------------------
r1173 | oetiker | 2007-07-25 22:38:37 +0200 | 2 lines

fixed indenting

------------------------------------------------------------------------
r1172 | oetiker | 2007-07-25 22:38:26 +0200 | 2 lines

make sure we check input even when the previous update was a 'U' ... and some indenting fixes

------------------------------------------------------------------------
r1169 | oetiker | 2007-07-22 17:51:39 +0200 | 2 lines

new consolidation functions must be added last or this will break binary compatibility

------------------------------------------------------------------------
r1168 | oetiker | 2007-07-22 17:50:21 +0200 | 2 lines

don't force data out ... let cache management do this

------------------------------------------------------------------------
r1167 | oetiker | 2007-07-22 11:47:53 +0200 | 1 line

Only create version 4 rrd files if the new holtwinters MHW.. CF is used.
------------------------------------------------------------------------
r1166 | oetiker | 2007-07-21 21:55:00 +0200 | 5 lines

* remove some experimental code from rrd_open
* rrd_dontneed will release all data except for header blocks and RRA hot blocks 
  which are going to be updated withing 10 minutes.


------------------------------------------------------------------------
r1165 | oetiker | 2007-07-21 21:53:52 +0200 | 3 lines

for now, do not release fetched data ... in the future we may call rrd_dontneed and let the users decied with an option
if they want to keep the data in cache ... 

------------------------------------------------------------------------
r1164 | oetiker | 2007-07-21 21:52:17 +0200 | 2 lines

the fonts are now taken from the system. we do not distribute them anympore

------------------------------------------------------------------------
r1163 | oetiker | 2007-07-21 21:37:50 +0200 | 2 lines

not on update rrd version

------------------------------------------------------------------------
r1162 | oetiker | 2007-07-21 00:20:18 +0200 | 2 lines

we have a new holtwinders aggregation fucntion, so we have a new version ...

------------------------------------------------------------------------
r1161 | oetiker | 2007-07-21 00:19:53 +0200 | 2 lines

check for fadvise all the time

------------------------------------------------------------------------
r1160 | oetiker | 2007-07-21 00:16:36 +0200 | 2 lines

better docs on the aggregate functions

------------------------------------------------------------------------
r1159 | oetiker | 2007-07-19 00:02:18 +0200 | 2 lines

added note on locale

------------------------------------------------------------------------
r1158 | oetiker | 2007-07-18 23:59:10 +0200 | 2 lines

some more piechart removed

------------------------------------------------------------------------
r1157 | oetiker | 2007-07-18 23:47:26 +0200 | 1 line

make sure all ascii to float parsing uses LC_NUMERIC = C so that we do not stuble on locales confusing the , with a .
------------------------------------------------------------------------
r1156 | oetiker | 2007-07-18 02:30:49 +0200 | 9 lines

* rrd_open: rrd_close does not purge file from cache
* rrd_open: new function rrd_dontneed for purging un-needed pages from core
* rrd_open: in linux at least only fadivse DONTNEED has the power to purge
  pages from cache, so letst call madvise as well as fadvise
* rrd_create: uses open/write/close now, flushes file to disk and keeps only hot pages in core
* rrd_update: keeps only hot pages in core
* configure enables FADVISE even when mmap is in use


------------------------------------------------------------------------
r1155 | oetiker | 2007-07-17 23:46:00 +0200 | 2 lines

added comment on float cookie

------------------------------------------------------------------------
r1154 | oetiker | 2007-07-16 08:37:07 +0200 | 2 lines

fix for fetch in ruby bindings and support for info added.

------------------------------------------------------------------------
r1149 | oetiker | 2007-07-12 22:33:47 +0200 | 2 lines

improve wording

------------------------------------------------------------------------
r1148 | oetiker | 2007-07-12 22:33:37 +0200 | 2 lines

fix tcl build settup

------------------------------------------------------------------------
r1146 | oetiker | 2007-07-12 01:08:47 +0200 | 2 lines

usr rrd_free for freeing the rrd structs ... vito caputo

------------------------------------------------------------------------
r1141 | oetiker | 2007-07-05 17:19:27 +0200 | 2 lines

prevent potential segfaults on boxes where time_t is not long

------------------------------------------------------------------------
r1134 | oetiker | 2007-06-18 20:25:35 +0200 | 2 lines

fix indentation

------------------------------------------------------------------------
r1133 | oetiker | 2007-06-18 18:05:07 +0200 | 8 lines

Bernhard Fischer:

- move several static struct option out of loops and makes them
  non-static
- moves some functions from old-style definitions into new-style
  definitions


------------------------------------------------------------------------
r1132 | oetiker | 2007-06-17 01:20:23 +0200 | 2 lines

Bernhard is not Benrard

------------------------------------------------------------------------
r1130 | oetiker | 2007-06-15 23:49:52 +0200 | 1 line

notes on evans contribs
------------------------------------------------------------------------
r1129 | oetiker | 2007-06-15 23:41:54 +0200 | 3 lines

rrdtool.spec from Jarod "redhat" Wilson


------------------------------------------------------------------------
r1127 | oetiker | 2007-06-15 10:09:13 +0200 | 2 lines

updated contributors

------------------------------------------------------------------------
r1126 | oetiker | 2007-06-15 10:01:04 +0200 | 2 lines

added note on TEXTALIGN

------------------------------------------------------------------------
r1125 | oetiker | 2007-06-15 09:59:01 +0200 | 46 lines

There are two popular variants of the Holt-Winters forecasting method; RRDtool
supports the "additive" method, which means that seasonal variation is simply
added to the baseline. For our application, it would be more appropriate to use
the "multiplicative" Holt-Winters method, where seasonal variation is a
coefficient multiplied by the baseline.  Quick example to illustrate the
difference: if the average doubles season-over-season, the additive method
would predict the delta between min and max to be constant, whereas the
multiplicative method would predict the delta to double as well.

Attached is a patch against trunk to support the multiplicative method.  I've
done this with a new consolidation function, MHWPREDICT, which is essentially
interchangeable with HWPREDICT. There is a noticeable improvement in prediction
deviations for certain types of functions; the attachments show HWPREDICT and
MHWPREDICT predictions for a function with an x*sin(x) component.

Because HWPREDICT and MHWPREDICT differ only in their equations, I've factored
out their math into rrd_hw_math.c. The appropriate smoothing functions are
passed to the update functions in a container of function pointers, which are
called where appropriate. Thus the additive and multiplicative methods use the
same update functions, and the right equations are evaluated without having
flag checks everywhere. This approach, I think, makes the algorithms quite
clear, with minimal duplicate code.

I have moved update_hwpredict, update_seasonal, update_devpredict,
update_devseasonal, and update_failures into a separate file, rrd_hw_update.c,
with some slight refactoring related to rrd_hw_math.c. I ran some
regression tests against trunk to make sure I didn't break anything with
the existing HWPREDICT code.

MHWPREDICT uses the same deviation smoothing and failure detection algorithms
as HWPREDICT.

Some helpful references on the multiplicative Holt-Winters method:

http://www.it.iitb.ac.in/~praj/acads/seminar/04329008_ExponentialSmoothing.pdf
(a student's quick overview of additive vs. multiplicative HW)

http://ideas.repec.org/p/msh/ebswps/1999-1.html (paper on variations to the
multiplicative Holt-Winters, including variance calculations; FYI, my
implementation uses "Model 1")

My employer and the owner of this patch (IMVU, Inc.) is happy to license it
under the same terms as RRDtool, i.e. give it to the project.
-- Evan Miller emiller imvu.com


------------------------------------------------------------------------
r1124 | oetiker | 2007-06-15 08:43:36 +0200 | 2 lines

oops missed to update the in memory output interface here

------------------------------------------------------------------------
r1123 | oetiker | 2007-06-15 08:28:47 +0200 | 3 lines

added interface to get rendered image via a pointer to allocated memory ... Evan Miller emmiller gmail.com


------------------------------------------------------------------------
r1122 | oetiker | 2007-06-15 08:12:55 +0200 | 2 lines

improve fontnaming

------------------------------------------------------------------------
r1121 | oetiker | 2007-06-14 22:30:13 +0200 | 2 lines

fixed indentation

------------------------------------------------------------------------
r1120 | oetiker | 2007-06-14 22:28:44 +0200 | 1 line

added TEXTALIGN command to change the default text alignment
------------------------------------------------------------------------
r1119 | oetiker | 2007-06-13 18:53:32 +0200 | 2 lines

fixed tcl includes

------------------------------------------------------------------------
r1118 | oetiker | 2007-06-13 18:51:06 +0200 | 2 lines

be more helpful when raising rb_eTypeError in string_arr string_arr_new(VALUE rb_strings). This patch indicates which index is in error as well as the type you are erroneously passing. -- anonymous

------------------------------------------------------------------------
r1116 | oetiker | 2007-06-12 22:36:50 +0200 | 6 lines

Bernhard Fischer:
- fix nulling the updvals
- cosmetic change to move the option struct out of the loop.
- need to operate on a copy of optarg


------------------------------------------------------------------------
r1115 | oetiker | 2007-06-11 21:45:42 +0200 | 2 lines

added TRENDNAN function -- Timo Stripf

------------------------------------------------------------------------
r1114 | oetiker | 2007-06-11 21:45:16 +0200 | 1 line

allow output to stdout -- Timo Stripf
------------------------------------------------------------------------
r1113 | oetiker | 2007-06-11 18:49:01 +0200 | 2 lines

added more news

------------------------------------------------------------------------
r1112 | oetiker | 2007-06-11 18:34:51 +0200 | 2 lines

fixed indentation, added documentation note on gridfitting.

------------------------------------------------------------------------
r1111 | oetiker | 2007-06-11 18:33:59 +0200 | 2 lines

fix arrow locations

------------------------------------------------------------------------
r1110 | oetiker | 2007-06-11 18:20:20 +0200 | 2 lines

disable gridfitting for vector formats

------------------------------------------------------------------------
r1109 | oetiker | 2007-06-11 18:14:40 +0200 | 2 lines

make pdf output work

------------------------------------------------------------------------
r1108 | oetiker | 2007-06-11 17:32:41 +0200 | 1 line

added detail
------------------------------------------------------------------------
r1107 | oetiker | 2007-06-11 17:11:10 +0200 | 5 lines

--font-render-mode is back, and there is also
--graph-render-mode now. It allows to enable
mono graphs that look strikingly like rrdtool 1.0.x 
--tobi

------------------------------------------------------------------------
r1106 | oetiker | 2007-06-11 15:36:40 +0200 | 5 lines

Bernhard Fischer:
- NEWS mention the new file accessors
- rrd_update.c: remove unused some cruft


------------------------------------------------------------------------
r1105 | oetiker | 2007-06-11 12:09:54 +0200 | 7 lines

Bernhard Fischer:

- fix maintaining our file-pos when we have to wrap the rra_ptr in
  update().
- no need to update the header-data a second time for the mmap case.


------------------------------------------------------------------------
r1104 | oetiker | 2007-06-11 02:23:51 +0200 | 2 lines

updated news

------------------------------------------------------------------------
r1103 | oetiker | 2007-06-11 02:22:23 +0200 | 4 lines

* added some documentation
* updated version number


------------------------------------------------------------------------
r1102 | oetiker | 2007-06-11 01:55:13 +0200 | 2 lines

switched graphics library from arts to cairo+pango

------------------------------------------------------------------------
r1101 | oetiker | 2007-06-04 13:15:11 +0200 | 3 lines

Bernhard Fischer:
- new configure option --enable-static-programs

------------------------------------------------------------------------
r1100 | oetiker | 2007-06-01 21:11:49 +0200 | 5 lines

Bernhard:
- implement resize SHRINK for FD (mmap is to be done)
- indent


------------------------------------------------------------------------
r1099 | oetiker | 2007-06-01 19:59:25 +0200 | 2 lines

--full-size-mode with and without --no-legend should work now -- Matthew Chambers

------------------------------------------------------------------------
r1098 | oetiker | 2007-06-01 19:35:46 +0200 | 4 lines

Bernhard
- fill the file with DNAN and add the remaining data in after the fact ... 


------------------------------------------------------------------------
r1097 | oetiker | 2007-06-01 19:34:15 +0200 | 3 lines

Bernhard Fischer 
- implement resize, growing part. truncation is to be done.

------------------------------------------------------------------------
r1096 | oetiker | 2007-06-01 11:10:33 +0200 | 6 lines

Bernhard Fischer
- use 'z' length modifier when printing size_t
- add a cast to __rrd_read and document why it is there
- add RANDOM hint for the header


------------------------------------------------------------------------
r1095 | oetiker | 2007-05-31 20:47:13 +0200 | 7 lines

Bernhard:
- plug tiny mem-leak in error path of rrd_close where freeing the
  rrd_file was forgotten.
- improve two error messages
- use CHECK_MADVISE_OVERLAPS per default


------------------------------------------------------------------------
r1094 | oetiker | 2007-05-30 21:56:34 +0200 | 2 lines

fix rrd_write -- Bernhard Fischer

------------------------------------------------------------------------
r1093 | oetiker | 2007-05-30 14:41:39 +0200 | 1 line

fix indenting ... again
------------------------------------------------------------------------
r1092 | oetiker | 2007-05-30 14:39:30 +0200 | 6 lines

From Bernhard Fischer

- rrd_close(): call close on the file and use rrd_close consistently
- clean up some error paths. The fadvise error path is leaking memory (see XXX in these spots).


------------------------------------------------------------------------
r1089 | oetiker | 2007-05-30 07:23:07 +0200 | 3 lines

switch for rrd_graph to specify the outer-size of the graph and not just the
size of the canvas: --full-size-mode -- matthew.chambers vanderbilt.edu

------------------------------------------------------------------------
r1088 | oetiker | 2007-05-29 23:29:17 +0200 | 22 lines

More updates from Bernhard Fischer

- flag rrd_resize's old file with RRD_COPY
- cleanup error-handling pathes in rrd_update and fix a few typos in
  comments
- rrd_close(): implement printing mincore results for the rrd if
  DEBUG=2 was defined
- rrd_open(): madvise start addresses need to be page-aligned; implement
  alternative path to the fine-grained (i.e. exact) madvise by flagging
  just the first two pages as needed (see TWO_PAGES). Implement
  alternative path that records the last madvise()ed area to avoid
  redundant calls to madvise() on identical areas (due to
  page-alignment constraints) -- see CHECK_MADVISE_OVERLAPS. Implement
  path for USE_DIRECT_IO.
- configure: add check for O_DIRECT flag to open(2). Add option
  --enable-direct-io. Add _GNU_SOURCE to CFLAGS to silence warnings
  about chroot which is marked LEGACY since SUSv2 and is a non POSIX
  extension. Make checks for posix_fadvise() dependant on
  --disable-mmap, since we do not need fadvise for the mmap case.



------------------------------------------------------------------------
r1086 | oetiker | 2007-05-25 17:24:32 +0200 | 2 lines

tobis old cruft removal program ...

------------------------------------------------------------------------
r1085 | oetiker | 2007-05-25 15:14:35 +0200 | 8 lines

updates from Bernhard Fischer rep dot nop gmail com
- add some more rrd_sterror calls to failure paths.
- make rrdtool updatev work like 1.2.23 (i.e. multiple values are still
  broken, but at least updating a single value works; see
  http://oss.oetiker.ch/rrdtool-trac/ticket/8)
- indent touched files.


------------------------------------------------------------------------
r1084 | oetiker | 2007-05-25 15:12:07 +0200 | 19 lines

Updates from Bernhard Fischer rep dot nop gmail com
- fix typo in rrd_fetch where rrd_read result was checked against an
  incorrect size.
- in rrd_fetch, drop rrd_head_size in favour of rrd_file->header_len
- in rrd_fetch, make the message "post fetch" unambiguous (now past vs.
  post).
- change usage of param rdwr of rrd_open: allow for RRD_READONLY,
  RRD_READWRITE, RRD_CREAT, RRD_READAHEAD; adjust callers accordingly:
  + rrd_resize needs CREAT
  + rrd_dump may want READAHEAD
- implement FD based I/O in rrd_open, rrd_read, rrd_write, rrd_seek.
- in rrd_update, unify write_RRA_row().
- sort | uniq the -T in .indent.pro (info_t was duplicated)
- add stub of an option to use O_DIRECT to the configury
- in Makefile.am, simplify the "indent" invocation of find:
  My find may not support "-o" resp. "-or" nor braces.
  Using -name "*.[ch]" works everywhere, AFAIK.


------------------------------------------------------------------------
r1083 | oetiker | 2007-05-24 10:26:39 +0200 | 2 lines

use proper preprocessor directives for the config-checks. -- tobi

------------------------------------------------------------------------
r1082 | oetiker | 2007-05-24 09:21:48 +0200 | 2 lines

fixed version number for development

------------------------------------------------------------------------
r1081 | oetiker | 2007-05-24 08:16:01 +0200 | 3 lines

indent all the rest of the code, and add some typedefs to indent.pro
there is now a indent makefile target

------------------------------------------------------------------------
r1080 | oetiker | 2007-05-23 23:40:21 +0200 | 2 lines

removed superfluouse code

------------------------------------------------------------------------
r1079 | oetiker | 2007-05-23 23:39:58 +0200 | 2 lines

added more indenting rules

------------------------------------------------------------------------
r1078 | oetiker | 2007-05-23 23:33:45 +0200 | 3 lines

reindented everything according to .indent.pro


------------------------------------------------------------------------
r1077 | oetiker | 2007-05-23 22:57:43 +0200 | 2 lines

profile must be in the source directory to work

------------------------------------------------------------------------
r1076 | oetiker | 2007-05-23 22:57:24 +0200 | 2 lines

tabs be gone!

------------------------------------------------------------------------
r1075 | oetiker | 2007-05-23 22:42:13 +0200 | 4 lines

* progress in moving all the fileaccess over to a wrapper system that can do fd based and mmap based fileaccess transparently ... 
* small fixes left and right to improve code quality and stability.
-- Bernhard Fischer rep dot nop gmail com

------------------------------------------------------------------------
r1074 | oetiker | 2007-05-23 18:10:23 +0200 | 2 lines

we are going to use indent from now on to keep code indenting consistent throughout the project

------------------------------------------------------------------------
r1073 | oetiker | 2007-05-23 18:08:14 +0200 | 2 lines

new trunk based on current 1.2

------------------------------------------------------------------------
r1071 | oetiker | 2007-05-22 22:46:25 +0200 | 2 lines

fixed spelling

------------------------------------------------------------------------
r1070 | oetiker | 2007-05-22 22:44:57 +0200 | 4 lines

* better tests for madvise, fadvise and fdatasync 
* fix inclusion of fcntl.h
* clenups for configure.ac -- Bernhard Fischer rep dot nop gmail com

------------------------------------------------------------------------
r1067 | oetiker | 2007-05-19 07:47:29 +0200 | 2 lines

update defines according to manual pageentry

------------------------------------------------------------------------
r1066 | oetiker | 2007-05-18 18:40:55 +0200 | 2 lines

added madvise MADV_RANDOM is rrd_update uses mmap

------------------------------------------------------------------------
r1065 | oetiker | 2007-05-18 13:56:34 +0200 | 5 lines

* dropping in rrd_update is probably overkill since we may be dropping too much.
* in create we have to flush before dropping.
* read fcntl.h after defining the __USE_XOPEN2K
* fix drop code in fetch ... 

------------------------------------------------------------------------
r1064 | oetiker | 2007-05-17 13:38:54 +0200 | 2 lines

now the fadvise code actually compiles ... let the testing begin.

------------------------------------------------------------------------
r1063 | oetiker | 2007-05-17 10:44:26 +0200 | 2 lines

new better ? performance test ... work in progress

------------------------------------------------------------------------
r1062 | oetiker | 2007-05-17 10:44:06 +0200 | 7 lines

added posix_fadvise support (untested) ... this should help performance by
stopping read-ahead and droping buffer cache for all rrd data except the
file header portion. Newly created files are fdsynced to disk and released
from cache after creation, to soften the blow on buffer cache by creating
new rrds.


------------------------------------------------------------------------
r1061 | oetiker | 2007-05-16 22:35:56 +0200 | 2 lines

remove tabs and replace with 8 spaces

------------------------------------------------------------------------
r1060 | oetiker | 2007-05-15 10:39:17 +0200 | 2 lines

use libdir instead of exec_prefix/lib ... maybe someone wants their libraries in another place

------------------------------------------------------------------------
r1059 | oetiker | 2007-05-15 10:36:52 +0200 | 2 lines

yet another attempt to make the python build environment REALY cool

------------------------------------------------------------------------
r1057 | oetiker | 2007-05-09 17:26:57 +0200 | 3 lines

make sure the python extension gets the final resting place of the rrdlibrary compiled in ... 


------------------------------------------------------------------------
r1056 | oetiker | 2007-05-08 17:10:21 +0200 | 3 lines

ruby complained about finding a previous copy of the rrdtool extension ... very odd thing actually ...
adding RUBYARCHDIR= seems to help ... 

------------------------------------------------------------------------
r1055 | oetiker | 2007-05-06 21:38:22 +0200 | 2 lines

don't use round since it is c99 ... use floor(x+0.5) for positive numbers instead.

------------------------------------------------------------------------
r1054 | oetiker | 2007-05-06 10:50:11 +0200 | 2 lines

print the name of the HW cf in debug mode -- Helge Oldach

------------------------------------------------------------------------
r1053 | oetiker | 2007-05-03 14:49:44 +0200 | 2 lines

added some more rounding for int to float comparisons

------------------------------------------------------------------------
r1052 | oetiker | 2007-05-03 14:43:15 +0200 | 2 lines

Testing an double and an integer for equality is bound to produce odd results on times. Don't do it! -- rrdtool@oldach.net

------------------------------------------------------------------------
r1050 | oetiker | 2007-05-02 20:06:05 +0200 | 1 line

prepare for the release of rrdtool-1.2.23
------------------------------------------------------------------------
r1049 | oetiker | 2007-05-02 20:05:37 +0200 | 2 lines

fix python install for virgin systems

------------------------------------------------------------------------
r1047 | oetiker | 2007-05-02 17:31:29 +0200 | 1 line

prepare for the release of rrdtool-1.2.22
------------------------------------------------------------------------
r1046 | oetiker | 2007-05-02 17:31:05 +0200 | 2 lines

fixed old urls in code

------------------------------------------------------------------------
r1045 | oetiker | 2007-05-02 17:23:34 +0200 | 2 lines

fix python for staged installs

------------------------------------------------------------------------
r1044 | oetiker | 2007-05-02 07:08:21 +0200 | 2 lines

fixed path to rrd_format.h in tcl bindings

------------------------------------------------------------------------
r1042 | oetiker | 2007-05-01 22:41:59 +0200 | 1 line

prepare for the release of rrdtool-1.2.21
------------------------------------------------------------------------
r1041 | oetiker | 2007-05-01 22:40:15 +0200 | 2 lines

if the graph goes 'down' minval must be hanged instead

------------------------------------------------------------------------
r1039 | oetiker | 2007-05-01 18:36:02 +0200 | 1 line

prepare for the release of rrdtool-1.2.20
------------------------------------------------------------------------
r1038 | oetiker | 2007-05-01 18:24:03 +0200 | 2 lines

updated win32 and netware Makefiles -- Guenter Knauf

------------------------------------------------------------------------
r1037 | oetiker | 2007-05-01 18:23:19 +0200 | 2 lines

added some const casts

------------------------------------------------------------------------
r1036 | oetiker | 2007-05-01 18:19:47 +0200 | 3 lines

added --alt-autoscale-min (see --alt-autoscale-max) -- Helge Oldach


------------------------------------------------------------------------
r1032 | oetiker | 2007-04-10 07:43:34 +0200 | 2 lines

untabified rrd_graph.c

------------------------------------------------------------------------
r1031 | oetiker | 2007-04-10 07:41:50 +0200 | 2 lines

use the shorthand for vidx ... 

------------------------------------------------------------------------
r1030 | oetiker | 2007-04-10 07:27:04 +0200 | 2 lines

the rrd_graph_check_vname function is not used anywhere in the code ... 

------------------------------------------------------------------------
r1029 | oetiker | 2007-04-06 09:28:33 +0200 | 2 lines

release font resources after thy have been used ... -- Travis Spencer

------------------------------------------------------------------------
r1028 | oetiker | 2007-04-02 08:21:19 +0200 | 6 lines

new function rrd_fetch_r() (and make the
strings const char* instead of char*).  The only difference between
rrd_fetch_r() and rrd_fetch_fn() is that rrd_fetch_r() receives the
consolidation function as a string (instead of an enum cf_en) and is thread-safe -- Sam Umbach


------------------------------------------------------------------------
r1027 | oetiker | 2007-04-02 08:18:15 +0200 | 2 lines

make xml2rrd more robust on invalid input -- Florian Forster

------------------------------------------------------------------------
r1026 | oetiker | 2007-03-29 21:08:26 +0200 | 2 lines

added vardef

------------------------------------------------------------------------
r1021 | oetiker | 2007-03-15 22:10:18 +0100 | 2 lines

fix the snprintf call for vtag ... it was using the wrong size -- kili

------------------------------------------------------------------------
r1020 | oetiker | 2007-03-15 22:03:51 +0100 | 2 lines

fixed strerror_r usage ... #85

------------------------------------------------------------------------
r1019 | oetiker | 2007-03-11 14:08:31 +0100 | 2 lines

fix netware and win32 makefiles for new getopt names

------------------------------------------------------------------------
r1018 | oetiker | 2007-03-11 14:04:41 +0100 | 2 lines

enable ID keyword in all source files

------------------------------------------------------------------------
r1017 | oetiker | 2007-03-11 13:57:38 +0100 | 2 lines

do not use gnuisms in Makefile rules ($<)

------------------------------------------------------------------------
r1016 | oetiker | 2007-03-11 13:41:46 +0100 | 2 lines

use Guenters latest Netware Makefile ... 

------------------------------------------------------------------------
r1014 | oetiker | 2007-03-10 18:44:12 +0100 | 2 lines

axe the double quotes on $perlcc in configure to allow for program names with arguments.

------------------------------------------------------------------------
r1013 | oetiker | 2007-03-10 18:36:32 +0100 | 2 lines

integers can be negative ... fixed the test for this in rrd_update -- rians cc usu edu

------------------------------------------------------------------------
r1012 | oetiker | 2007-03-03 12:03:38 +0100 | 4 lines

* build extensions last since this seems to be most likely to fail
* do more testing before building the ruby extension


------------------------------------------------------------------------
r1010 | oetiker | 2007-02-24 18:23:02 +0100 | 2 lines

fix memmory problem in rrd_dump.c

------------------------------------------------------------------------
r1008 | oetiker | 2007-02-14 19:54:29 +0100 | 2 lines

new operator ABS added -- 

------------------------------------------------------------------------
r1007 | oetiker | 2007-02-14 19:48:21 +0100 | 2 lines

renamed getopt to rrd_getopt to avoid confusion on some systems ... 

------------------------------------------------------------------------
r1006 | oetiker | 2007-02-14 19:47:41 +0100 | 2 lines

cosmetic fix for usage message -- gnter knauff

------------------------------------------------------------------------
r1005 | oetiker | 2007-02-14 19:46:56 +0100 | 2 lines

added new win32 component to the release tarball

------------------------------------------------------------------------
r1004 | oetiker | 2007-02-14 19:46:16 +0100 | 2 lines

updates to the windows build system by guenter knauff

------------------------------------------------------------------------
r1003 | oetiker | 2007-02-14 07:53:01 +0100 | 2 lines

allow --units-length to reserve label space even when --y-grid=none is in effect [#75], tobi

------------------------------------------------------------------------
r1002 | oetiker | 2007-02-14 07:33:49 +0100 | 3 lines

parsing absolute time should not send us 30,000 years into the future -- Tatsuki Makino tatsuki_makino hotmail.com


------------------------------------------------------------------------
r1001 | oetiker | 2007-02-14 07:31:52 +0100 | 3 lines

Printstrftime on rrd_cgi.c returns an illegal value. It causes segmentation fault error. -- Tatsuki Makino tatsuki_makino hotmail.com


------------------------------------------------------------------------
r998 | oetiker | 2007-02-09 23:19:48 +0100 | 2 lines

more build patches from Gnter Knauf

------------------------------------------------------------------------
r997 | oetiker | 2007-02-08 07:01:43 +0100 | 2 lines

updates for Win32 and NW Makefiles -- Guenter Knauf 

------------------------------------------------------------------------
r996 | oetiker | 2007-02-08 06:54:23 +0100 | 2 lines

added get_ver.awk to release

------------------------------------------------------------------------
r995 | oetiker | 2007-02-08 06:51:48 +0100 | 2 lines

there is no Makefile.in for python anymore!

------------------------------------------------------------------------
r994 | oetiker | 2007-02-07 22:35:39 +0100 | 2 lines

DPRINTF may not be the ideal define ... use something more RRDish ... like RRDPRINTF

------------------------------------------------------------------------
r993 | oetiker | 2007-02-07 22:35:07 +0100 | 2 lines

use setup.py for python install and build work instad of trying todo it on our own

------------------------------------------------------------------------
r992 | oetiker | 2007-02-07 22:31:33 +0100 | 2 lines

added Makefile targets for python

------------------------------------------------------------------------
r991 | oetiker | 2007-02-07 22:30:18 +0100 | 2 lines

python does no get built externally

------------------------------------------------------------------------
r990 | oetiker | 2007-02-02 19:22:34 +0100 | 2 lines

added IBM Public License to the list of Exceptions

------------------------------------------------------------------------
r989 | oetiker | 2007-02-02 13:19:12 +0100 | 2 lines

increasse portability (no // comment, no ... arguments for cpp)

------------------------------------------------------------------------
r988 | oetiker | 2007-02-01 23:00:23 +0100 | 3 lines

we should use the headers from the local rrdtool setup and not the system ones!


------------------------------------------------------------------------
r986 | oetiker | 2007-02-01 06:51:34 +0100 | 1 line

prepare for the release of rrdtool-1.2.19
------------------------------------------------------------------------
r985 | oetiker | 2007-02-01 06:45:03 +0100 | 3 lines

libtool builds shared libraries anyway, no need for extra LDFLAGS
that bite non GNU ld versions

------------------------------------------------------------------------
r979 | oetiker | 2007-01-29 17:47:28 +0100 | 2 lines

resolve snprintf overflow warning by using sizeof -- Anna Bernathova suse cz

------------------------------------------------------------------------
r977 | oetiker | 2007-01-23 21:54:46 +0100 | 1 line

prepare for the release of rrdtool-1.2.18
------------------------------------------------------------------------
r976 | oetiker | 2007-01-23 21:52:35 +0100 | 4 lines

the change from R920 to fetch was not helping ... no low res got prefered in
non full coverage situations ..


------------------------------------------------------------------------
r975 | oetiker | 2007-01-23 18:30:27 +0100 | 2 lines

another control sequence that got lost ... 

------------------------------------------------------------------------
r974 | oetiker | 2007-01-23 09:28:56 +0100 | 2 lines

read up to full potential length of gdp->rrd 

------------------------------------------------------------------------
r972 | oetiker | 2007-01-22 17:34:55 +0100 | 2 lines

added missing B formatting instruction

------------------------------------------------------------------------
r971 | oetiker | 2007-01-22 11:49:19 +0100 | 2 lines

create non version link

------------------------------------------------------------------------
r969 | oetiker | 2007-01-22 11:33:30 +0100 | 1 line

prepare for the release of rrdtool-1.2.17
------------------------------------------------------------------------
r968 | oetiker | 2007-01-22 11:29:11 +0100 | 1 line

prepare for the release of rrdtool-1.2.17
------------------------------------------------------------------------
r967 | oetiker | 2007-01-22 11:28:39 +0100 | 6 lines

introduced \n as an alias for \l since people seem to be using it despite
the documentation not talking about this ... so now it is official and I bet
there will soon be people asking why this was only working at the end of a
line. -- tobi


------------------------------------------------------------------------
r966 | oetiker | 2007-01-21 23:22:30 +0100 | 2 lines

removed mentiones of \n ... 

------------------------------------------------------------------------
r962 | oetiker | 2007-01-20 23:54:25 +0100 | 1 line

prepare for the release of rrdtool-1.2.16
------------------------------------------------------------------------
r961 | oetiker | 2007-01-20 23:48:37 +0100 | 1 line

prepare for the release of rrdtool-1.2.16
------------------------------------------------------------------------
r960 | oetiker | 2007-01-20 23:22:10 +0100 | 1 line

prepare for the release of rrdtool-1.2.16
------------------------------------------------------------------------
r959 | oetiker | 2007-01-20 21:19:13 +0100 | 1 line

prepare for the release of rrdtool-1.2.16
------------------------------------------------------------------------
r958 | oetiker | 2007-01-20 21:17:31 +0100 | 1 line

prepare for the release of rrdtool-1.2.16
------------------------------------------------------------------------
r957 | oetiker | 2007-01-20 21:16:15 +0100 | 1 line

prepare for the release of rrdtool-1.2.16
------------------------------------------------------------------------
r956 | oetiker | 2007-01-20 21:03:14 +0100 | 2 lines

this did not compile after integrating the new fetchlast command  -- Andy Riebs

------------------------------------------------------------------------
r955 | oetiker | 2007-01-20 17:41:15 +0100 | 1 line

prepare for the release of rrdtool-1.2.16
------------------------------------------------------------------------
r954 | oetiker | 2007-01-20 17:39:32 +0100 | 2 lines

get ready for 1.2.16 release

------------------------------------------------------------------------
r953 | oetiker | 2007-01-19 00:43:26 +0100 | 2 lines

aargh another missing bit from lastupdate added ...

------------------------------------------------------------------------
r952 | oetiker | 2007-01-18 00:35:01 +0100 | 2 lines

finish integration of lastupdate commmand ... 

------------------------------------------------------------------------
r951 | oetiker | 2007-01-17 22:31:23 +0100 | 4 lines

New functions lastupdate to efficiently get the last values fed into the rrd ... this also changes that the last values
get stored even for ABSOLUTE and GAUGE data sources ... -- andy.riebs hp.com


------------------------------------------------------------------------
r938 | oetiker | 2006-12-16 17:14:43 +0100 | 2 lines

add missing \0 to the end of several strncpy strings

------------------------------------------------------------------------
r937 | oetiker | 2006-12-16 17:13:53 +0100 | 5 lines

replace malloc/strncpy by strdup
add \0 to the end of several strncpy strings
add missing free
fix error string rendering :... makes no sense here

------------------------------------------------------------------------
r936 | oetiker | 2006-12-16 17:11:46 +0100 | 2 lines

move headers around to make more sense

------------------------------------------------------------------------
r935 | oetiker | 2006-12-16 17:10:58 +0100 | 2 lines

init the context on first call

------------------------------------------------------------------------
r934 | oetiker | 2006-12-16 17:05:07 +0100 | 2 lines

make sure there is ample space in the static strings

------------------------------------------------------------------------
r933 | oetiker | 2006-12-16 17:04:05 +0100 | 2 lines

oops 99 is the last item

------------------------------------------------------------------------
r932 | oetiker | 2006-12-16 17:02:43 +0100 | 3 lines

it is sufficient to set the last item to 0


------------------------------------------------------------------------
r931 | oetiker | 2006-12-16 17:02:00 +0100 | 2 lines

getopt is required for rrdupdate too (there are platforms where this is not in libc ... eg solaris)

------------------------------------------------------------------------
r930 | oetiker | 2006-12-16 17:01:25 +0100 | 2 lines

we have 2006 now

------------------------------------------------------------------------
r929 | oetiker | 2006-12-16 16:56:26 +0100 | 4 lines

it makes no sense allocating an array and then asiging it to a fixed string ... 
this caused stuff to crash badly as long error strings were assigned.


------------------------------------------------------------------------
r927 | oetiker | 2006-12-11 20:11:36 +0100 | 2 lines

added note on alternate CFLAGS for Forte

------------------------------------------------------------------------
r925 | oetiker | 2006-12-07 20:51:59 +0100 | 2 lines

c is a valid formatting character

------------------------------------------------------------------------
r922 | oetiker | 2006-11-19 12:15:32 +0100 | 2 lines

fixed typo

------------------------------------------------------------------------
r920 | oetiker | 2006-11-06 07:53:13 +0100 | 4 lines

when fetching, don't pick a higher res rra just because it's coverage at the 'end' of the
requested range is better ... -- Sebastian Pachuta seba123 seba123.webd.pl


------------------------------------------------------------------------
r919 | oetiker | 2006-10-27 16:03:22 +0200 | 2 lines

use integer time

------------------------------------------------------------------------
r918 | oetiker | 2006-10-27 00:26:31 +0200 | 2 lines

added perftest tool

------------------------------------------------------------------------
r917 | oetiker | 2006-10-25 19:19:46 +0200 | 2 lines

do not distribute windows files anymore ... 

------------------------------------------------------------------------
r916 | oetiker | 2006-10-25 19:18:27 +0200 | 2 lines

distribute win32 and netware build files too

------------------------------------------------------------------------
r915 | oetiker | 2006-10-25 19:17:07 +0200 | 2 lines

do not remove Makefiles from win32 and netware build dirs

------------------------------------------------------------------------
r914 | oetiker | 2006-10-25 19:12:22 +0200 | 3 lines

fix build procedure for ruby (clean target)
don't run autoreconf at the end of MakeMakefiles as this has a tendency todo the wrong things

------------------------------------------------------------------------
r913 | oetiker | 2006-10-25 18:39:31 +0200 | 2 lines

added path to sepp

------------------------------------------------------------------------
r912 | oetiker | 2006-10-25 18:30:39 +0200 | 2 lines

aclocal expects a space after -I ... 

------------------------------------------------------------------------
r911 | oetiker | 2006-10-25 18:24:44 +0200 | 2 lines

tell aclocal where to find its config ... 

------------------------------------------------------------------------
r910 | oetiker | 2006-10-25 18:11:57 +0200 | 2 lines

aclocal show know where it's stuff is ... 

------------------------------------------------------------------------
r908 | oetiker | 2006-10-22 23:20:45 +0200 | 8 lines

make time paring more robust ... it can now deal with

time date
date time
time date + xxx
date time + xxx


------------------------------------------------------------------------
r907 | oetiker | 2006-10-22 23:09:27 +0200 | 2 lines

check if valid control codes are in use

------------------------------------------------------------------------
r906 | oetiker | 2006-10-22 18:01:42 +0200 | 2 lines

fixed ruby demo

------------------------------------------------------------------------
r905 | oetiker | 2006-10-22 18:01:32 +0200 | 2 lines

fixed address

------------------------------------------------------------------------
r903 | oetiker | 2006-10-03 09:52:51 +0200 | 2 lines

added missing file

------------------------------------------------------------------------
r902 | oetiker | 2006-09-28 14:38:34 +0200 | 2 lines

fixed doc regarding site install

------------------------------------------------------------------------
r901 | oetiker | 2006-09-27 23:48:05 +0200 | 2 lines

added ruby bindings ... thanks to Los LHERBIER lois.lherbier covadis.ch

------------------------------------------------------------------------
r900 | oetiker | 2006-09-27 23:46:23 +0200 | 2 lines

make rrdupdate realy light as it was intended in the first place -- Peter Breitenlohner peb mppmu.mpg.de

------------------------------------------------------------------------
r899 | oetiker | 2006-09-27 23:45:47 +0200 | 1 line

tod can come after the date as well as before the date
------------------------------------------------------------------------
r898 | oetiker | 2006-09-18 07:45:16 +0200 | 2 lines

fix faild netware makefile merge -- Guenter Knauf

------------------------------------------------------------------------
r897 | oetiker | 2006-09-17 23:08:29 +0200 | 2 lines

make mvs stop complaining about uninitialized variables ... -- norman wheeler bigpond.com

------------------------------------------------------------------------
r896 | oetiker | 2006-09-17 23:05:18 +0200 | 2 lines

fixed spelling -- Peter Breitenlohner

------------------------------------------------------------------------
r895 | oetiker | 2006-09-17 22:46:17 +0200 | 3 lines

fix generation of cgi-demo.cgi --  Peter Breitenlohner peb mppmu.mpg.de


------------------------------------------------------------------------
r894 | oetiker | 2006-09-17 22:31:26 +0200 | 4 lines

make rrdtool use rrd_config.h instead of config.h since this is just bound to lead to confusion when the wrong config.h gets sourced --  Guenter Knauf
fix clean target in bindings directory


------------------------------------------------------------------------
r893 | oetiker | 2006-09-10 21:30:22 +0200 | 2 lines

the msvc files need dos file endings ... 

------------------------------------------------------------------------
r892 | oetiker | 2006-09-10 21:26:05 +0200 | 2 lines

we want an int, so lets tell the compiler to make it not complain

------------------------------------------------------------------------
r891 | oetiker | 2006-09-10 21:20:59 +0200 | 2 lines

netware und win32 fixes from guenter

------------------------------------------------------------------------
r890 | oetiker | 2006-09-05 21:55:36 +0200 | 2 lines

we do not need an extra echo there

------------------------------------------------------------------------
r889 | oetiker | 2006-09-05 20:34:47 +0200 | 2 lines

put all the architecture specific stuff in separate subdirectories ... one for netwara and one for win32 -- Guenter Knauf

------------------------------------------------------------------------
r888 | oetiker | 2006-09-05 20:19:02 +0200 | 3 lines

noone needs this anymore


------------------------------------------------------------------------
r887 | oetiker | 2006-09-04 23:10:55 +0200 | 1 line

in logarithmic mode minval must not be <= 0
------------------------------------------------------------------------
r883 | oetiker | 2006-08-24 06:14:54 +0200 | 2 lines

add more submission encuragement -- alex

------------------------------------------------------------------------
r882 | oetiker | 2006-08-21 13:41:57 +0200 | 2 lines

updated windows build instructions from guenter

------------------------------------------------------------------------
r881 | oetiker | 2006-08-16 08:07:26 +0200 | 2 lines

contain a potential problem with log grid painting Bug #54

------------------------------------------------------------------------
r880 | oetiker | 2006-08-15 07:51:04 +0200 | 1 line

do not loose filedescriptors when rrd_first errors out
------------------------------------------------------------------------
r879 | oetiker | 2006-08-15 07:44:54 +0200 | 2 lines

catch empty XXXX: commands in graph

------------------------------------------------------------------------
r878 | oetiker | 2006-08-15 07:24:39 +0200 | 2 lines

windows is not NT anymore ... lets call it WIN32

------------------------------------------------------------------------
r877 | oetiker | 2006-08-13 18:41:23 +0200 | 2 lines

use unix fileendings here!

------------------------------------------------------------------------
r876 | oetiker | 2006-08-13 18:40:17 +0200 | 2 lines

new version added by Guenter Knauf

------------------------------------------------------------------------
r875 | oetiker | 2006-08-13 18:25:00 +0200 | 3 lines

added new rrdstrversion function -- Guenter Knauf


------------------------------------------------------------------------
r874 | oetiker | 2006-08-13 18:22:53 +0200 | 3 lines

use th OS provided timezone names for %Z this should make things more flexile
will only work on windows, but since we are using strftime.c on windows only this should not be a problem -- Guenter Knauf

------------------------------------------------------------------------
r873 | oetiker | 2006-08-13 18:13:13 +0200 | 2 lines

include strftime.h for windows builds -- Guenter Knauff

------------------------------------------------------------------------
r872 | oetiker | 2006-08-13 18:10:23 +0200 | 2 lines

removed mscv defines to confignt/config.h completely -- Guenter Knauf

------------------------------------------------------------------------
r871 | oetiker | 2006-08-13 18:09:25 +0200 | 2 lines

working windows config.h 

------------------------------------------------------------------------
r870 | oetiker | 2006-08-13 18:07:36 +0200 | 3 lines

can't define new variables in the middle of the code (unless everyone was using c99 which is not the case)


------------------------------------------------------------------------
r869 | oetiker | 2006-08-13 17:21:12 +0200 | 3 lines

added special labeling for LONGTERM graphs -- Paul Boven p.boven sara.nl


------------------------------------------------------------------------
r867 | oetiker | 2006-08-10 09:46:22 +0200 | 2 lines

it seems some headers have nan predefined ... so lets just use other variable names 

------------------------------------------------------------------------
r866 | oetiker | 2006-08-04 17:06:18 +0200 | 2 lines

copy of the solaris isnan hack from configure.ac

------------------------------------------------------------------------
r865 | oetiker | 2006-08-04 00:21:37 +0200 | 3 lines

solaris 10 has isnan defined as a sun forte builtin ... gcc can not deal with this
this will replace isnan with an fpclass expression hopefully working around the problem

------------------------------------------------------------------------
r864 | oetiker | 2006-08-02 17:05:36 +0200 | 3 lines

fixing python bindings ...  Jarod Wilson jwilson redhat.com


------------------------------------------------------------------------
r863 | oetiker | 2006-08-01 15:08:33 +0200 | 2 lines

unknownaszero was not a good idea ... bye bye

------------------------------------------------------------------------
r862 | oetiker | 2006-08-01 00:48:45 +0200 | 2 lines

new options --enumds and --unknwonaszero for xport

------------------------------------------------------------------------
r860 | oetiker | 2006-07-14 14:11:16 +0200 | 1 line

prepare for the release of rrdtool-1.2.15
------------------------------------------------------------------------
r859 | oetiker | 2006-07-14 14:06:09 +0200 | 1 line

we were leaking directory handles ... 
------------------------------------------------------------------------
r858 | oetiker | 2006-07-14 13:34:23 +0200 | 1 line

remove an excess =over
------------------------------------------------------------------------
r857 | oetiker | 2006-07-14 13:32:39 +0200 | 2 lines

added missing =over

------------------------------------------------------------------------
r855 | oetiker | 2006-07-14 13:12:45 +0200 | 1 line

prepare for the release of rrdtool-1.2.14
------------------------------------------------------------------------
r854 | oetiker | 2006-07-14 11:47:34 +0200 | 2 lines

do not reset im->gdes[i].step blindly. We initialize it to im->step at allocation time already ... the fix in r291 was over the top. -- niels weaklogic.com

------------------------------------------------------------------------
r853 | oetiker | 2006-07-14 10:56:28 +0200 | 3 lines

added pwd command for remote server
reset errno to zero before each loop  -- Damien.Stuart usi.net

------------------------------------------------------------------------
r852 | oetiker | 2006-07-13 10:44:47 +0200 | 2 lines

fixed makefiles without libcgi ... guenter knauf

------------------------------------------------------------------------
r851 | oetiker | 2006-07-08 00:37:20 +0200 | 2 lines

added first function to python bindings ... --  Ulf Lilleengen lulf pvv.ntnu.no

------------------------------------------------------------------------
r850 | oetiker | 2006-07-06 00:00:25 +0200 | 2 lines

we have no cgilib anymore ....

------------------------------------------------------------------------
r849 | oetiker | 2006-07-04 23:04:12 +0200 | 2 lines

let rrdtool  understand <?xml ...?> headers in rrdtool restore input

------------------------------------------------------------------------
r847 | oetiker | 2006-06-18 23:21:56 +0200 | 3 lines

Added AVG function to CDEF language. Martin Sperl martin sperl.org


------------------------------------------------------------------------
r846 | oetiker | 2006-06-16 00:16:04 +0200 | 2 lines

fixed libpng link

------------------------------------------------------------------------
r845 | oetiker | 2006-06-15 09:44:22 +0200 | 2 lines

added hint for RHEL

------------------------------------------------------------------------
r843 | oetiker | 2006-06-13 23:20:36 +0200 | 2 lines

added missing tcl files

------------------------------------------------------------------------
r842 | oetiker | 2006-06-07 23:01:35 +0200 | 2 lines

fix calc of fahrenheit ... 

------------------------------------------------------------------------
r841 | oetiker | 2006-06-06 15:25:32 +0200 | 2 lines

additional AIX hints from zoran.majcenic inet.hr

------------------------------------------------------------------------
r840 | oetiker | 2006-06-06 10:16:05 +0200 | 3 lines

new, working rrdtool.spec file from Jarod Wilson jwilson redhat.com


------------------------------------------------------------------------
r839 | oetiker | 2006-05-27 07:44:15 +0200 | 2 lines

python uses the name of the module for loding, so this should better match up -- Duncan Webb  duncan dwebb ch

------------------------------------------------------------------------
r838 | oetiker | 2006-05-25 17:13:56 +0200 | 2 lines

addeed AIX instructions

------------------------------------------------------------------------
r837 | oetiker | 2006-05-23 08:52:22 +0200 | 2 lines

adjust label spacing to make sure labels don't overlap for the default font.

------------------------------------------------------------------------
r836 | oetiker | 2006-05-22 00:14:27 +0200 | 2 lines

add note about variable name picking as suggested by alex

------------------------------------------------------------------------
r835 | oetiker | 2006-05-22 00:07:02 +0200 | 1 line

another Makefile update from guenter
------------------------------------------------------------------------
r834 | oetiker | 2006-05-22 00:06:17 +0200 | 2 lines

tiny updates to netware and win32 makefiles -- Guenter Knauf

------------------------------------------------------------------------
r833 | oetiker | 2006-05-21 23:53:57 +0200 | 2 lines

fixed type hte->the

------------------------------------------------------------------------
r832 | oetiker | 2006-05-21 23:47:23 +0200 | 3 lines

make vdef time part available in the data_calc stage so that the legend printer
can decide properly

------------------------------------------------------------------------
r831 | oetiker | 2006-05-21 23:15:39 +0200 | 2 lines

new GPRINT option :strftime to print time associated with a VDEF value

------------------------------------------------------------------------
r830 | oetiker | 2006-05-21 22:20:11 +0200 | 2 lines

make configure test which flags gcc actually accepts ... 

------------------------------------------------------------------------
r829 | oetiker | 2006-05-21 15:08:46 +0200 | 2 lines

don't deprecate HRULE anymore

------------------------------------------------------------------------
r828 | oetiker | 2006-05-21 14:37:12 +0200 | 2 lines

allow DS names starting with the same letters as operators

------------------------------------------------------------------------
r827 | oetiker | 2006-05-12 15:26:00 +0200 | 2 lines

we wan't to dist thread_save_nt too

------------------------------------------------------------------------
r826 | oetiker | 2006-05-11 13:11:04 +0200 | 2 lines

make DNAN and DINF faster by caching the result of the first calculation -- pascal.gloor spale.com

------------------------------------------------------------------------
r825 | oetiker | 2006-05-11 09:37:58 +0200 | 2 lines

tell Makefile.PL how to store an rpath under aix

------------------------------------------------------------------------
r824 | oetiker | 2006-05-10 22:51:09 +0200 | 2 lines

improved scaling for --logarithmic mode ... -- beat.zahnd space.unibe.ch

------------------------------------------------------------------------
r823 | oetiker | 2006-05-09 20:46:14 +0200 | 2 lines

don't panic if the user forgets to specify the name of the rrd file

------------------------------------------------------------------------
r822 | oetiker | 2006-05-07 12:46:24 +0200 | 2 lines

make legend spacing more reliable. handle the fact that some graph comands do not contribute to the legend -- tobi

------------------------------------------------------------------------
r821 | oetiker | 2006-05-06 15:29:33 +0200 | 3 lines

lets have index.html -- Peter Breitenlohner <peb mppmu.mpg.de>


------------------------------------------------------------------------
r820 | oetiker | 2006-05-06 15:28:57 +0200 | 4 lines

Avoid gcc warning (discards qualifier) in tclrrd.c -- Peter Breitenlohner <peb mppmu.mpg.de>



------------------------------------------------------------------------
r819 | oetiker | 2006-05-06 15:28:16 +0200 | 2 lines

Avoid gcc warning ("static not first") -- Peter Breitenlohner <peb mppmu.mpg.de>

------------------------------------------------------------------------
r818 | oetiker | 2006-05-06 15:24:23 +0200 | 3 lines

Avoid gcc warnings about use of "long long" -- Peter Breitenlohner <peb mppmu.mpg.de>


------------------------------------------------------------------------
r817 | oetiker | 2006-05-06 15:21:42 +0200 | 2 lines

Use tclpkgdir instead of pkglibdir in order to avoid automake warning --  Peter Breitenlohner <peb mppmu.mpg.de>

------------------------------------------------------------------------
r816 | oetiker | 2006-05-06 15:20:26 +0200 | 4 lines

The rrdtoolmodule.so should be installed in pyexecdir instead of pythondir (they differ if prefix!=exec_prefix) -- Peter Breitenlohner <peb mppmu.mpg.de>



------------------------------------------------------------------------
r815 | oetiker | 2006-05-04 22:41:51 +0200 | 3 lines

fix for debian bug 359071 ... reporting the long cdef in the error message was too much ...
plus some other small cleanups in this context

------------------------------------------------------------------------
r813 | oetiker | 2006-05-04 15:26:21 +0200 | 1 line

prepare for the release of rrdtool-1.2.13
------------------------------------------------------------------------
r812 | oetiker | 2006-05-04 15:24:16 +0200 | 2 lines

fix my mail address

------------------------------------------------------------------------
r811 | oetiker | 2006-05-04 15:12:01 +0200 | 2 lines

fewer double frees ... -- slamb slamb.org

------------------------------------------------------------------------
r810 | oetiker | 2006-05-04 15:02:26 +0200 | 4 lines

* fixed argument parsing for long options
* no more doublefree on abort
* enable restore of xml dumps created with rrdtool 1.0.x

------------------------------------------------------------------------
r809 | oetiker | 2006-05-04 14:11:09 +0200 | 3 lines

if end % step == 0 we should still fetch a full step ... no need
for special handling

------------------------------------------------------------------------
r808 | oetiker | 2006-05-04 09:48:04 +0200 | 4 lines

updated handling of subsecond resolution in connection with unknown data ... bugreport #38 pointed out
that the old handling where the seconds were rounded could lead to cases where the data stored was higher than the data input ...
now I always floor the unknown seconds and this will lead to the same or lower data but not higher ... -- tobi

------------------------------------------------------------------------
r806 | oetiker | 2006-05-02 22:52:46 +0200 | 2 lines

variables should be defined at the bein of the block ... else we loose portability!

------------------------------------------------------------------------
r805 | oetiker | 2006-04-29 10:57:25 +0200 | 2 lines

fixed spelling

------------------------------------------------------------------------
r804 | oetiker | 2006-04-27 08:37:03 +0200 | 2 lines

new units=si option -- wim.heirmann elis.urgent.be

------------------------------------------------------------------------
r802 | oetiker | 2006-04-25 23:00:09 +0200 | 2 lines

compile without multibyte support

------------------------------------------------------------------------
r801 | oetiker | 2006-04-25 22:59:41 +0200 | 2 lines

lets have proper dependencies

------------------------------------------------------------------------
r800 | oetiker | 2006-04-24 17:14:10 +0200 | 2 lines

make sure things are initialised ... 

------------------------------------------------------------------------
r796 | oetiker | 2006-04-18 07:29:34 +0200 | 2 lines

shared should be share !

------------------------------------------------------------------------
r795 | oetiker | 2006-04-17 22:25:33 +0200 | 3 lines

Add a second label to the Y axis if there is only going to be one -- Jason A. Smith smithj4 X bnl.gov


------------------------------------------------------------------------
r790 | oetiker | 2006-04-14 12:17:28 +0200 | 2 lines

no more people links!

------------------------------------------------------------------------
r788 | oetiker | 2006-04-14 11:22:00 +0200 | 2 lines

remove people references

------------------------------------------------------------------------
r785 | oetiker | 2006-04-07 16:37:52 +0200 | 2 lines

add solaris hint to bild procedure

------------------------------------------------------------------------
r784 | oetiker | 2006-04-04 20:46:08 +0200 | 2 lines

allow for input lines of arbitrary length in rrdtool pipe mode -- roger.meier terreactive.ch

------------------------------------------------------------------------
r782 | oetiker | 2006-04-01 17:36:05 +0200 | 1 line

watermartk feature for rrdgraph by Ronan Mullally
------------------------------------------------------------------------
r781 | oetiker | 2006-03-26 16:36:35 +0200 | 2 lines

vnames can be up to MAX_VNAME_LEN long ... not only 30 chars ... --  Ulf Harnhammar metaur telia.com

------------------------------------------------------------------------
r780 | oetiker | 2006-03-26 16:29:53 +0200 | 2 lines

potential bufferoverflow throught large windir avoided

------------------------------------------------------------------------
r776 | oetiker | 2006-03-14 15:59:57 +0100 | 2 lines

added note on the fact that no OK will be printed in rrdtool pipe mode if an error occures.

------------------------------------------------------------------------
r775 | oetiker | 2006-03-14 08:11:00 +0100 | 2 lines

RRDtool in remote mode will either print an ERROR line or an OK line not both.

------------------------------------------------------------------------
r774 | oetiker | 2006-03-14 00:21:27 +0100 | 2 lines

in pipe mode, make rrd_tool send errors to STDOUT (most of the time) -- tobi

------------------------------------------------------------------------
r772 | oetiker | 2006-03-06 08:15:45 +0100 | 2 lines

at least freebsd will not do utf8 bits properly without this

------------------------------------------------------------------------
r769 | oetiker | 2006-03-04 00:11:55 +0100 | 3 lines

* simplify code for STACK function ... there were two code paths (new as well as legacy from 1.0.x)
* make TICK work for negative fractions

------------------------------------------------------------------------
r768 | oetiker | 2006-03-04 00:10:46 +0100 | 2 lines

remove ~ from my wishlist address ... 

------------------------------------------------------------------------
r767 | oetiker | 2006-03-04 00:10:14 +0100 | 2 lines

make this compile even when HAVE_MBSTOWCS is not set

------------------------------------------------------------------------
r766 | oetiker | 2006-02-23 08:26:28 +0100 | 3 lines

separate matching of full and partial match evaluation for better result stability. The fetch result was dependent on the RRA ordering before.  -- Jo Rhett jrhett svcolo.com


------------------------------------------------------------------------
r764 | oetiker | 2006-02-20 07:20:37 +0100 | 2 lines

YYYYMMDDhhmm is not supported ... only YYYYMMDD

------------------------------------------------------------------------
r761 | oetiker | 2006-02-08 12:35:10 +0100 | 2 lines

OS and COPYRIGHT removed from the rrdcgi INTERNAL function since we do not have this info

------------------------------------------------------------------------
r760 | oetiker | 2006-02-06 20:49:23 +0100 | 1 line

new rrdcgi function RRD::INTERNAL for accessing VERSION, COPYRIGHT, COMPILETIME, OS -- Guenter Knauf gk gknw.de
------------------------------------------------------------------------
r759 | oetiker | 2006-02-06 20:46:26 +0100 | 2 lines

we have 2006 now so let's show it

------------------------------------------------------------------------
r755 | oetiker | 2006-01-30 00:28:21 +0100 | 1 line

more makefile cleanup from Guenter Knauf gk gknw.de
------------------------------------------------------------------------
r752 | oetiker | 2006-01-25 20:09:12 +0100 | 2 lines

allow RRDp  to catch errors

------------------------------------------------------------------------
r751 | oetiker | 2006-01-22 13:02:47 +0100 | 3 lines

clarified the documentation of xff -- Michael Bunk  mb computer-leipzig.com


------------------------------------------------------------------------
r750 | oetiker | 2006-01-22 12:00:18 +0100 | 2 lines

the operator in the example is * not + -- Nick Sharp njsharp bigpond.net.au

------------------------------------------------------------------------
r748 | oetiker | 2006-01-15 14:31:12 +0100 | 2 lines

make sure we pickup the correct config.h ... -- Blair Zajac blair orcaware.com

------------------------------------------------------------------------
r747 | oetiker | 2006-01-15 13:31:03 +0100 | 2 lines

make sure the image size only gets printed from rrd_tool when --imageinfo is NOT set.

------------------------------------------------------------------------
r746 | oetiker | 2006-01-15 13:25:36 +0100 | 2 lines

make sure gcc does not thing gridind may be undefined

------------------------------------------------------------------------
r745 | oetiker | 2006-01-15 12:12:51 +0100 | 2 lines

HWPREDICT without reference number will implicitly create the other Holt-Winters RRAs.

------------------------------------------------------------------------
r744 | oetiker | 2006-01-15 10:03:30 +0100 | 2 lines

updated NetWare and Cygwin Builds

------------------------------------------------------------------------
r743 | oetiker | 2006-01-15 09:55:53 +0100 | 2 lines

make sure gridind is defined under all conditions

------------------------------------------------------------------------
r742 | oetiker | 2006-01-14 10:10:16 +0100 | 2 lines

add perlbindings and optional export filename to rrd_dump -- Nicola Worthington nicolaw arwen.tfb.net

------------------------------------------------------------------------
r740 | oetiker | 2006-01-05 21:39:12 +0100 | 2 lines

let the building of the perl extension be more reliable ... 

------------------------------------------------------------------------
r739 | oetiker | 2006-01-05 21:07:41 +0100 | 2 lines

remove redundant if statement in rrd_gfx pdf code ...  -- NormW

------------------------------------------------------------------------
r737 | oetiker | 2006-01-04 23:07:46 +0100 | 2 lines

Compile time improvments for NetWare and Win32 -- Guenter Knauf  gk.gknw.de

------------------------------------------------------------------------
r736 | oetiker | 2006-01-04 21:12:20 +0100 | 2 lines

make sure this actually compiles with HAVE_MBSTOWCS is not defined

------------------------------------------------------------------------
r735 | oetiker | 2005-12-30 15:36:30 +0100 | 3 lines

only use getuid if it is actually available ...


------------------------------------------------------------------------
r734 | oetiker | 2005-12-26 17:01:40 +0100 | 3 lines

added heartbeat grahics


------------------------------------------------------------------------
r733 | oetiker | 2005-12-19 13:28:55 +0100 | 2 lines

fix tcl issues ... build with pre tcl8.4 ... do not try to install into the tcl tree unless --enable-tcl-site is given -- tobi

------------------------------------------------------------------------
r729 | oetiker | 2005-12-18 21:30:31 +0100 | 1 line

prepare for the release of rrdtool-1.2.12
------------------------------------------------------------------------
r728 | oetiker | 2005-12-18 21:29:51 +0100 | 3 lines

added FLOSS exception from http://www.mysql.com/company/legal/licensing/foss-exception.html
in order to not end up in license incompatibility hell -- tobi

------------------------------------------------------------------------
r725 | oetiker | 2005-11-30 10:19:16 +0100 | 3 lines

if called with --lazy we still want to PRINT ... -- Bartek Szady bszx from bszx.eu.org


------------------------------------------------------------------------
r723 | oetiker | 2005-11-28 22:59:15 +0100 | 2 lines

we should still consider the mrhb ... 

------------------------------------------------------------------------
r722 | oetiker | 2005-11-20 11:16:38 +0100 | 2 lines

improve win32 compilation -- Norm

------------------------------------------------------------------------
r721 | oetiker | 2005-11-18 21:38:51 +0100 | 2 lines

deal with versions ending in letters

------------------------------------------------------------------------
r718 | oetiker | 2005-11-16 14:14:25 +0100 | 3 lines

have indivitudal lines for generating output files, so that cygwin does not choke


------------------------------------------------------------------------
r717 | oetiker | 2005-11-15 00:07:30 +0100 | 2 lines

make mmap test a little saver

------------------------------------------------------------------------
r714 | oetiker | 2005-11-14 12:46:31 +0100 | 2 lines

cygwin can actually do mmap ... -- larryjadams with comcast.net

------------------------------------------------------------------------
r713 | oetiker | 2005-11-14 08:32:23 +0100 | 2 lines

guess the option should still  be called template :-)

------------------------------------------------------------------------
r712 | oetiker | 2005-11-13 19:32:10 +0100 | 2 lines

improve screen apperance of configure output as suggested by Dale -- tobi

------------------------------------------------------------------------
r711 | oetiker | 2005-11-13 19:31:38 +0100 | 2 lines

don't use clean: target ... automake wants this to be clean-local:

------------------------------------------------------------------------
r710 | oetiker | 2005-11-13 00:36:10 +0100 | 3 lines

add xmlns declaration to svg output -- R.P. Aditya <aditya with grot.org>


------------------------------------------------------------------------
r709 | oetiker | 2005-11-13 00:30:50 +0100 | 2 lines

clean target was broken

------------------------------------------------------------------------
r708 | oetiker | 2005-11-13 00:10:48 +0100 | 5 lines

* integrate necessary cgi functionality into rrd_cgi.c so that libcgi is not
  required anymore ...  -- D. Walsh <buildsmart at daleenterprise.com>

* check if we have to include malloc/malloc.h to make malloc work ... -- tobi

------------------------------------------------------------------------
r707 | oetiker | 2005-11-07 20:12:47 +0100 | 3 lines

the variable template has to generic a name, it clashes with other things
in some environments.

------------------------------------------------------------------------
r706 | oetiker | 2005-10-28 07:55:36 +0200 | 3 lines

added openbsd note


------------------------------------------------------------------------
r705 | oetiker | 2005-10-24 22:55:03 +0200 | 2 lines

use multithreded version of librrd -- Oleg Derevenetz <oleg with vsi.ru>

------------------------------------------------------------------------
r702 | oetiker | 2005-10-11 19:09:09 +0200 | 2 lines

improved error messages for rrd_graph commandline parsing -- Alex

------------------------------------------------------------------------
r701 | oetiker | 2005-10-11 18:51:50 +0200 | 2 lines

fix file generation

------------------------------------------------------------------------
r700 | oetiker | 2005-10-11 18:41:15 +0200 | 2 lines

die on error! -- Alex

------------------------------------------------------------------------
r699 | oetiker | 2005-10-11 18:37:58 +0200 | 2 lines

the images should be written to the current directory ... -- Alex

------------------------------------------------------------------------
r698 | oetiker | 2005-10-11 18:32:09 +0200 | 2 lines

do not complain about strict aliasing issues -- Alex

------------------------------------------------------------------------
r697 | oetiker | 2005-10-08 23:58:57 +0200 | 2 lines

allow rrd::graph to write directly to a tcl stream ... by Dave Bodenstab <dave with bodenstab.org>

------------------------------------------------------------------------
r696 | oetiker | 2005-10-07 09:48:52 +0200 | 2 lines

updates for tcl bindings by -- Dave Bodenstab <dave on bodenstab.org>

------------------------------------------------------------------------
r695 | oetiker | 2005-10-07 09:48:01 +0200 | 2 lines

included favicon in distro

------------------------------------------------------------------------
r691 | oetiker | 2005-09-26 22:33:45 +0200 | 2 lines

plugged two memmory leaks happening when a requested font is not found.

------------------------------------------------------------------------
r690 | oetiker | 2005-09-24 01:06:12 +0200 | 3 lines

hmpf its the gdef step we are talking about not the image step !


------------------------------------------------------------------------
r689 | oetiker | 2005-09-22 22:18:12 +0200 | 2 lines

do not 'reload' data if you already have it!

------------------------------------------------------------------------
r688 | oetiker | 2005-09-22 22:17:42 +0200 | 3 lines

the -r option should not expect an argument


------------------------------------------------------------------------
r685 | oetiker | 2005-09-19 09:42:17 +0200 | 2 lines

do not free stuff that gets freed later anyway

------------------------------------------------------------------------
r684 | oetiker | 2005-09-18 20:28:19 +0200 | 2 lines

Netware Build Updates --- Guenter Knauf <gk with gknw.de>

------------------------------------------------------------------------
r683 | oetiker | 2005-09-18 18:59:34 +0200 | 3 lines

allocate memory for one more row ... fetch can not return 0 reows ... 


------------------------------------------------------------------------
r682 | oetiker | 2005-09-18 17:39:49 +0200 | 2 lines

comparing floating point numbers is dangerouse ... don't do this directly!

------------------------------------------------------------------------
r681 | oetiker | 2005-09-01 23:23:34 +0200 | 3 lines

since we use firstdir even without CHROOT it should better be defined in any case
-- Guenter Knauf

------------------------------------------------------------------------
r680 | oetiker | 2005-08-30 07:52:41 +0200 | 3 lines

When selecting the x-axis label take the length of the time shown in the graph into consideration
just showing %H:%M in a two day presentation is a problem ... -- LAUKENS Niels <Niels.LAUKENS .. VRT.BE>

------------------------------------------------------------------------
r679 | oetiker | 2005-08-28 09:33:13 +0200 | 3 lines

fixed location of example scripts


------------------------------------------------------------------------
r678 | oetiker | 2005-08-27 23:29:21 +0200 | 7 lines

resolve subsecond resolution logging and handling of unknown values by
starting off with an unknown value when building a pdp instead of starting
out with 0 and then turning it into unknown later on if the number of uknown
seconds is equal or larger than the interval ...



------------------------------------------------------------------------
r677 | oetiker | 2005-08-27 22:55:46 +0200 | 2 lines

the rrdtool binary one more level up the path ... 

------------------------------------------------------------------------
r676 | oetiker | 2005-08-27 22:52:12 +0200 | 2 lines

update for new prefix setting

------------------------------------------------------------------------
r675 | oetiker | 2005-08-25 22:43:04 +0200 | 3 lines

when resize converts a v1 rrd to v3 it should also change the version number in the head ... 


------------------------------------------------------------------------
r674 | oetiker | 2005-08-23 23:18:23 +0200 | 3 lines

fixes for compiling rrdtool with win32 mingw and netware -- Guenter Knauf <gk with gknw.de>


------------------------------------------------------------------------
r673 | oetiker | 2005-08-16 07:30:29 +0200 | 3 lines

added notes about VDEF expressions not being general purpose


------------------------------------------------------------------------
r672 | oetiker | 2005-08-11 21:18:36 +0200 | 2 lines

only bomb is there is no chroot and someone tries to use it.

------------------------------------------------------------------------
r669 | oetiker | 2005-08-04 07:08:04 +0200 | 3 lines

New VDEF functions for least squares slope, intercept & correlation for simple forecasting
-- Trent Burkard <tburkard with tangentis.com>

------------------------------------------------------------------------
r668 | oetiker | 2005-08-04 06:59:01 +0200 | 2 lines

fix rounding issues that prevented UNKNOWN to work as soon as subsecond resolution was used

------------------------------------------------------------------------
r667 | oetiker | 2005-08-04 06:58:11 +0200 | 2 lines

avoid drawing lines where two points are in the same spot. this mai be confusing libart

------------------------------------------------------------------------
r666 | oetiker | 2005-08-02 17:54:32 +0200 | 2 lines

make sure clean works even when the perl Makefile is broken

------------------------------------------------------------------------
r665 | oetiker | 2005-07-26 11:13:36 +0200 | 2 lines

initialize font to empty string for deault font case.

------------------------------------------------------------------------
r663 | oetiker | 2005-07-25 16:12:58 +0200 | 1 line

prepare for the release of rrdtool-1.2.11
------------------------------------------------------------------------
r662 | oetiker | 2005-07-25 16:07:35 +0200 | 3 lines

prepared for release


------------------------------------------------------------------------
r660 | oetiker | 2005-07-22 15:16:48 +0200 | 2 lines

do not quit so easily when runing in interactive mode

------------------------------------------------------------------------
r659 | oetiker | 2005-07-22 15:16:18 +0200 | 2 lines

init ytr after all the changes have happened

------------------------------------------------------------------------
r658 | oetiker | 2005-07-22 15:10:50 +0200 | 2 lines

make --no-gridfit with --only-graph work

------------------------------------------------------------------------
r657 | oetiker | 2005-07-22 00:23:28 +0200 | 2 lines

when stacking known on unknown, then we asume unknown was zero ... 

------------------------------------------------------------------------
r654 | oetiker | 2005-07-20 09:20:04 +0200 | 2 lines

make sure gcc-4.0 does not optimize our tests away :-)

------------------------------------------------------------------------
r653 | oetiker | 2005-07-19 12:00:13 +0200 | 2 lines

fixed some corner cases in drawing code to get the same results as before with way more performance

------------------------------------------------------------------------
r652 | oetiker | 2005-07-12 00:49:09 +0200 | 2 lines

optimized drawing routines ... up to 6 times faster (in the case of smokeping)

------------------------------------------------------------------------
r651 | oetiker | 2005-07-07 12:27:55 +0200 | 2 lines

colors start with # not :

------------------------------------------------------------------------
r650 | oetiker | 2005-07-04 20:49:56 +0200 | 3 lines

make setting just the size and not the font work -- Havard Eidnes <he from uninett.no>


------------------------------------------------------------------------
r649 | oetiker | 2005-06-28 23:03:20 +0200 | 3 lines

* the makefiles should not depend on gnumake features
* make the perl module compilation environement configurable -- Stan Sinyagin ssinyagin on yahoo.com

------------------------------------------------------------------------
r646 | oetiker | 2005-06-25 07:24:52 +0200 | 2 lines

added GNUMAKE and EGREP hints

------------------------------------------------------------------------
r645 | oetiker | 2005-06-20 11:15:10 +0200 | 3 lines

x-axis labels should be aligned to their baseline
alt-y-grid labels without fractionals should have no fractionals when printed

------------------------------------------------------------------------
r642 | oetiker | 2005-06-17 11:05:17 +0200 | 1 line

prepare for the release of rrdtool-1.2.10
------------------------------------------------------------------------
r641 | oetiker | 2005-06-17 00:09:36 +0200 | 2 lines

when building the sgridstep in alt-y-grid mode, take the --base into consideration.

------------------------------------------------------------------------
r639 | oetiker | 2005-06-13 23:56:48 +0200 | 2 lines

simplify code for generating y axis labels a bit.

------------------------------------------------------------------------
r638 | oetiker | 2005-06-13 15:20:45 +0200 | 2 lines

wide chars should better be unsigned

------------------------------------------------------------------------
r637 | oetiker | 2005-06-13 14:56:11 +0200 | 2 lines

fall back to assuming latin1 encoding if mbtowchar conversion fails

------------------------------------------------------------------------
r636 | oetiker | 2005-06-13 07:43:44 +0200 | 2 lines

allow for VNAMES starting with a number and add documentation -- Alex

------------------------------------------------------------------------
r635 | oetiker | 2005-06-13 07:43:16 +0200 | 2 lines

add notes about small numbers for --alt-y-grid

------------------------------------------------------------------------
r634 | oetiker | 2005-06-12 22:01:57 +0200 | 3 lines

kill the last stored counter value if the updates comes after mrhb
to make sure it does not get taken into account accedenly later on.

------------------------------------------------------------------------
r633 | oetiker | 2005-06-12 22:00:07 +0200 | 3 lines

make --alt-y-grid work properly in many more cases than before


------------------------------------------------------------------------
r632 | oetiker | 2005-06-11 21:03:46 +0200 | 2 lines

be more careful when checking if a file is an rrdfile

------------------------------------------------------------------------
r631 | oetiker | 2005-06-11 08:17:02 +0200 | 4 lines

distribute all generated documentation
install in share and not shared
drop index.html link

------------------------------------------------------------------------
r630 | oetiker | 2005-06-11 08:14:25 +0200 | 2 lines

install examples in an rrdtool specific subdirectory if  the prefix does not contain rrd -- Peter Breitenlohner

------------------------------------------------------------------------
r629 | oetiker | 2005-06-11 07:41:31 +0200 | 3 lines

avoid problems when building with VPATH set and --disable-perl
fix make test for perl-piped -- Peter Breitenlohner

------------------------------------------------------------------------
r628 | oetiker | 2005-06-11 07:40:04 +0200 | 2 lines

let 'out-of tree' builds work for everythin but the perl module -- Peter Breitenlohner

------------------------------------------------------------------------
r627 | oetiker | 2005-06-11 07:37:55 +0200 | 2 lines

defined DPRINTF in a more compatible way -- Peter Breitenlohner

------------------------------------------------------------------------
r626 | oetiker | 2005-06-11 07:31:22 +0200 | 1 line

link libcgi only against rrd_cgi since it is only needed there -- Peter Breitenlohner
------------------------------------------------------------------------
r625 | oetiker | 2005-06-11 07:29:45 +0200 | 1 line

Make sure librrd_th properly depends on libpthread. -- Peter Breitenlohner
------------------------------------------------------------------------
r624 | oetiker | 2005-06-11 07:27:08 +0200 | 2 lines

avoid gcc (3.4.3) warnings char format, different type arg -- Peter Breitenlohner

------------------------------------------------------------------------
r623 | oetiker | 2005-06-11 07:26:13 +0200 | 2 lines

fix various problems with the tcl bindings -- Peter Breitenlohner

------------------------------------------------------------------------
r622 | oetiker | 2005-06-11 07:22:14 +0200 | 2 lines

added peter breitenlohner

------------------------------------------------------------------------
r621 | oetiker | 2005-06-11 07:20:59 +0200 | 2 lines

remove various gcc (3.4.3) warnings such as discards qualifier all due to 'char **' vs. 'const char **' discrepancies. -- Peter Breitenlohner peb with mppmu.mpg.de

------------------------------------------------------------------------
r620 | oetiker | 2005-06-11 07:15:37 +0200 | 2 lines

re-innitializing sort of defeats the purpose

------------------------------------------------------------------------
r619 | oetiker | 2005-06-11 07:03:33 +0200 | 2 lines

be more carefull in checking for sucessful open

------------------------------------------------------------------------
r618 | oetiker | 2005-06-10 21:25:36 +0200 | 2 lines

vnames MUST start with a letter

------------------------------------------------------------------------
r617 | oetiker | 2005-06-10 21:24:06 +0200 | 2 lines

kill another warning

------------------------------------------------------------------------
r616 | oetiker | 2005-06-10 20:44:40 +0200 | 6 lines

make  --font more flexible:

* TITLE:30:   just alter the size of the title
* DEFAULT:0:/tmp/funfont.ttf  alter the font but not the size


------------------------------------------------------------------------
r613 | oetiker | 2005-06-10 10:42:44 +0200 | 2 lines

added missing cd and replace one path with a variable

------------------------------------------------------------------------
r612 | oetiker | 2005-06-08 00:10:01 +0200 | 2 lines

make pdf/eps/svg formats utf8 aware too -- Peter Speck

------------------------------------------------------------------------
r611 | oetiker | 2005-06-06 07:32:44 +0200 | 2 lines

sync up with Dag Wieers version from http://dag.wieers.com/packages/rrdtool/rrdtool.spec

------------------------------------------------------------------------
r610 | oetiker | 2005-06-06 00:23:32 +0200 | 3 lines

New functions for CDEF ATAN2 RAD2DEG and DEG2RAD
-- Simon Melhuish <simon mailing from melhuish.info>

------------------------------------------------------------------------
r605 | oetiker | 2005-05-31 08:22:31 +0200 | 2 lines

fixed epoch

------------------------------------------------------------------------
r603 | oetiker | 2005-05-28 15:01:43 +0200 | 1 line

prepare for the release of rrdtool-1.2.9
------------------------------------------------------------------------
r602 | oetiker | 2005-05-28 14:53:13 +0200 | 2 lines

add notes on building on Mac OS X

------------------------------------------------------------------------
r601 | oetiker | 2005-05-28 14:52:50 +0200 | 3 lines

kill a few warnings


------------------------------------------------------------------------
r600 | oetiker | 2005-05-28 14:52:26 +0200 | 2 lines

make the bindings work on os x

------------------------------------------------------------------------
r599 | oetiker | 2005-05-27 21:17:17 +0200 | 2 lines

add note on variable names

------------------------------------------------------------------------
r598 | oetiker | 2005-05-27 21:12:23 +0200 | 2 lines

remove one more warning

------------------------------------------------------------------------
r597 | oetiker | 2005-05-27 21:12:12 +0200 | 2 lines

there is realy no reason to have the vnames constraind so much

------------------------------------------------------------------------
r596 | oetiker | 2005-05-27 21:01:53 +0200 | 3 lines

only print ttf font errors when compiled with -DDEBUG


------------------------------------------------------------------------
r593 | oetiker | 2005-05-23 00:29:11 +0200 | 2 lines

don't go into an endless loop upon finding a bad character in a truetype font

------------------------------------------------------------------------
r591 | oetiker | 2005-05-20 08:20:19 +0200 | 2 lines

go into rrdbuild too if we use tcsh

------------------------------------------------------------------------
r590 | oetiker | 2005-05-20 07:48:52 +0200 | 2 lines

initial checking

------------------------------------------------------------------------
r589 | oetiker | 2005-05-20 07:46:52 +0200 | 2 lines

remove extra whitespace at the end of lines

------------------------------------------------------------------------
r588 | oetiker | 2005-05-20 07:43:27 +0200 | 2 lines

introduce builddir

------------------------------------------------------------------------
r586 | oetiker | 2005-05-20 07:14:20 +0200 | 2 lines

iconf is not needed so to not check for it

------------------------------------------------------------------------
r585 | oetiker | 2005-05-20 01:21:51 +0200 | 1 line

added propper numeric version number to version
------------------------------------------------------------------------
r584 | oetiker | 2005-05-20 01:21:20 +0200 | 4 lines

add multibyte to wide char conversion ability. Now every string
users input should should be handled propperly by rrdtool,
whatever your locale says will work.

------------------------------------------------------------------------
r583 | oetiker | 2005-05-20 01:19:09 +0200 | 1 line

windows at least stores null terminated char strings in dummychar1 -- Philippe
------------------------------------------------------------------------
r581 | oetiker | 2005-05-18 22:20:55 +0200 | 2 lines

make tcl compile again ... don't know if it will work though

------------------------------------------------------------------------
r580 | oetiker | 2005-05-18 21:43:03 +0200 | 2 lines

fix rrd_version prototype

------------------------------------------------------------------------
r579 | oetiker | 2005-05-18 21:41:08 +0200 | 2 lines

cleaned up version number code and added new function rrd_version -- partly by Burton Strauss

------------------------------------------------------------------------
r578 | oetiker | 2005-05-18 21:18:59 +0200 | 3 lines

help building perl on hpux


------------------------------------------------------------------------
r571 | oetiker | 2005-05-16 22:56:09 +0200 | 1 line

prepare for the release of rrdtool-1.2.8
------------------------------------------------------------------------
r570 | oetiker | 2005-05-16 22:55:29 +0200 | 4 lines

redo --disable-* options for python and tcl
add some more quotes to protect potentially empty variables in tests which
should make configure more robust.

------------------------------------------------------------------------
r569 | oetiker | 2005-05-16 22:04:42 +0200 | 2 lines

if python stuff does not work, do not die, just do not compile python

------------------------------------------------------------------------
r568 | oetiker | 2005-05-16 22:02:26 +0200 | 2 lines

fix extra argument when testing for PERLCC problem -- Simon Leinen

------------------------------------------------------------------------
r565 | oetiker | 2005-05-16 14:18:16 +0200 | 1 line

prepare for the release of rrdtool-1.2.7
------------------------------------------------------------------------
r564 | oetiker | 2005-05-16 14:14:19 +0200 | 3 lines

added note about --alt-y-mrtg


------------------------------------------------------------------------
r563 | oetiker | 2005-05-16 12:12:26 +0200 | 3 lines

fix the color square spacing so that it works regardles of the fontsize
and with transparend backgrounds.

------------------------------------------------------------------------
r562 | oetiker | 2005-05-16 11:01:01 +0200 | 2 lines

added alt-y-mrtg option as a dummy so that old apps who use it do not crash when doing so.

------------------------------------------------------------------------
r561 | oetiker | 2005-05-16 08:33:30 +0200 | 2 lines

reintroduced the FRAME color ... somehow it was lost from 1.0.x

------------------------------------------------------------------------
r560 | oetiker | 2005-05-15 16:16:15 +0200 | 1 line

make transparent backgrounds work propperly
------------------------------------------------------------------------
r559 | oetiker | 2005-05-14 23:57:46 +0200 | 2 lines

it seems that _WIN32 is more commonly defined thatn WIN32 on win32 ... (gifford.hesketh on gmail.com)

------------------------------------------------------------------------
r558 | oetiker | 2005-05-14 19:32:05 +0200 | 3 lines

added a note to dump old rrd files with a current rrdtool dump to get the upgraded on the fly. Adding 001 support should
not be all that tough though. Any takers ?

------------------------------------------------------------------------
r557 | oetiker | 2005-05-14 17:07:35 +0200 | 1 line

check cookie read for success
------------------------------------------------------------------------
r556 | oetiker | 2005-05-14 11:35:02 +0200 | 5 lines

if the y value is out of bounds, make it just a wee bit larger or smaller
than the bound so that the code can detect this by comparing it with the
bound, but make it so small that it is not visible.


------------------------------------------------------------------------
r555 | oetiker | 2005-05-13 00:27:06 +0200 | 1 line

one sed is quite enough
------------------------------------------------------------------------
r554 | oetiker | 2005-05-13 00:22:45 +0200 | 2 lines

[ must be quoted by [ ...

------------------------------------------------------------------------
r553 | oetiker | 2005-05-13 00:12:56 +0200 | 2 lines

add global option

------------------------------------------------------------------------
r552 | oetiker | 2005-05-13 00:06:13 +0200 | 2 lines

fox sed line for unsetting header cache

------------------------------------------------------------------------
r551 | oetiker | 2005-05-13 00:03:33 +0200 | 2 lines

make sure the header gets tested twice

------------------------------------------------------------------------
r550 | oetiker | 2005-05-13 00:03:01 +0200 | 1 line

add notes on python error, and install location
------------------------------------------------------------------------
r549 | oetiker | 2005-05-12 13:32:39 +0200 | 1 line

allow 3/4 component color rrdtool graph --color too -- Alex
------------------------------------------------------------------------
r548 | oetiker | 2005-05-12 13:28:13 +0200 | 2 lines

make the areas a little bigger still for propper overlapping

------------------------------------------------------------------------
r547 | oetiker | 2005-05-12 13:22:11 +0200 | 3 lines

make parsing of DS arguments more robust and give more sensible
error messages. -- Alex 

------------------------------------------------------------------------
r546 | oetiker | 2005-05-12 10:38:53 +0200 | 4 lines

make the areas that makeup the graphs a little larger, so that they overlap a bit
and do not exhibit white lines when touching each other.


------------------------------------------------------------------------
r545 | oetiker | 2005-05-12 07:48:56 +0200 | 2 lines

some more warning fixes

------------------------------------------------------------------------
r544 | oetiker | 2005-05-12 07:41:09 +0200 | 2 lines

add unused to prevent warnings about self

------------------------------------------------------------------------
r543 | oetiker | 2005-05-11 20:31:00 +0200 | 2 lines

intial python bindings documentation

------------------------------------------------------------------------
r541 | oetiker | 2005-05-11 14:09:36 +0200 | 2 lines

fix wording for min/max ... they are not optional

------------------------------------------------------------------------
r540 | oetiker | 2005-05-10 22:19:55 +0200 | 2 lines

second installment with warning fixes from alan

------------------------------------------------------------------------
r539 | oetiker | 2005-05-10 20:52:43 +0200 | 2 lines

python bindings add -- Alan Milligan alan from balclutha.org

------------------------------------------------------------------------
r538 | oetiker | 2005-05-10 20:35:55 +0200 | 2 lines

fix for character escaping in EPS -- Peter Speck

------------------------------------------------------------------------
r536 | oetiker | 2005-05-10 08:07:41 +0200 | 1 line

prepare for the release of rrdtool-1.2.6
------------------------------------------------------------------------
r535 | oetiker | 2005-05-10 08:06:49 +0200 | 2 lines

I guess the pdf entities want to be escaped chars not just control caracters with a prepended backslash ... 

------------------------------------------------------------------------
r534 | oetiker | 2005-05-10 07:18:28 +0200 | 2 lines

we should not use C++ comments in c files

------------------------------------------------------------------------
r533 | oetiker | 2005-05-10 06:14:17 +0200 | 2 lines

we should distribute unused.h if we use it :-)

------------------------------------------------------------------------
r531 | oetiker | 2005-05-09 22:15:38 +0200 | 1 line

prepare for the release of rrdtool-1.2.5
------------------------------------------------------------------------
r530 | oetiker | 2005-05-09 22:13:28 +0200 | 2 lines

silence warnings for UNUSED variables without changeing the funtion interfaces -- Alex

------------------------------------------------------------------------
r529 | oetiker | 2005-05-09 21:32:12 +0200 | 2 lines

allow decimal positions y axis labels as soon as the max entry is < 10 

------------------------------------------------------------------------
r528 | oetiker | 2005-05-09 21:11:05 +0200 | 2 lines

fix rendering of the color spots especially when proportional fonts are in use.

------------------------------------------------------------------------
r526 | oetiker | 2005-05-09 16:01:21 +0200 | 3 lines

EPS/SVG/PDF code ...  more comments and better font finder including removal of hardcoded SVG font.
-- Peter Speck speck from vitality.dk

------------------------------------------------------------------------
r525 | oetiker | 2005-05-09 15:22:23 +0200 | 3 lines

* switch to courier if the font is unknown
* fix font positioning

------------------------------------------------------------------------
r523 | oetiker | 2005-05-09 07:39:59 +0200 | 2 lines

perls $^O is set to linux not Linux

------------------------------------------------------------------------
r522 | oetiker | 2005-05-09 00:02:35 +0200 | 2 lines

svg/pdf/eps rendering improvements. There are still issues though ... -- peter speck

------------------------------------------------------------------------
r521 | oetiker | 2005-05-08 23:25:42 +0200 | 2 lines

added support for getting ascent/descent size info for ps fonts -- Peter Speck

------------------------------------------------------------------------
r520 | oetiker | 2005-05-08 22:15:18 +0200 | 2 lines

we do not actually need these files ... goodbye

------------------------------------------------------------------------
r518 | oetiker | 2005-05-08 18:59:20 +0200 | 1 line

prepare for the release of rrdtool-1.2.4
------------------------------------------------------------------------
r517 | oetiker | 2005-05-08 18:22:25 +0200 | 4 lines

* adjust spacing at the left border of the graph. use less white space
* increasse minimal grid spacing and label spacing


------------------------------------------------------------------------
r516 | oetiker | 2005-05-08 18:02:28 +0200 | 2 lines

increase minimal vertical spacing for y-axis lables

------------------------------------------------------------------------
r515 | oetiker | 2005-05-08 18:01:40 +0200 | 2 lines

shorten space for y-axis labels a bit

------------------------------------------------------------------------
r514 | oetiker | 2005-05-08 17:40:28 +0200 | 2 lines

remove the premature fox for the unused parameter in xport

------------------------------------------------------------------------
r513 | oetiker | 2005-05-08 17:30:12 +0200 | 2 lines

sync with reality

------------------------------------------------------------------------
r512 | oetiker | 2005-05-08 17:19:02 +0200 | 2 lines

be more portable with shorter strings

------------------------------------------------------------------------
r511 | oetiker | 2005-05-08 17:18:47 +0200 | 2 lines

we do not use the affine functions

------------------------------------------------------------------------
r510 | oetiker | 2005-05-08 17:07:27 +0200 | 2 lines

removed extra $ from from PERLCC test

------------------------------------------------------------------------
r509 | oetiker | 2005-05-08 10:20:48 +0200 | 2 lines

fix rendering errors by removing single spaces

------------------------------------------------------------------------
r507 | oetiker | 2005-05-08 01:54:52 +0200 | 1 line

prepare for the release of rrdtool-1.2.3
------------------------------------------------------------------------
r506 | oetiker | 2005-05-08 01:26:30 +0200 | 2 lines

fix some more y0, y1 complaints

------------------------------------------------------------------------
r505 | oetiker | 2005-05-08 01:26:14 +0200 | 3 lines

When encountering an empty legend, do NOT make
space for drawing the color spats in front of it.

------------------------------------------------------------------------
r503 | oetiker | 2005-05-07 17:57:55 +0200 | 1 line

prep for 1.2.2 release
------------------------------------------------------------------------
r502 | oetiker | 2005-05-07 17:51:47 +0200 | 2 lines

increment library revision

------------------------------------------------------------------------
r501 | oetiker | 2005-05-07 17:45:52 +0200 | 2 lines

fix these annoying y0 warnings.

------------------------------------------------------------------------
r500 | oetiker | 2005-05-07 17:45:27 +0200 | 1 line

add rrdtool attribution string back using a transparent version of the font color
------------------------------------------------------------------------
r499 | oetiker | 2005-05-07 17:23:41 +0200 | 2 lines

added build instructions

------------------------------------------------------------------------
r498 | oetiker | 2005-05-07 12:38:34 +0200 | 2 lines

fix for rotation code in pdf,eps,svg formats -- Peter Speck <speck from vitality.dk>

------------------------------------------------------------------------
r497 | oetiker | 2005-05-07 12:34:48 +0200 | 2 lines

fix handling of PREV(x) command

------------------------------------------------------------------------
r493 | oetiker | 2005-05-07 01:00:53 +0200 | 5 lines

* added RRDTOOL/TOBI OETIKER back in
* in riggid mode, cut data and 'min' and 'max' not two above
* gibt ytop0 a default value


------------------------------------------------------------------------
r492 | oetiker | 2005-05-07 00:59:22 +0200 | 2 lines

fixed documentation strings for rrdgraph

------------------------------------------------------------------------
r491 | oetiker | 2005-05-07 00:03:16 +0200 | 2 lines

added doc for new slope-mode

------------------------------------------------------------------------
r490 | oetiker | 2005-05-06 23:52:55 +0200 | 3 lines

since the drawing code is now much simpler we do not need to perturbe the points or rewind the graph anymore
this saves quite some time ... 

------------------------------------------------------------------------
r489 | oetiker | 2005-05-06 17:44:11 +0200 | 6 lines

* allow for 3(4) letter color names
* better debugging code
* fix tick, line, stack parsing
--  Alex van den Bogaerdt <alex with ergens.op.het.net>


------------------------------------------------------------------------
r488 | oetiker | 2005-05-06 17:24:27 +0200 | 2 lines

if stacking on nothing we should not try to figure out WHAT we stacked on since this will result in a segfault ... -- Alex van den Bogaerdt <alex at ergens.op.het.net>

------------------------------------------------------------------------
r485 | oetiker | 2005-05-06 00:15:10 +0200 | 3 lines

clarify LINE/AREA syntax
-- Alex van den Bogaerdt alex with ergens.op.het.net

------------------------------------------------------------------------
r484 | oetiker | 2005-05-05 11:07:56 +0200 | 2 lines

better not to write into argv elements ... Henrik Stoerner <henrik from hswn.dk>

------------------------------------------------------------------------
r483 | oetiker | 2005-05-03 22:23:05 +0200 | 1 line

do not die upon wront input when in remote mode
------------------------------------------------------------------------
r482 | oetiker | 2005-05-03 20:10:16 +0200 | 4 lines

install documentation into $PREFIX/shared/doc/rrdtool-$VERSION/{txt,html} but
drop the rrdtool-$VERSION/ bit if $PREFIX matches on rrd assuming that the tool is being installed into a custom directory anyway.


------------------------------------------------------------------------
r481 | oetiker | 2005-05-03 19:24:50 +0200 | 4 lines

new options to tune how fontsmoothing works: 
-R/--font-render-mode {normal,light,mono} and -B/--font-smoothing-threshold size
-- John yffffffff4271ef37 at f4n.org

------------------------------------------------------------------------
r480 | oetiker | 2005-05-03 19:22:54 +0200 | 2 lines

note about win32comp

------------------------------------------------------------------------
r478 | oetiker | 2005-05-02 22:27:13 +0200 | 1 line

files that help getting that native windows port going -- Philippe.Simonet with swisscom.com
------------------------------------------------------------------------
r477 | oetiker | 2005-05-02 21:47:05 +0200 | 2 lines

when walking the bytes use the pitch not the width

------------------------------------------------------------------------
r476 | oetiker | 2005-05-02 21:33:53 +0200 | 2 lines

pow is alreay used as a function ... so lets call it power instead

------------------------------------------------------------------------
r475 | oetiker | 2005-05-02 21:32:49 +0200 | 2 lines

no infinite line width please

------------------------------------------------------------------------
r472 | oetiker | 2005-05-02 00:07:34 +0200 | 1 line

prep for 1.2.1 release
------------------------------------------------------------------------
r471 | oetiker | 2005-05-02 00:04:34 +0200 | 2 lines

add some more vertical space above the graph if no title is available

------------------------------------------------------------------------
r470 | oetiker | 2005-05-01 23:24:06 +0200 | 2 lines

use the pen to determine string length, do not look at the realy length, or space will get ignored.

------------------------------------------------------------------------
r469 | oetiker | 2005-05-01 23:16:49 +0200 | 3 lines

DejaVuSansMono-Roman is a variant of VeraMono with lots of added unicode glyphes ... 
check out http://dejavu.sourceforge.net

------------------------------------------------------------------------
r468 | oetiker | 2005-05-01 22:49:54 +0200 | 2 lines

fix spaceing ... more space for the title and more space the the left of the yaxis lable

------------------------------------------------------------------------
r467 | oetiker | 2005-05-01 15:19:39 +0200 | 2 lines

the multibyte support tried did not work ... takeing it out again

------------------------------------------------------------------------
r466 | oetiker | 2005-05-01 15:18:48 +0200 | 2 lines

update tested library version

------------------------------------------------------------------------
r465 | oetiker | 2005-05-01 13:02:40 +0200 | 1 line

undef jmpbuf to make compile work on AIX 5.1
------------------------------------------------------------------------
r464 | oetiker | 2005-05-01 13:00:36 +0200 | 2 lines

increasse revision of shared library number since the library source code has changed

------------------------------------------------------------------------
r463 | oetiker | 2005-05-01 13:00:10 +0200 | 2 lines

add wide character support

------------------------------------------------------------------------
r462 | oetiker | 2005-05-01 12:42:17 +0200 | 3 lines

do not make the graph wider if the title does not fit ... this is wagging the dog
the graph is not ABOUT the title

------------------------------------------------------------------------
r461 | oetiker | 2005-05-01 12:37:00 +0200 | 1 line

fix description of VRULE
------------------------------------------------------------------------
r460 | oetiker | 2005-05-01 12:23:11 +0200 | 2 lines

reset optind opterr inside the function calls ... 

------------------------------------------------------------------------
r459 | oetiker | 2005-05-01 12:22:35 +0200 | 2 lines

fixed documentation regarding floating point line width

------------------------------------------------------------------------
r458 | oetiker | 2005-05-01 12:20:55 +0200 | 4 lines

relax parsing of LINE commands LINE: is valid as well as LINE<double>:
eg. LINE1.2323: 


------------------------------------------------------------------------
r457 | oetiker | 2005-05-01 11:16:38 +0200 | 2 lines

allow for characters over 127

------------------------------------------------------------------------
r456 | oetiker | 2005-04-30 11:56:58 +0200 | 3 lines

added notes on escaping colons in COMMENT and put deprecated forms of command to the back and not to the front


------------------------------------------------------------------------
r455 | oetiker | 2005-04-30 11:51:12 +0200 | 2 lines

always open with rb/wb when it is a binary file ... unix and windows will work alike with this ... 

------------------------------------------------------------------------
r454 | oetiker | 2005-04-30 11:48:49 +0200 | 2 lines

this file is not required ...

------------------------------------------------------------------------
r453 | oetiker | 2005-04-30 11:41:14 +0200 | 2 lines

even better lets have rb for CYGWIN too ... one never knows it is windows after all.

------------------------------------------------------------------------
r452 | oetiker | 2005-04-30 11:40:24 +0200 | 2 lines

oops inverted code here ... windows needs rb unix not

------------------------------------------------------------------------
r451 | oetiker | 2005-04-30 11:38:50 +0200 | 2 lines

let rrd_graph honor the font name (RRD_DEFAULT_FONT) defined in confignt/config.h

------------------------------------------------------------------------
r450 | oetiker | 2005-04-27 00:08:22 +0200 | 1 line

use pod syntax not html syntax in pod :-)
------------------------------------------------------------------------
r449 | oetiker | 2005-04-27 00:04:25 +0200 | 2 lines

more fixes by fritz

------------------------------------------------------------------------
r443 | oetiker | 2005-04-26 07:33:18 +0200 | 2 lines

obfuscate email addresses

------------------------------------------------------------------------
r442 | oetiker | 2005-04-26 07:30:22 +0200 | 5 lines

* remove jakes old address
* add security warning



------------------------------------------------------------------------
r440 | oetiker | 2005-04-26 00:55:15 +0200 | 2 lines

remove pdf link

------------------------------------------------------------------------
r436 | oetiker | 2005-04-26 00:18:15 +0200 | 4 lines

use time_t to improve portability to 64bit systems
-- John R Mocho <jmocho in royaldc.com>


------------------------------------------------------------------------
r429 | oetiker | 2005-04-25 23:01:22 +0200 | 2 lines

added new state

------------------------------------------------------------------------
r428 | oetiker | 2005-04-25 22:45:00 +0200 | 1 line

prep for 1.2.0 release
------------------------------------------------------------------------
r426 | oetiker | 2005-04-25 21:07:18 +0200 | 2 lines

resolved all XXX situations

------------------------------------------------------------------------
r425 | oetiker | 2005-04-25 19:31:11 +0200 | 2 lines

another batch of fixes from fritz

------------------------------------------------------------------------
r423 | oetiker | 2005-04-25 00:21:34 +0200 | 1 line

fixed contributiors listing
------------------------------------------------------------------------
r422 | oetiker | 2005-04-24 19:23:57 +0200 | 2 lines

big patch-up for the 1.2. Documents Revisited by Fritz Zaucker

------------------------------------------------------------------------
r420 | oetiker | 2005-04-22 20:35:15 +0200 | 1 line

prep for 1.2rc9 release
------------------------------------------------------------------------
r417 | oetiker | 2005-04-19 23:09:27 +0200 | 1 line

fix titles
------------------------------------------------------------------------
r416 | oetiker | 2005-04-19 23:05:39 +0200 | 2 lines

fixed title

------------------------------------------------------------------------
r414 | oetiker | 2005-04-19 00:39:10 +0200 | 3 lines

src moved back to pod. this include thing was a neat idea but it just adds another twist to things which is not necessary.
fixed some pod errors

------------------------------------------------------------------------
r413 | oetiker | 2005-04-19 00:13:20 +0200 | 2 lines

misc fixes for better display

------------------------------------------------------------------------
r412 | oetiker | 2005-04-18 13:07:02 +0200 | 2 lines

fixed format

------------------------------------------------------------------------
r411 | oetiker | 2005-04-18 00:43:11 +0200 | 3 lines

fixed many pod bugs while creating the new website


------------------------------------------------------------------------
r410 | oetiker | 2005-04-17 19:29:29 +0200 | 2 lines

make sure argument descriptions comply with Bold = fixed and Italics = variable

------------------------------------------------------------------------
r409 | oetiker | 2005-04-17 18:26:18 +0200 | 2 lines

fix use of =item commands

------------------------------------------------------------------------
r408 | oetiker | 2005-04-17 18:25:53 +0200 | 2 lines

allow to build pods (for website)

------------------------------------------------------------------------
r406 | oetiker | 2005-04-14 00:00:20 +0200 | 4 lines

* draw the axis last to have them always on top
* use a smaller font for labeling the axis


------------------------------------------------------------------------
r405 | oetiker | 2005-04-13 21:53:41 +0200 | 2 lines

have better default compression

------------------------------------------------------------------------
r404 | oetiker | 2005-04-13 21:53:16 +0200 | 1 line

tune fontsizes and spacing to be more in line with rrdtool 1.0
------------------------------------------------------------------------
r402 | oetiker | 2005-04-12 23:52:18 +0200 | 1 line

prep for 1.2rc8 release
------------------------------------------------------------------------
r401 | oetiker | 2005-04-12 23:10:39 +0200 | 1 line

prep for 1.2rc8 release
------------------------------------------------------------------------
r400 | oetiker | 2005-04-12 22:56:19 +0200 | 5 lines

* better fix for units-exponent issue ... now the whole scaling happens only at
  print time ... this is more stable -- tobi

* remove the newline from ctime (%c) in VDEF -- alex

------------------------------------------------------------------------
r398 | oetiker | 2005-04-12 01:23:59 +0200 | 1 line

prep for 1.2rc7 release
------------------------------------------------------------------------
r397 | oetiker | 2005-04-12 01:22:57 +0200 | 6 lines

* adjusted element spacing within the  graph
* re-intruduced --units-length option
* stabilized --units-exponent option by jumping to alt-y-grid mode
  once the default autogrid can not cope with the data anymore.


------------------------------------------------------------------------
r396 | oetiker | 2005-04-12 01:20:52 +0200 | 1 line

added note about incompatible changes
------------------------------------------------------------------------
r395 | oetiker | 2005-04-11 14:29:32 +0200 | 2 lines

started change log

------------------------------------------------------------------------
r394 | oetiker | 2005-04-11 14:17:36 +0200 | 1 line

added notes on INF
------------------------------------------------------------------------
r393 | oetiker | 2005-04-11 11:51:22 +0200 | 4 lines

* we are now creating true RGBA pngs
* removed all memory leeks from rrd_gfx


------------------------------------------------------------------------
r392 | oetiker | 2005-04-11 00:02:10 +0200 | 2 lines

started updating for 1.2 release

------------------------------------------------------------------------
r391 | oetiker | 2005-04-10 20:11:58 +0200 | 1 line

clarified output -- alex
------------------------------------------------------------------------
r390 | oetiker | 2005-04-10 20:10:56 +0200 | 1 line

get the docs ready for the 1.2 release. remove notes about things that never got implemented. -- alex
------------------------------------------------------------------------
r389 | oetiker | 2005-04-10 20:05:51 +0200 | 1 line

do not draw AREAS that have no hight (done right). draw an arrow on the positiv y axis.
------------------------------------------------------------------------
r388 | oetiker | 2005-04-10 17:35:28 +0200 | 1 line

updated for 1.2 release -- alex
------------------------------------------------------------------------
r387 | oetiker | 2005-04-10 16:00:12 +0200 | 1 line

fixed typo -- alex
------------------------------------------------------------------------
r386 | oetiker | 2005-04-10 15:57:34 +0200 | 2 lines

G<gt> does not exist E<gt> does 

------------------------------------------------------------------------
r385 | oetiker | 2005-04-10 14:12:21 +0200 | 2 lines

fixed spelling and working -- Alex van den Bogaerdt alex at ergens.op.het.net

------------------------------------------------------------------------
r383 | oetiker | 2005-04-10 13:53:01 +0200 | 1 line

added extra strftime.[ch] which supports ISO 8601 week numbers, together with instructions in the NT-BUILD-TIPPS file
------------------------------------------------------------------------
r381 | oetiker | 2005-04-10 13:33:10 +0200 | 1 line

prep for 1.2rc6 release
------------------------------------------------------------------------
r380 | oetiker | 2005-04-10 13:31:32 +0200 | 2 lines

remove excess comment 

------------------------------------------------------------------------
r379 | oetiker | 2005-04-10 13:30:14 +0200 | 4 lines

make --disable-perl work
allow configuration of the default font at configure time


------------------------------------------------------------------------
r378 | oetiker | 2005-04-10 13:29:16 +0200 | 1 line

revamped drawing routines to be less complex and more stable. be kind to libart
------------------------------------------------------------------------
r377 | oetiker | 2005-04-10 11:38:38 +0200 | 1 line

allow --color arguments with RRGGBB and not only RRGGBBAA
------------------------------------------------------------------------
r376 | oetiker | 2005-04-10 11:16:10 +0200 | 1 line

everyone has other names for their shared libraries, so lets drop the dependency
------------------------------------------------------------------------
r375 | oetiker | 2005-04-10 11:15:19 +0200 | 1 line

mention updatev in the synopsis
------------------------------------------------------------------------
r374 | oetiker | 2005-04-09 16:21:59 +0200 | 2 lines

we do have 95% 

------------------------------------------------------------------------
r372 | oetiker | 2005-04-07 23:35:32 +0200 | 1 line

prep for 1.2rc5 release
------------------------------------------------------------------------
r371 | oetiker | 2005-04-07 23:31:37 +0200 | 1 line

fix implementation of --only-graph
------------------------------------------------------------------------
r370 | oetiker | 2005-04-07 23:31:09 +0200 | 1 line

make libart happy by NOT adjusting coordinates and by using the ART_WIND_RULE_NONZERO winding rule
------------------------------------------------------------------------
r369 | oetiker | 2005-04-07 23:30:16 +0200 | 1 line

return propper exit codes
------------------------------------------------------------------------
r368 | oetiker | 2005-04-07 22:07:45 +0200 | 2 lines

fix bitpatterns of extraflags so that they do not interfear

------------------------------------------------------------------------
r366 | oetiker | 2005-04-07 01:58:41 +0200 | 1 line

prep for 1.2rc4 release
------------------------------------------------------------------------
r365 | oetiker | 2005-04-07 01:24:35 +0200 | 1 line

prep for 1.2rc4 release
------------------------------------------------------------------------
r364 | oetiker | 2005-04-07 01:18:37 +0200 | 2 lines

document RRD_DEFAULT_FONT environment variable 

------------------------------------------------------------------------
r363 | oetiker | 2005-04-07 00:40:53 +0200 | 2 lines

make sure WIN32 sections do NOT kick in for cygwin compiles

------------------------------------------------------------------------
r362 | oetiker | 2005-04-06 00:49:55 +0200 | 2 lines

only unwind the areas, the lines should be fine by themselves!

------------------------------------------------------------------------
r360 | oetiker | 2005-04-05 22:32:39 +0200 | 1 line

prep for 1.2rc3 release
------------------------------------------------------------------------
r359 | oetiker | 2005-04-05 22:17:45 +0200 | 4 lines

* fix transparency rendering by rewinding the paths propperly
* fix x-axis label drawing by considering label precision


------------------------------------------------------------------------
r358 | oetiker | 2005-04-05 21:14:16 +0200 | 1 line

new originaly copy
------------------------------------------------------------------------
r357 | oetiker | 2005-04-05 21:12:54 +0200 | 2 lines

fixed propperties to have a RAW font

------------------------------------------------------------------------
r353 | oetiker | 2005-04-04 23:56:30 +0200 | 1 line

make configure work even when no prefix is specified
------------------------------------------------------------------------
r352 | oetiker | 2005-04-04 23:40:11 +0200 | 1 line

prep for 1.2rc2 release
------------------------------------------------------------------------
r351 | oetiker | 2005-04-04 23:22:05 +0200 | 1 line

prepared for 1.2rc2 release
------------------------------------------------------------------------
r350 | oetiker | 2005-04-04 23:21:43 +0200 | 1 line

prepared for 1.2rc1 release
------------------------------------------------------------------------
r349 | oetiker | 2005-04-04 23:12:21 +0200 | 1 line

prepared for 1.2rc1 release
------------------------------------------------------------------------
r348 | oetiker | 2005-04-04 23:07:55 +0200 | 1 line

prepared for 1.2rc1 release
------------------------------------------------------------------------
r347 | oetiker | 2005-04-04 23:05:32 +0200 | 1 line

prepared for 1.2rc1 release
------------------------------------------------------------------------
r345 | oetiker | 2005-04-04 22:56:49 +0200 | 1 line

fixed prefix detection code again
------------------------------------------------------------------------
r344 | oetiker | 2005-04-04 22:53:23 +0200 | 1 line

fixed autoprefix
------------------------------------------------------------------------
r342 | oetiker | 2005-04-04 22:48:58 +0200 | 2 lines

fixed config script for prefixing

------------------------------------------------------------------------
r340 | oetiker | 2005-04-04 22:37:26 +0200 | 2 lines

get ready for 1.2

------------------------------------------------------------------------
r338 | oetiker | 2005-04-04 21:55:30 +0200 | 1 line

branche for 1.2
------------------------------------------------------------------------
r336 | oetiker | 2005-04-03 14:44:15 +0200 | 2 lines

update build instructions and configure output.

------------------------------------------------------------------------
r335 | oetiker | 2005-04-03 13:44:58 +0200 | 2 lines

paramters in SHIFT are separated by : like everywhere else

------------------------------------------------------------------------
r334 | oetiker | 2005-04-03 13:36:58 +0200 | 3 lines

the piechart code does not produce release ready results ... hide it behind WITH_PIECHART define


------------------------------------------------------------------------
r333 | oetiker | 2005-04-03 13:11:50 +0200 | 2 lines

improve png writing speed by lowering the compression

------------------------------------------------------------------------
r332 | oetiker | 2005-04-03 13:11:21 +0200 | 2 lines

make sure the font path is shorter than the buffer

------------------------------------------------------------------------
r331 | oetiker | 2005-04-03 12:10:56 +0200 | 3 lines

fix graph layout ... especially consider text propperties propperly


------------------------------------------------------------------------
r330 | oetiker | 2005-04-03 11:37:08 +0200 | 3 lines

the legend string of a PRINT command gets renderd later by runnning
it through printf.

------------------------------------------------------------------------
r329 | oetiker | 2005-04-03 11:35:52 +0200 | 4 lines

MMAP support for rrdtool this is suposed to speed-up uptime 4 times.
-- Radoslaw Karas <rkaras@tyndall.ie>


------------------------------------------------------------------------
r328 | oetiker | 2005-03-20 22:17:50 +0100 | 1 line

revert to last working version
------------------------------------------------------------------------
r327 | oetiker | 2005-03-20 22:11:17 +0100 | 1 line

fix quoting
------------------------------------------------------------------------
r326 | oetiker | 2005-03-20 22:00:13 +0100 | 2 lines

quote sed expression

------------------------------------------------------------------------
r325 | oetiker | 2005-03-20 21:59:31 +0100 | 5 lines

document tabbing support by adding in the textformatting notes
document --tabwidth argument
document AXIS color


------------------------------------------------------------------------
r324 | oetiker | 2005-03-20 21:58:28 +0100 | 8 lines

* allow configuration of the default tab width
* added new configurable color AXIS
* made tabbing support work with legend elements
* use propper font for the legend: LEGEND
* fix apperance by makeing grid more transparent
* draw axis over the graph not under it.


------------------------------------------------------------------------
r323 | oetiker | 2005-03-20 21:56:16 +0100 | 1 line

added tabbig support
------------------------------------------------------------------------
r322 | oetiker | 2005-03-20 21:55:27 +0100 | 1 line

include the thread defs after they have been found not before
------------------------------------------------------------------------
r320 | oetiker | 2005-03-13 17:34:27 +0100 | 2 lines

propperly integrate rrd_first

------------------------------------------------------------------------
r319 | oetiker | 2005-03-13 17:13:49 +0100 | 1 line

autotools still run after configure this is not good ... run autoreconf at the end of MakeMakefile. Maybe this will help
------------------------------------------------------------------------
r318 | oetiker | 2005-03-13 17:09:21 +0100 | 1 line

set install patch to version
------------------------------------------------------------------------
r317 | oetiker | 2005-03-13 17:08:43 +0100 | 1 line

re-run autotools to make sure dependent dates are correct
------------------------------------------------------------------------
r316 | oetiker | 2005-03-13 17:00:51 +0100 | 1 line

reintroduce final header regen
------------------------------------------------------------------------
r315 | oetiker | 2005-03-13 16:57:37 +0100 | 1 line

still trying to get the order of calling autotools right
------------------------------------------------------------------------
r314 | oetiker | 2005-03-13 16:54:06 +0100 | 1 line

create aclocal.m4 before libtoolize
------------------------------------------------------------------------
r313 | oetiker | 2005-03-13 16:51:06 +0100 | 1 line

make the headers first
------------------------------------------------------------------------
r312 | oetiker | 2005-03-13 16:16:05 +0100 | 1 line

add the documentation for first
------------------------------------------------------------------------
r311 | oetiker | 2005-03-13 16:14:31 +0100 | 1 line

ntconfig is no more
------------------------------------------------------------------------
r310 | oetiker | 2005-03-13 16:12:44 +0100 | 2 lines

missed the actual code for  first

------------------------------------------------------------------------
r309 | oetiker | 2005-03-12 18:06:46 +0100 | 1 line

rrd_first code contributed by Burton Strauss <Burton@ntopSupport.com>
------------------------------------------------------------------------
r307 | oetiker | 2005-03-10 18:03:34 +0100 | 17 lines

* Updated perl compile system. It now uses Makefile.PL for everything,
  but gets it to install the perl module in @prefix@/lib/perl such
  that you can use the same use lib line for whatever platform and perlversion 
  you install into this directory. They all live neatly next to each other.

* fixed examples to work with new perl install system. Added a few exec_prefix lines
  where appropriate

* fixed piped demo

* fixed VeraMono.ttf file. This somehow got damaged by cvs ... 

* added thread defines to normal compile run, so that _r functions to not through errors.

* tested compilation and installation


------------------------------------------------------------------------
r306 | oetiker | 2005-03-05 00:53:39 +0100 | 8 lines

revamped configure system ... lots more stuff is in acinclude now still a
bit of a mess, but better than before ... if configure does not find the
dependent libraries and header it will not try to get help from pkg-config.

If you know where your libraries are it is best to just use CPPFLAGS and
LDFLAGS to specify their location.


------------------------------------------------------------------------
r305 | oetiker | 2005-03-04 01:12:37 +0100 | 15 lines

Big autotool update:

* Upgraded to the latest version of autoconf, automake and libtool

* replaced pthread detection code in configure with a more effective one

* added a test to see if special solaris defines
  are required for ctime_r to behave posixly correct.

* Fixed lots of warnings from autotools

* started adding support for pkg-config ... this will eventually
  make the whole library finding much simpler


------------------------------------------------------------------------
r300 | oetiker | 2005-03-03 14:34:53 +0100 | 1 line

ignorelists are a propperty of an svn directory not a file
------------------------------------------------------------------------
r298 | oetiker | 2005-02-27 23:00:54 +0100 | 2 lines

do not complain when setting environemnt variable sucessfully. -- hunter@mimuw.edu.pl

------------------------------------------------------------------------
r297 | oetiker | 2005-02-13 17:13:33 +0100 | 3 lines

let rrd_graph return the actual value range it picked ...
-- Henrik Stoerner <henrik@hswn.dk>

------------------------------------------------------------------------
r296 | oetiker | 2005-01-28 15:02:17 +0100 | 2 lines

fix for memory leak. Rene Gallati <security .. draxinusom.ch>

------------------------------------------------------------------------
r295 | oetiker | 2005-01-03 23:25:37 +0100 | 2 lines

update todo

------------------------------------------------------------------------
r294 | oetiker | 2004-10-26 00:22:53 +0200 | 2 lines

* fore-rules-legend option -- author name missing

------------------------------------------------------------------------
r293 | oetiker | 2004-10-26 00:21:19 +0200 | 2 lines

fixed segmentation falt problem in rrd_tool -- Yasuhiro Sumi <yasuhiro.sumi@hde.co.jp>

------------------------------------------------------------------------
r292 | oetiker | 2004-10-21 21:21:24 +0200 | 2 lines

fix return codes in the error case -- Haroon Rafique <haroon.rafique@utoronto.ca>

------------------------------------------------------------------------
r291 | oetiker | 2004-09-24 23:11:09 +0200 | 3 lines

misc fixed and TREND and reduce functionality by
-- David M. Grimes <dgrimes@navisite.com>

------------------------------------------------------------------------
r290 | oetiker | 2004-08-24 07:26:09 +0200 | 5 lines

CDEF operators SHIFT, SQRT, SORT, and REV (reverse).  See documentation for what
they do. This included removal of redundant code in the
rrd_xport path, replaced with a call to rrd_graph_script().
-- David M. Grimes <dgrimes@navisite.com>

------------------------------------------------------------------------
r289 | oetiker | 2004-08-09 10:38:55 +0200 | 2 lines

added note on escaping :

------------------------------------------------------------------------
r288 | oetiker | 2004-08-08 23:54:07 +0200 | 2 lines

port forward of fixes from the stable version of rrd_cgi

------------------------------------------------------------------------
r287 | oetiker | 2004-08-08 01:46:35 +0200 | 3 lines

when moving the data pointers we should take into account how fahr off they
are. Found by David M. Grimes <dgrimes@navisite.com>

------------------------------------------------------------------------
r286 | oetiker | 2004-08-05 23:24:46 +0200 | 2 lines

removed nonexisting files from manifest

------------------------------------------------------------------------
r285 | jake | 2004-07-30 02:30:13 +0200 | 4 lines

Fix the Win32 build for executable and perl-shared library.
See NT-BUILD-TIPS.txt for step by step instructions.
Remove VC++ project files not being maintained by anyone.

------------------------------------------------------------------------
r284 | oetiker | 2004-07-14 12:55:25 +0200 | 2 lines

added Peter Speck

------------------------------------------------------------------------
r283 | oetiker | 2004-06-26 11:03:50 +0200 | 3 lines

allow building rpm from cvs where there is not ChangeLog (this gets generated when the
distribution tar is built) -- Tobi and Mike Slifcak

------------------------------------------------------------------------
r282 | oetiker | 2004-06-23 22:36:39 +0200 | 4 lines

It's quie enough that the title is placed on the top
of the graph, there's no need to emphasize it more.
-- Stanislav Sinyagin <ssinyagin@yahoo.com>

------------------------------------------------------------------------
r281 | oetiker | 2004-06-23 10:39:44 +0200 | 2 lines

reverted ... $< does not work

------------------------------------------------------------------------
r280 | oetiker | 2004-06-23 00:09:07 +0200 | 4 lines

The "$^" variable is GNU make-specific, and fails to compile under
FreeBSD 4.10. Please change it to $<, which is more compatible.
--  Stanislav Sinyagin <ssinyagin@yahoo.com>

------------------------------------------------------------------------
r279 | oetiker | 2004-06-18 00:09:24 +0200 | 2 lines

fixed type for text_prop_conv prototype

------------------------------------------------------------------------
r278 | oetiker | 2004-06-07 21:07:57 +0200 | 3 lines

Fix for debian freetype linking
-- Peter Hirdina <Peter.Hirdina@gmx.net>

------------------------------------------------------------------------
r277 | oetiker | 2004-05-27 00:11:12 +0200 | 2 lines

reduce compiler warnings. Many small fixes. -- Mike Slifcak <slif@bellsouth.net>

------------------------------------------------------------------------
r276 | oetiker | 2004-05-27 00:10:24 +0200 | 2 lines

improve redhat/fedora building -- Mike Slifcak

------------------------------------------------------------------------
r275 | oetiker | 2004-05-27 00:09:58 +0200 | 2 lines

update debian build instructions -- Mike Slifcak

------------------------------------------------------------------------
r274 | oetiker | 2004-05-26 00:08:12 +0200 | 3 lines

The counter was the only variable which needed to be an integer.
-- Mike Slifcak

------------------------------------------------------------------------
r273 | oetiker | 2004-05-26 00:07:30 +0200 | 10 lines

The rrdtool RPM package was depending on the rrdtool-perl package.
These changes move the examples, which are primarily perl scripts,
in with the rrdtool-perl RPM package, thereby de-coupling the
rest of the RRDtool from Perl.  Perhaps this is silliness ?

If there is no need for rrdtool separate from the Perl modules,
let me know, then I'll just create an rrdtool and an rrdtool-devel
RPM package (that would be a cleaner build and scripting, anyway).
-- Mike Slifcak

------------------------------------------------------------------------
r272 | oetiker | 2004-05-26 00:03:04 +0200 | 2 lines

added dtd descriptsion s or rrdtool xml output  -- Wolfgang Schrimm <wolfgang{dot}schrimm{at}urz{dot}uni-heidelberg{dot}de>

------------------------------------------------------------------------
r271 | oetiker | 2004-05-25 23:06:59 +0200 | 2 lines

added dump and restore ... Mike Schilli <b2b@perlmeister.com>

------------------------------------------------------------------------
r270 | oetiker | 2004-05-25 23:01:50 +0200 | 2 lines

added some contributors

------------------------------------------------------------------------
r269 | oetiker | 2004-05-25 23:00:48 +0200 | 2 lines

fixed time stamp in example -- Mike Slifcak

------------------------------------------------------------------------
r268 | oetiker | 2004-05-25 22:59:49 +0200 | 2 lines

more fixes for rpm spec -- Mike Slifcak

------------------------------------------------------------------------
r267 | oetiker | 2004-05-25 22:58:57 +0200 | 2 lines

single word fix -- Mike Slifcak

------------------------------------------------------------------------
r266 | oetiker | 2004-05-25 22:57:58 +0200 | 4 lines

Clear out previous legend array contents before freeing legend array.
Problem could manifest under extreme resource limits.  Not tested.
-- Mike Slifcak

------------------------------------------------------------------------
r265 | oetiker | 2004-05-25 22:55:37 +0200 | 2 lines

subordinate term was improperly formed --  Mike Slifcak

------------------------------------------------------------------------
r264 | oetiker | 2004-05-25 22:53:21 +0200 | 2 lines

prevent small leak when resources are exhausted -- Mike Slifcak

------------------------------------------------------------------------
r263 | oetiker | 2004-05-25 22:52:16 +0200 | 2 lines

fix spelling and syntax, especially in messages that are printed -- Mike Slifcak

------------------------------------------------------------------------
r262 | oetiker | 2004-05-25 22:51:49 +0200 | 2 lines

Update displayed copyright messages to be consistent. -- Mike Slifcak

------------------------------------------------------------------------
r261 | oetiker | 2004-05-25 22:51:12 +0200 | 2 lines

don't process the old rrdgraph single file document -- Mike Slifcak

------------------------------------------------------------------------
r260 | oetiker | 2004-05-25 22:50:36 +0200 | 2 lines

fix rpm rules --  Mike Slifcak

------------------------------------------------------------------------
r259 | oetiker | 2004-05-25 22:50:07 +0200 | 2 lines

fixed debian dependencies --  Mike Slifcak

------------------------------------------------------------------------
r258 | oetiker | 2004-05-25 18:51:49 +0200 | 3 lines

The expression's head was first checking for LT, and then for LTIME,
and the latter was never reached. -- Stanislav Sinyagin <ssinyagin@yahoo.com>

------------------------------------------------------------------------
r257 | oetiker | 2004-05-19 07:11:07 +0200 | 2 lines

integrated from debian

------------------------------------------------------------------------
r256 | oetiker | 2004-05-18 20:54:50 +0200 | 2 lines

its 365 days in a year .... -- Mike Slifcak

------------------------------------------------------------------------
r255 | oetiker | 2004-05-18 20:53:03 +0200 | 2 lines

big spell checking patch -- slif@bellsouth.net

------------------------------------------------------------------------
r254 | oetiker | 2004-05-18 20:51:55 +0200 | 2 lines

make force option work

------------------------------------------------------------------------
r253 | oetiker | 2004-05-18 20:51:02 +0200 | 2 lines

added beginners guide off debian --  slif@bellsouth.net

------------------------------------------------------------------------
r252 | oetiker | 2004-05-18 20:49:50 +0200 | 2 lines

add 4chars and fix two examples -- Mike Slifcak <slif@bellsouth.net>

------------------------------------------------------------------------
r251 | oetiker | 2004-05-18 20:40:31 +0200 | 2 lines

initial debian build system added -- Mike Slifcak <slif@bellsouth.net>

------------------------------------------------------------------------
r250 | oetiker | 2004-05-18 20:36:05 +0200 | 2 lines

fix library numbering  -- Mike Slifcak

------------------------------------------------------------------------
r249 | oetiker | 2004-05-18 20:25:45 +0200 | 2 lines

better cleaning -- Mike Slifcak

------------------------------------------------------------------------
r248 | oetiker | 2004-05-12 23:57:53 +0200 | 3 lines

locate the mkinstalldirs script at top level
accept "configure --mandir=" settings -- Mike Slifcak <slif@bellsouth.net>

------------------------------------------------------------------------
r247 | oetiker | 2004-05-04 23:01:29 +0200 | 4 lines

Added the ATAN function. This is being used to convert a DS for each vector component of wind direction into a
single direction for graphing. CDEF:avdir=yavg,xavg,/,ATAN,57.296,*,xavg,0,LT,180,0,IF,+,DUP,0,LT,360,0,IF,+
-- Daniel Shiels <dan@marge.tofubar.com>

------------------------------------------------------------------------
r246 | oetiker | 2004-05-04 22:54:47 +0200 | 2 lines

updated spec file -- Chris Adams <cmadams@hiwaay.net>

------------------------------------------------------------------------
r245 | oetiker | 2004-05-04 07:25:19 +0200 | 3 lines

die only after all the version checks are done and not for each one
-- Alex van den Bogaerdt <alex@ergens.op.het.net>

------------------------------------------------------------------------
r244 | oetiker | 2004-05-03 16:05:48 +0200 | 6 lines

* Allows rrdtool 1.1.x (2004-04-29) to compile on freebsd.
* Add configure options
  --disable-rrdcgi        disable building of rrdcgi
  --disable-pthread       disable multithread support
-- Stanislav Sinyagin <ssinyagin@yahoo.com>

------------------------------------------------------------------------
r243 | oetiker | 2004-05-02 23:10:59 +0200 | 7 lines

See the patch, attached. It changes the default angle to 90, and
allows one to change it from configure command line:

./configure RRDGRAPH_YLEGEND_ANGLE=270.0

-- Stanislav Sinyagin <ssinyagin@yahoo.com>

------------------------------------------------------------------------
r242 | oetiker | 2004-04-18 12:21:31 +0200 | 2 lines

fixed O_BINARY

------------------------------------------------------------------------
r241 | oetiker | 2004-03-23 22:34:28 +0100 | 2 lines

make sure fole is opened binary on restore ... to make things work on windows -- "Girod, Laurent" <Laurent.Girod@pmintl.com>

------------------------------------------------------------------------
r240 | oetiker | 2004-03-21 12:40:49 +0100 | 2 lines

Added --only-graph option -- Piotr Kodzis <Piotr.Kodzis@inteligo.pl>

------------------------------------------------------------------------
r239 | oetiker | 2004-03-14 21:58:32 +0100 | 3 lines

make MakeMaker work on debian and fix some leftovers from the library rip-out transition
-- Tobi

------------------------------------------------------------------------
r238 | oetiker | 2004-01-20 00:41:34 +0100 | 2 lines

initial

------------------------------------------------------------------------
r237 | oetiker | 2004-01-20 00:39:42 +0100 | 2 lines

kill

------------------------------------------------------------------------
r236 | oetiker | 2004-01-20 00:39:01 +0100 | 2 lines

remove

------------------------------------------------------------------------
r235 | oetiker | 2004-01-20 00:37:19 +0100 | 2 lines

kill it

------------------------------------------------------------------------
r234 | oetiker | 2004-01-20 00:35:21 +0100 | 2 lines

killem

------------------------------------------------------------------------
r233 | oetiker | 2004-01-20 00:27:17 +0100 | 2 lines

all must go

------------------------------------------------------------------------
r232 | oetiker | 2004-01-20 00:17:00 +0100 | 2 lines

misc fixes to get rrdtool working without included libraries.

------------------------------------------------------------------------
r231 | oetiker | 2004-01-20 00:16:03 +0100 | 2 lines

modifications for 'no more local libaries'

------------------------------------------------------------------------
r230 | oetiker | 2004-01-15 19:14:02 +0100 | 2 lines

addition of RRDs::times -- Christophe Kalt <kalt@taranis.org>

------------------------------------------------------------------------
r229 | oetiker | 2003-12-26 17:54:55 +0100 | 2 lines

using --riggid it is possible to get a case where minval is bigger than maxval ... this breaks the horizontal grid ...

------------------------------------------------------------------------
r228 | oetiker | 2003-11-27 07:31:38 +0100 | 2 lines

Stop RRDs for segfaulting on invalid graph input -- Ian Holsman <Ian.Holsman@cnet.com>

------------------------------------------------------------------------
r227 | oetiker | 2003-11-27 07:30:36 +0100 | 2 lines

make rrd_cgi build again ... Ian Holsman <rrd.developers@holsman.net>

------------------------------------------------------------------------
r226 | oetiker | 2003-11-23 13:55:37 +0100 | 2 lines

New recursive parser for rrdcgi by Arend-Jan Wijtzes <ajwytzes@wise-guys.nl>

------------------------------------------------------------------------
r225 | oetiker | 2003-11-19 08:06:44 +0100 | 4 lines

Adding attributions:
* xml fix was by Ian Holsman <rrd.developers@holsman.net>
* font rotation was by Chris Turbeville <turbo@verio.net>

------------------------------------------------------------------------
r224 | oetiker | 2003-11-19 07:58:36 +0100 | 2 lines

fixed svg generation

------------------------------------------------------------------------
r223 | oetiker | 2003-11-17 12:43:56 +0100 | 2 lines

more correct usage added -- Eldad Zack <eldad@stoneshaft.ath.cx>

------------------------------------------------------------------------
r222 | oetiker | 2003-11-15 00:10:51 +0100 | 2 lines

handle NULL pointers gracefully

------------------------------------------------------------------------
r221 | oetiker | 2003-11-12 23:14:26 +0100 | 2 lines

allow to pass an open filehandle into rrd_graph as an extra argument

------------------------------------------------------------------------
r220 | oetiker | 2003-11-12 23:13:55 +0100 | 2 lines

make create much faster .. -- David M. Grimes <dgrimes@navisite.com>

------------------------------------------------------------------------
r219 | oetiker | 2003-11-11 22:19:52 +0100 | 3 lines

Allow to force overwrite when restoring from xml to rrd.
-- Eldad Zack <eldad@stoneshaft.ath.cx>

------------------------------------------------------------------------
r218 | oetiker | 2003-11-11 20:46:21 +0100 | 2 lines

replaced time_value with rrd_time_value as MacOS X introduced a struct of that name in their standard headers

------------------------------------------------------------------------
r217 | oetiker | 2003-11-11 20:38:03 +0100 | 3 lines

rrd files should NOT change size ever ... bulk update code wa buggy.
-- David M. Grimes <dgrimes@navisite.com>

------------------------------------------------------------------------
r216 | oetiker | 2003-11-04 23:20:33 +0100 | 2 lines

20 chars max in a ds name -- Kuba Filipowicz <amo@axit.pl>

------------------------------------------------------------------------
r215 | oetiker | 2003-10-26 20:29:56 +0100 | 2 lines

added rotation ...

------------------------------------------------------------------------
r214 | oetiker | 2003-09-04 15:16:12 +0200 | 2 lines

should not assigne but compare ... grrrrr

------------------------------------------------------------------------
r213 | oetiker | 2003-09-02 23:58:35 +0200 | 2 lines

be pickier about what we accept in rrd_update. Complain if things do not work out

------------------------------------------------------------------------
r212 | oetiker | 2003-08-28 23:48:53 +0200 | 2 lines

make sure we get only 1 flag -- Chris Turbeville <turbo@verio.net>

------------------------------------------------------------------------
r211 | oetiker | 2003-07-28 23:59:22 +0200 | 10 lines

I was just taking a look at the development RRDtool build (I'm looking
forward to SVG support), and had a few problems with an out-of-tree
build. I find using a separate build directory makes things much
easier to manage, especially when building for multiple architectures.

I've attached the minor patches for the progress that I made (I couldn't
get the Perl modules to work, but the main binaries seem okay), and
would be grateful if you could commit them (or something like them!).
-- Joseph Walton <joe@kafsemo.org>

------------------------------------------------------------------------
r210 | jake | 2003-07-24 16:51:46 +0200 | 2 lines

Allow hyphen character in DEF_NAM_FMT to match DS_NAM_FMT.

------------------------------------------------------------------------
r209 | jake | 2003-07-17 01:41:37 +0200 | 4 lines

Updated MS Visual C++ files from 7.0 to 7.1.
Add code to rrd_graph.c: rrd_graph_init() to use %windir% environment
variable to find the default font at runtime.

------------------------------------------------------------------------
r208 | jake | 2003-07-15 02:58:38 +0200 | 2 lines

Moved OP_COUNT to the end of the enumeration.

------------------------------------------------------------------------
r207 | oetiker | 2003-05-20 22:51:04 +0200 | 5 lines

I've made a patch to rrdcgi to add <RRD::TIME::STRFTIME ...> which allows
you to re-format start and end-time at-style times using strftime.  This
allows easy timespans in the graph (e.g. -2weeks) to be formatted into more
usual times. -- "Erskine, Thomas" <terskine@NRCan.gc.ca>

------------------------------------------------------------------------
r206 | oetiker | 2003-05-03 17:41:41 +0200 | 3 lines

small patch to rrd_create.c that corrects problem with the
version number of the newly created files. -- Sasha Mikheev <sasha@avalon-net.co.il>

------------------------------------------------------------------------
r205 | oetiker | 2003-04-29 23:56:49 +0200 | 6 lines

readline in rrd_open.c reads the file in 8 KB blocks, and calls realloc for
each block. realloc is very slow in Mac OS X for huge blocks, e.g. when
restoring databases from huge xml files. This patch finds the size of the
file, and starts out with malloc'ing the full size.
-- Peter Speck <speck@ruc.dk>

------------------------------------------------------------------------
r204 | oetiker | 2003-04-29 21:37:27 +0200 | 2 lines

added comment on iso

------------------------------------------------------------------------
r203 | jake | 2003-04-29 21:14:12 +0200 | 3 lines

Change updatev RRA return from index_number to cf_nam, pdp_cnt.
Also revert accidental addition of -I to aclocal MakeMakefile.

------------------------------------------------------------------------
r202 | oetiker | 2003-04-26 07:11:27 +0200 | 2 lines

only restore V2 and larger.

------------------------------------------------------------------------
r201 | jake | 2003-04-25 20:35:08 +0200 | 2 lines

Alternate update interface, updatev. Returns info about CDPs written to disk as result of update. Output format is similar to rrd_info, a hash of key-values.

------------------------------------------------------------------------
r200 | oetiker | 2003-04-24 00:47:00 +0200 | 2 lines

fixed version checks to only complain if xml version is > than current RRD version

------------------------------------------------------------------------
r199 | oetiker | 2003-04-11 21:43:44 +0200 | 6 lines

New special value COUNT which allows calculations based on the position of a
value within a data set. Bug fix in rrd_rpncalc.c. PREV returned erroneus
value for the second value. Bug fix in rrd_restore.c. Bug causing seek error
when accesing an RRD restored from an xml that holds an RRD version <3.
--  Ruben Justo <ruben@ainek.com>

------------------------------------------------------------------------
r198 | oetiker | 2003-04-04 22:51:21 +0200 | 4 lines

I think I found a very small bug in rrd graph PDF output : the is_stream member of
pdf_buffer is not initialized, making bad PDF sometimes (I found a case where is_stream was
!= 0 for the font initialization). -- lhoudard@netcourrier.com

------------------------------------------------------------------------
r197 | jake | 2003-04-02 00:52:23 +0200 | 2 lines

Fix Win32 build. VC++ 6.0 and 7.0 now use the thread-safe code.

------------------------------------------------------------------------
r196 | oetiker | 2003-03-31 23:22:12 +0200 | 4 lines

enables RRDtool updates with microsecond or in case of windows millisecond
precision. This is needed to reduce time measurement error when archive step
is small. (<30s) --  Sasha Mikheev <sasha@avalon-net.co.il>

------------------------------------------------------------------------
r195 | oetiker | 2003-03-25 23:29:10 +0100 | 2 lines

use the environment variable VCINSTALLDIR --  Ian Holsman <rrd.developers@holsman.net>

------------------------------------------------------------------------
r194 | oetiker | 2003-03-24 23:08:20 +0100 | 2 lines

strerror should not turn us recursive here ... --  Peter Stamfest <peter@stamfest.at>

------------------------------------------------------------------------
r193 | oetiker | 2003-03-24 23:05:26 +0100 | 2 lines

strerror must not become recursive -- Peter Stamfest <peter@stamfest.at>

------------------------------------------------------------------------
r192 | oetiker | 2003-03-12 21:39:59 +0100 | 2 lines

remove ^M

------------------------------------------------------------------------
r191 | oetiker | 2003-03-10 01:30:34 +0100 | 3 lines

handle cases with two negative numbers
--  Sasha Mikheev <sasha@avalon-net.co.il>

------------------------------------------------------------------------
r190 | oetiker | 2003-03-08 19:44:06 +0100 | 3 lines

don't display legends for [HV]RULEs out of graph bounds (rrdgraph)
-- Christophe Kalt <kalt@taranis.org>

------------------------------------------------------------------------
r189 | oetiker | 2003-03-01 23:25:56 +0100 | 2 lines

realy suppress size output when talking to stdout. Patch from Mat Zimmerman @ debian

------------------------------------------------------------------------
r188 | oetiker | 2003-02-24 19:26:37 +0100 | 2 lines

fix for : in piped demo

------------------------------------------------------------------------
r187 | oetiker | 2003-02-22 22:57:35 +0100 | 3 lines

Initial checkin
-- Peter Stamfest <peter@stamfest.at>

------------------------------------------------------------------------
r186 | oetiker | 2003-02-22 22:57:03 +0100 | 3 lines

a patch to avoid a memory leak and a Makefile.am patch to
distribute all required source files -- Peter Stamfest <peter@stamfest.at>

------------------------------------------------------------------------
r185 | oetiker | 2003-02-21 23:40:07 +0100 | 2 lines

colons must be escaped

------------------------------------------------------------------------
r184 | oetiker | 2003-02-20 22:48:57 +0100 | 3 lines

make the threading work and compile, fix linking to libpng
and update the timestaps int the files

------------------------------------------------------------------------
r183 | oetiker | 2003-02-20 22:27:48 +0100 | 4 lines

updated copyrigh dates
removed error.h from threaded variant
added compiletime to rrdtool

------------------------------------------------------------------------
r182 | oetiker | 2003-02-16 13:32:24 +0100 | 2 lines

if output is - there is not need to deref the handler

------------------------------------------------------------------------
r181 | oetiker | 2003-02-16 13:31:58 +0100 | 2 lines

expect seems to exist on some systems in the system inc files

------------------------------------------------------------------------
r180 | oetiker | 2003-02-13 08:05:59 +0100 | 12 lines

Find attached the patch I promised to send to you. Please note that there
are three new source files (src/rrd_is_thread_safe.h, src/rrd_thread_safe.c
and src/rrd_not_thread_safe.c) and the introduction of librrd_th. This
library is identical to librrd, but it contains support code for per-thread
global variables currently used for error information only. This is similar
to how errno per-thread variables are implemented.  librrd_th must be linked
alongside of libpthred

There is also a new file "THREADS", holding some documentation.

-- Peter Stamfest <peter@stamfest.at>

------------------------------------------------------------------------
r179 | oetiker | 2003-02-12 08:06:56 +0100 | 2 lines

improved dist target -- Peter Stamfest <peter@stamfest.at>

------------------------------------------------------------------------
r178 | oetiker | 2003-02-11 11:16:46 +0100 | 2 lines

removed lg we do not allow this in the code at th moment

------------------------------------------------------------------------
r177 | oetiker | 2003-02-05 19:16:02 +0100 | 2 lines

rrd resize SHRINK was broken :-) -- Scott Mace <smace@intt.ORG>

------------------------------------------------------------------------
r176 | oetiker | 2003-01-31 07:46:32 +0100 | 2 lines

The NaN check should only use lastgdes when following a STACK -- Scott Mace <smace@intt.ORG>

------------------------------------------------------------------------
r175 | oetiker | 2003-01-30 22:39:21 +0100 | 2 lines

fix stak+nan error ... Scott Mace <smace@intt.ORG>

------------------------------------------------------------------------
r174 | oetiker | 2003-01-29 08:17:23 +0100 | 2 lines

fixed the processing of TICK:vname#color:frac:legend --  Scott Mace <smace@intt.ORG>

------------------------------------------------------------------------
r173 | oetiker | 2003-01-25 23:50:32 +0100 | 3 lines

added function (--no-minor) to turn off minor gridlines on graphs
-- Travis Brown <tebrown@csh.rit.edu>

------------------------------------------------------------------------
r172 | oetiker | 2003-01-17 00:27:54 +0100 | 3 lines

fix border condition in rra selection of rrd_fetch
-- Stanislav Sinyagin <ssinyagin@yahoo.com>

------------------------------------------------------------------------
r171 | oetiker | 2003-01-15 20:24:13 +0100 | 2 lines

* single letter variants for all graph options -- James Overbeck <grendel@gmo.jp>

------------------------------------------------------------------------
r170 | oetiker | 2002-12-14 23:30:41 +0100 | 3 lines

fix rrdtool compile on solaris where CC for perl is "gcc -B/usr/ccs/bin/"
-- Russell Van Tassell <russell@loosenut.com>

------------------------------------------------------------------------
r169 | oetiker | 2002-11-29 12:57:17 +0100 | 2 lines

note on info added

------------------------------------------------------------------------
r168 | oetiker | 2002-11-19 23:33:09 +0100 | 2 lines

added g as valid string format value

------------------------------------------------------------------------
r167 | oetiker | 2002-11-19 00:37:56 +0100 | 3 lines

check for -OPT:IEEE_NaN_inf=ON on SGI C compiler
-- Albert Chin-A-Young <china@thewrittenword.com>

------------------------------------------------------------------------
r166 | oetiker | 2002-11-03 16:07:13 +0100 | 2 lines

fixed

------------------------------------------------------------------------
r165 | oetiker | 2002-10-24 23:17:51 +0200 | 2 lines

added patch for apache 2 compatibility

------------------------------------------------------------------------
r164 | oetiker | 2002-10-07 08:22:35 +0200 | 2 lines

keep up with the jhonses

------------------------------------------------------------------------
r163 | oetiker | 2002-10-07 08:21:22 +0200 | 2 lines

-z does not take an option --  Tomoyuki Murakami <tomoyuki@pobox.com>

------------------------------------------------------------------------
r162 | oetiker | 2002-09-02 20:41:19 +0200 | 2 lines

fixed leak in VDEF_PERCENT handlin -- Perry Stoll <perry_stoll@yahoo.com>

------------------------------------------------------------------------
r161 | oetiker | 2002-08-01 07:42:27 +0200 | 3 lines

fix for segfault condition in print_calc
 -- Paul Clifford <paul.clifford@bbc.co.uk>

------------------------------------------------------------------------
r160 | oetiker | 2002-07-31 07:42:48 +0200 | 2 lines

improved fetch explanation -- Nenad.Antic@era.ericsson.se

------------------------------------------------------------------------
r159 | oetiker | 2002-07-13 20:35:37 +0200 | 3 lines

fixed DEF_NAM_FMT definition
added double include protection the rrd_graph.h and rrd_rpncalc.h

------------------------------------------------------------------------
r158 | oetiker | 2002-07-12 13:20:32 +0200 | 2 lines

fixed PREV parsing ... Gonzalo Augusto Arana Tagle <garana@uolsinectis.com.ar>

------------------------------------------------------------------------
r157 | oetiker | 2002-07-06 17:45:15 +0200 | 2 lines

new operators must be added at the END of the sequence ...

------------------------------------------------------------------------
r156 | oetiker | 2002-07-05 20:57:02 +0200 | 2 lines

new operand on rrdgraph CDEFs: PREV(xxxx) -- Gonzalo Augusto Arana Tagle <garana@uolsinectis.com.ar>

------------------------------------------------------------------------
r155 | oetiker | 2002-07-05 20:47:46 +0200 | 2 lines

explain tzset

------------------------------------------------------------------------
r154 | oetiker | 2002-07-02 12:35:23 +0200 | 2 lines

fixed DINF for win32

------------------------------------------------------------------------
r153 | alex | 2002-06-29 17:33:58 +0200 | 2 lines

Changed DEF:...

------------------------------------------------------------------------
r152 | alex | 2002-06-29 17:24:26 +0200 | 3 lines

Changed parsing again.
Added a DEBUG prefix to all grapher commands

------------------------------------------------------------------------
r151 | alex | 2002-06-29 16:55:47 +0200 | 2 lines

Not needed anymore

------------------------------------------------------------------------
r150 | alex | 2002-06-27 21:34:25 +0200 | 3 lines

DEF now takes "--start" and "--end"
LINEx, AREA and such now take parameter "STACK"

------------------------------------------------------------------------
r149 | alex | 2002-06-24 01:13:53 +0200 | 2 lines

Updated docs for the "DEF ...  :step=nnnn" case

------------------------------------------------------------------------
r148 | alex | 2002-06-24 00:29:40 +0200 | 3 lines

Added "step=1800" and such to "DEF"
Cleaned some of the signed vs. unsigned problems

------------------------------------------------------------------------
r147 | alex | 2002-06-24 00:28:06 +0200 | 2 lines

In stead of a zillion warnings, only one place gives a warning for DNAN

------------------------------------------------------------------------
r146 | jake | 2002-06-20 02:21:03 +0200 | 2 lines

More Win32 build changes; thanks to Kerry Calvert.

------------------------------------------------------------------------
r145 | oetiker | 2002-06-14 14:15:12 +0200 | 2 lines

better explanations -- "Shipway, Steve" <steve.shipway@eds.com>

------------------------------------------------------------------------
r144 | jake | 2002-05-22 17:25:43 +0200 | 2 lines

Changed intercept to slope for beta parameter in rrdtune doc.

------------------------------------------------------------------------
r143 | oetiker | 2002-05-22 07:35:09 +0200 | 3 lines

VC++ .NET (7.0) project files
-- Eric Chamberlain <echamber@socrates.Berkeley.EDU>

------------------------------------------------------------------------
r142 | oetiker | 2002-05-16 21:18:35 +0200 | 2 lines

added -W ... lets have some more warnings ... with gcc 3.1 985

------------------------------------------------------------------------
r141 | oetiker | 2002-05-15 08:14:40 +0200 | 2 lines

afm fixes -- Peter Speck <speck@ruc.dk>

------------------------------------------------------------------------
r140 | jake | 2002-05-14 23:52:58 +0200 | 2 lines

Fix Win32 Build compatibility.

------------------------------------------------------------------------
r139 | oetiker | 2002-05-14 23:48:05 +0200 | 2 lines

double free fixed

------------------------------------------------------------------------
r138 | oetiker | 2002-05-14 07:28:45 +0200 | 3 lines

make opendir readdir chdir chroot and thus the serverfunctionality
a conditional compile depending on the presence of the necessary function calls.

------------------------------------------------------------------------
r137 | oetiker | 2002-05-11 11:09:57 +0200 | 2 lines

make dirent sys/types and sys/stat autoconfable ....

------------------------------------------------------------------------
r136 | oetiker | 2002-05-08 22:34:56 +0200 | 3 lines

Add funtionality to rrdtool to run it as a 'server'
-- Hartmut.Vogler@epost.de

------------------------------------------------------------------------
r135 | oetiker | 2002-05-07 23:58:33 +0200 | 3 lines

new command rrdtool xport integrated
--  Wolfgang Schrimm <Wolfgang.Schrimm@urz.uni-heidelberg.de>

------------------------------------------------------------------------
r134 | oetiker | 2002-05-02 15:23:56 +0200 | 2 lines

typo fixed

------------------------------------------------------------------------
r133 | oetiker | 2002-04-29 19:11:03 +0200 | 2 lines

badformat parser fixed ... for good this time I hope

------------------------------------------------------------------------
r132 | oetiker | 2002-04-28 21:13:04 +0200 | 2 lines

inserted PRINT checker at the wrong point ...

------------------------------------------------------------------------
r131 | oetiker | 2002-04-28 16:14:48 +0200 | 5 lines

It's nice and simple, the error checker for the PRINT stuff which is
passed to printf() is not allowing certain valid printf() style operations
which make text alignment much more fun.
-- Richard A Steenbergen <ras@e-gerbil.net>

------------------------------------------------------------------------
r130 | oetiker | 2002-04-24 23:04:46 +0200 | 2 lines

fixed setlocale issues

------------------------------------------------------------------------
r129 | oetiker | 2002-04-24 22:54:09 +0200 | 2 lines

fixed adress for wishlist

------------------------------------------------------------------------
r128 | oetiker | 2002-04-24 22:49:26 +0200 | 2 lines

Patch for supporting PDF as output format

------------------------------------------------------------------------
r127 | oetiker | 2002-04-24 22:49:00 +0200 | 6 lines

Modification of rrd_graph.c/h so it uses dashes for gridlines much like
rrdtool 1.0 Avoids drawing minor vertical gridlines where a major gridline
is to avoid artifacts from having the grey line beneath the red one. Patches
src/rrd_graph.c and src/rrd_graph.h
--  Peter Speck <speck@ruc.dk

------------------------------------------------------------------------
r126 | oetiker | 2002-04-24 22:48:03 +0200 | 3 lines

Improvement of svg/eps dash code so it adjusts dash-lengths for round caps.
-- Peter Speck <speck@ruc.dk>

------------------------------------------------------------------------
r125 | oetiker | 2002-04-24 22:43:27 +0200 | 2 lines

fixed setlocale issues

------------------------------------------------------------------------
r124 | oetiker | 2002-04-16 07:00:07 +0200 | 2 lines

doc for gridfit by peter

------------------------------------------------------------------------
r123 | oetiker | 2002-04-15 23:29:24 +0200 | 20 lines

Evenly-spaced y-axis gridlines.

I had to split horizontal_grid() into calc_horizontal_grid and
draw_horizontal_grid as the calculated info is needed in the adjustment
code. My previous patch had the problem that it adjusted the y-axis too
late, e.g. after the data lines was drawn.
The result of the calc is stored in struct ygrid_scale_t which
image_desc_t has as a member.

--no-gridfit is implemented.

The round-to-integer coordinates for png is moved to the libart code in
rrd_gfx. The 'close path' code is cleaned up so the node list is left
unchanged if you want to save the same graph in multiple formats in one
run. The rounding is done on the scaled coordinates (zoom).

I have made a simple version for logarithmic y scales as such a scale
might have 5 gridlines with 4 difference spacings. This version only
uses y = 10^x values for modifying the scale. -- Peter Speck <speck@ruc.dk>

------------------------------------------------------------------------
r122 | oetiker | 2002-04-09 23:35:49 +0200 | 2 lines

remove boguos description of goodfor and refresh

------------------------------------------------------------------------
r121 | oetiker | 2002-04-09 23:34:56 +0200 | 2 lines

removed tzset as it is in rrd_graph now

------------------------------------------------------------------------
r120 | oetiker | 2002-04-09 23:34:13 +0200 | 2 lines

added tzset and setlocale to rrd_graph

------------------------------------------------------------------------
r119 | oetiker | 2002-04-08 00:07:46 +0200 | 2 lines

added missing files from peters patch

------------------------------------------------------------------------
r118 | oetiker | 2002-04-07 22:20:27 +0200 | 18 lines

3 patches, #3 depends on #1 as EPS uses AFM for stringwidth too.

src/rrd_afm.[ch], src/rrd_afm_data.[ch] and changes to rrd_gfx.[ch] to
use AFM for stringwidth in SVG output.

libraries/afm with .afm files for the standard 14 postscript
fonts and perl script to create src/rrd_afm_data.c Includes small test
program to show examples of calculated stringwidth and actual
stringwidth.

Adds EPS output support.
Modifies rrd_tool.c as rrd_graph() changes the argv pointer, and
rrd_tool then always wrote the 200x100 output line to the file (which
probably doesn't do anything for png images, but eps files fail having
it after the %%EOF marker).

-- Peter Speck <speck@ruc.dk>

------------------------------------------------------------------------
r117 | alex | 2002-04-06 14:40:59 +0200 | 2 lines

Different default font when WIN32 is defined

------------------------------------------------------------------------
r116 | alex | 2002-04-06 14:25:29 +0200 | 3 lines

Removed references to GIF
Changed y0 and such into Y0 and so

------------------------------------------------------------------------
r115 | jake | 2002-04-06 01:51:21 +0200 | 4 lines

Updated/added MVSC++ 6.0 project files for compilation of
rrd.lib and rrdtool.exe on Win32. Changes for RRDs compilation
on Win32. Moved src/ntconfig.h to confignt/config.h.

------------------------------------------------------------------------
r114 | oetiker | 2002-04-03 16:52:15 +0200 | 23 lines

As gfx_canvas_t now has excatly the same lifespan as image_desc_t, I've
made 'gfx_canvas_t canvas' a member of image_desc_t and dropped it as a
separate parameter in all function calls.

imgformat, interlaced and zoom are moved to gfx_canvas_t. I have dropped
my old fontlib-enum as imgformat contains that information. The
gfx_render_xxx switch is moved to rrd_gfx so rrd_graph is (almost) only
bothered with image formats in cmd line parsing.

gfx_close_path is added.

gfx_new_dashed_line is added with 2 new arguments: length of a dash and
length between dashes. gfx_new_line is still there for plain lines.
Having dash-length == 0 creates normal line.
rrd_graph.c is not updated for dashed lines. It's not decided how one
should specify which and how lines are dashed. An extension of the color
specification?

svg is updated for dashes and opacity, but libart code is not. I've
fixed indent in SVG, all lines had a space before func decl. etc.
Misc small fixes, e.g. sscanf of gfx_color_t, position of x-axis arrow.
--- Peter Speck <speck@ruc.dk>

------------------------------------------------------------------------
r113 | oetiker | 2002-04-03 07:32:31 +0200 | 2 lines

i suck.  sorry.  add ,0666 to the open(). -- Paul Vixie <paul@vix.com>

------------------------------------------------------------------------
r112 | oetiker | 2002-04-02 23:32:15 +0200 | 2 lines

added call to tzset to activate TZ settings -- Paul A Vixie <vixie@vix.com>

------------------------------------------------------------------------
r111 | oetiker | 2002-04-02 23:31:08 +0200 | 2 lines

aded missing fcntl.h

------------------------------------------------------------------------
r110 | oetiker | 2002-04-02 21:37:54 +0200 | 2 lines

rrd restore should not burn down existing files -- Paul Vixie <paul@vix.com>

------------------------------------------------------------------------
r109 | oetiker | 2002-04-01 20:32:17 +0200 | 2 lines

merged svg update

------------------------------------------------------------------------
r108 | oetiker | 2002-04-01 20:31:22 +0200 | 3 lines

"!" takes a higher preference than "||" this means rrd_update N:: would
segfault -- Oliver Cook <ollie@uk.clara.net>

------------------------------------------------------------------------
r107 | jake | 2002-03-28 18:33:49 +0100 | 2 lines

Added comment suggesting use of -I flag with aclocal.

------------------------------------------------------------------------
r106 | oetiker | 2002-03-26 08:02:28 +0100 | 2 lines

added SVG support -- Peter Speck <speck@ruc.dk>

------------------------------------------------------------------------
r105 | alex | 2002-03-23 21:41:48 +0100 | 2 lines

Better positioning of the pie when it is alone on the canvas

------------------------------------------------------------------------
r104 | alex | 2002-03-23 21:01:13 +0100 | 2 lines

Modified rrd_graph

------------------------------------------------------------------------
r103 | alex | 2002-03-23 20:59:39 +0100 | 2 lines

Changes in rrd_graph; see NEWS

------------------------------------------------------------------------
r102 | oetiker | 2002-03-23 10:05:32 +0100 | 2 lines

removed reference to GIF

------------------------------------------------------------------------
r101 | oetiker | 2002-03-23 10:01:43 +0100 | 2 lines

remove all traces of GIF and make PNG the default

------------------------------------------------------------------------
r100 | oetiker | 2002-03-23 09:53:31 +0100 | 3 lines

Move CDEF start pointers if start of cdef is a step ahead of the start
of the data -- Ashok Mandala <chakri063@yahoo.com>

------------------------------------------------------------------------
r99 | oetiker | 2002-03-21 23:39:03 +0100 | 2 lines

fixed color area in legend and fixed color area in 3d border

------------------------------------------------------------------------
r98 | alex | 2002-03-21 13:00:51 +0100 | 3 lines

Pie charts didn't have anti-aliasing; building them clockwise
seems to solve this problem.

------------------------------------------------------------------------
r97 | oetiker | 2002-03-20 23:48:25 +0100 | 3 lines

fixed longstanding bug affection CDEFS where values from
rrds with different resolutions got mixed ..

------------------------------------------------------------------------
r96 | alex | 2002-03-17 23:40:18 +0100 | 2 lines

Changed the way circle sections are drawn.

------------------------------------------------------------------------
r95 | alex | 2002-03-13 03:58:44 +0100 | 2 lines

New, hopefully better, implementation of PART drawing

------------------------------------------------------------------------
r94 | oetiker | 2002-03-12 08:19:09 +0100 | 2 lines

realy remove zlibe 1.1.3 dir

------------------------------------------------------------------------
r93 | oetiker | 2002-03-12 08:18:06 +0100 | 2 lines

updated

------------------------------------------------------------------------
r92 | oetiker | 2002-03-12 08:17:46 +0100 | 2 lines

ignore generated files

------------------------------------------------------------------------
r91 | oetiker | 2002-03-12 08:16:32 +0100 | 2 lines

missing bits

------------------------------------------------------------------------
r90 | oetiker | 2002-03-12 07:43:38 +0100 | 2 lines

updated to zlib 1.1.4

------------------------------------------------------------------------
r89 | oetiker | 2002-03-12 07:42:00 +0100 | 2 lines

replace zlib 1.1.3 with zlib 1.1.4

------------------------------------------------------------------------
r88 | alex | 2002-03-11 00:08:37 +0100 | 2 lines

Pie chart support added to rrdtool graph

------------------------------------------------------------------------
r87 | oetiker | 2002-03-10 23:49:24 +0100 | 2 lines

added quotes to echo

------------------------------------------------------------------------
r86 | alex | 2002-03-10 17:22:28 +0100 | 3 lines

Realigned function rpn_calc()
Stack checking now done using a macro

------------------------------------------------------------------------
r85 | alex | 2002-03-10 15:58:30 +0100 | 3 lines

Fixed some typos/errors
Updated for the NE and ISINF operators in RPN

------------------------------------------------------------------------
r84 | alex | 2002-03-10 15:53:04 +0100 | 3 lines

Using the font option resulted in a segfault.  Needs more care,
the current change is just a hack

------------------------------------------------------------------------
r83 | alex | 2002-03-10 15:48:59 +0100 | 2 lines

Added NE and ISINF operands to RPN

------------------------------------------------------------------------
r82 | oetiker | 2002-03-10 13:28:38 +0100 | 2 lines

better version check

------------------------------------------------------------------------
r81 | alex | 2002-03-08 23:14:22 +0100 | 2 lines

Needed to escape a wildcard

------------------------------------------------------------------------
r80 | alex | 2002-03-08 23:11:37 +0100 | 2 lines

Fixed some typos

------------------------------------------------------------------------
r79 | oetiker | 2002-02-18 22:52:20 +0100 | 2 lines

added autotools version check to MakeMakefiles

------------------------------------------------------------------------
r78 | oetiker | 2002-02-09 07:21:11 +0100 | 2 lines

do propper error checking and release memmory when it is not required anymore

------------------------------------------------------------------------
r77 | oetiker | 2002-02-08 19:40:37 +0100 | 2 lines

allow rrd_cgi to deal with umlauts -- Alexander Schwartz <alexander.schwartz@gmx.net>

------------------------------------------------------------------------
r76 | oetiker | 2002-02-03 09:10:36 +0100 | 2 lines

fixed spelling

------------------------------------------------------------------------
r75 | oetiker | 2002-02-02 15:36:14 +0100 | 2 lines

fixed data pointer storage

------------------------------------------------------------------------
r74 | oetiker | 2002-02-01 21:34:49 +0100 | 2 lines

fixed version number and date/time

------------------------------------------------------------------------
r73 | oetiker | 2002-02-01 21:29:32 +0100 | 2 lines

*** empty log message ***

------------------------------------------------------------------------
r72 | oetiker | 2002-01-31 23:44:34 +0100 | 2 lines

this file and all the external libraries configurability was contributed by mat zimmermann

------------------------------------------------------------------------
r71 | oetiker | 2002-01-31 23:43:13 +0100 | 2 lines

allow use of libraries already installed on the system

------------------------------------------------------------------------
r70 | oetiker | 2002-01-31 12:56:24 +0100 | 2 lines

make "18:00 yesterday" work  Pavel Mores <pvl@uh.cz>

------------------------------------------------------------------------
r69 | oetiker | 2002-01-31 08:23:12 +0100 | 2 lines

weeknumber is not %V which is more appropriate than %W

------------------------------------------------------------------------
r68 | oetiker | 2002-01-31 07:36:27 +0100 | 2 lines

copy ltmain.sh

------------------------------------------------------------------------
r67 | oetiker | 2002-01-17 21:31:31 +0100 | 2 lines

this also

------------------------------------------------------------------------
r66 | oetiker | 2002-01-17 21:30:46 +0100 | 2 lines

this is not needed anymore

------------------------------------------------------------------------
r65 | oetiker | 2002-01-17 21:28:01 +0100 | 2 lines

killing remains

------------------------------------------------------------------------
r64 | oetiker | 2002-01-17 00:11:11 +0100 | 2 lines

added places for download

------------------------------------------------------------------------
r63 | oetiker | 2002-01-15 23:58:09 +0100 | 2 lines

ignore irrelevant things

------------------------------------------------------------------------
r62 | oetiker | 2002-01-15 23:53:19 +0100 | 2 lines

added new .cvsignore files

------------------------------------------------------------------------
r61 | oetiker | 2002-01-15 23:51:07 +0100 | 15 lines

The BIG graph update
  * Replace libgd with libart
  * Added freetype
  * Updated zlib and libpng
  * rrd_gfx.c intrduced as libart wrapper
  * LINE takes now a float as argument
  * rrdtool uses truetype for fonts
  * thanks to libart there is now full alpha transparenc
    and antialiasing.
  * the new option --font lets customize the font
    and size for various graph elements
  * Updated to -> libtool 1.4.2 automake 2.12 autoconf 2.52
  * new --zoom commandline option for zoom ans shrinking
  -- tobias oetiker

------------------------------------------------------------------------
r60 | alex | 2002-01-04 02:11:35 +0100 | 2 lines

Reworked rrd_graph_script()

------------------------------------------------------------------------
r59 | alex | 2001-12-24 07:51:49 +0100 | 21 lines

A patch of size 44Kbytes... in short:

Found and repaired the off-by-one error in rrd_fetch_fn().
As a result I had to remove the hacks in rrd_fetch_fn(),
rrd_tool.c, vdef_calc(), data_calc(), data_proc() and
reduce_data().  There may be other places which I didn't
find so be careful.

Enhanced debugging in rrd_fetch_fn(), it shows the RRA selection
process.

Added the ability to print VDEF timestamps.  At the moment it
is a hack, I needed it now to fix the off-by-one error.
If the format string is "%c" (and nothing else!), the time
will be printed by both ctime() and as a long int.

Moved some code around (slightly altering it) from rrd_graph()
  initializing     now in rrd_graph_init()
  options parsing  now in rrd_graph_options()
  script parsing   now in rrd_graph_script()

------------------------------------------------------------------------
r58 | alex | 2001-12-22 03:49:23 +0100 | 3 lines

Somehow eight lines were missing from function rrd_graph().
Also fixed minor bug in vdef_calc().

------------------------------------------------------------------------
r57 | oetiker | 2001-12-17 13:48:43 +0100 | 2 lines

fix overflow error ...

------------------------------------------------------------------------
r56 | jake | 2001-12-11 23:55:28 +0100 | 2 lines

Fixed uninitialized ptr causing seg fault invoking info for COMPUTE data sources.

------------------------------------------------------------------------
r55 | oetiker | 2001-11-18 09:41:16 +0100 | 2 lines

return "" instead of NULL for <RRD::GETENV UNKNOWN_VARIABLE> -- Michael <sysadmin@qsl.net>

------------------------------------------------------------------------
r54 | oetiker | 2001-11-17 17:57:55 +0100 | 2 lines

fixed path to mkinstalldirs -- Laurent Saehyun Kim?\239?\191?\189<LKim@xo.com>

------------------------------------------------------------------------
r53 | oetiker | 2001-09-08 20:25:17 +0200 | 2 lines

spelling updates by Martin Schulze <joey@finlandia.infodrom.north.de>

------------------------------------------------------------------------
r52 | jake | 2001-08-23 00:29:07 +0200 | 13 lines

Contents of this patch:
(1) Adds/revises documentation for rrd tune in rrd_tool.c and pod files.
(2) Moves some initialization code from rrd_create.c to rrd_hw.c.
(3) Adds another pass to smoothing for SEASONAL and DEVSEASONAL RRAs.
This pass computes the coefficients as deviations from an average; the
average is added the baseline coefficient of HWPREDICT. Statistical texts
suggest this to preserve algorithm stability. It will not invalidate
RRD files created and smoothed with the old code.
(4) Adds the aberrant-reset flag to rrd tune. This operation, which is
specified for a single data source, causes the holt-winters algorithm to
forget everthing it has learned and start over.
(5) Fixes a few out-of-date code comments.

------------------------------------------------------------------------
r51 | oetiker | 2001-08-13 20:58:07 +0200 | 2 lines

spell fix for si units (only in comments)

------------------------------------------------------------------------
r50 | alex | 2001-07-29 00:34:42 +0200 | 2 lines

Removing rrdgraph*.pod from the cvs

------------------------------------------------------------------------
r49 | alex | 2001-07-29 00:21:44 +0200 | 4 lines

Edited Makefile.am and the rrdgraph_*.src files. By mistake the
previous update was made on the rrdgraph_*.pod files however they
are not to be edited. This is now corrected.

------------------------------------------------------------------------
r48 | alex | 2001-07-26 04:27:46 +0200 | 4 lines

Supporting functions for rrd_graph.  Functions that are used frequently
and/or from different places should be added here in stead of repeating
them in rrd_graph.c over and over again.

------------------------------------------------------------------------
r47 | alex | 2001-07-26 04:25:38 +0200 | 2 lines

Moved most typedefs etc. from rrd_graph.c to this file

------------------------------------------------------------------------
r46 | alex | 2001-07-26 04:22:18 +0200 | 3 lines

Added VDEF TOTAL
Moved most typedefs etc. to rrd_graph.h

------------------------------------------------------------------------
r45 | alex | 2001-07-26 04:19:48 +0200 | 2 lines

Added rrd_graph_helper

------------------------------------------------------------------------
r44 | alex | 2001-07-26 04:15:02 +0200 | 2 lines

Updated for VDEF TOTAL

------------------------------------------------------------------------
r43 | alex | 2001-07-26 04:11:46 +0200 | 2 lines

Announce of VDEF in rrd_graph

------------------------------------------------------------------------
r42 | alex | 2001-07-21 20:17:44 +0200 | 2 lines

Made PRINT and GPRINT aware of VDEF statements

------------------------------------------------------------------------
r41 | oetiker | 2001-07-21 00:34:29 +0200 | 2 lines

missing documentation ... -- Alex van den Bogaerdt <alex@slot.hollandcasino.nl>

------------------------------------------------------------------------
r40 | oetiker | 2001-07-21 00:34:06 +0200 | 2 lines

only a comment

------------------------------------------------------------------------
r39 | oetiker | 2001-07-21 00:33:17 +0200 | 2 lines

small fixes -- Alex van den Bogaerdt <alex@slot.hollandcasino.nl>

------------------------------------------------------------------------
r38 | oetiker | 2001-07-19 00:30:29 +0200 | 2 lines

VDEF and VRULE are comig along -- Alex van den Bogaerdt <alex@slot.hollandcasino.nl>

------------------------------------------------------------------------
r37 | oetiker | 2001-06-05 15:42:55 +0200 | 2 lines

spell fix

------------------------------------------------------------------------
r36 | oetiker | 2001-05-09 07:31:01 +0200 | 5 lines

Bug fix: when update of multiple PDP/CDP RRAs coincided
with interpolation of multiple PDPs an incorrect value was
stored as the CDP. Especially evident for GAUGE data sources.
Minor changes to rrdcreate.pod. -- Jake Brutlag <jakeb@corp.webtv.net>

------------------------------------------------------------------------
r35 | oetiker | 2001-03-31 17:21:59 +0200 | 3 lines

added 'all' dependancy to site-perl-install rule as many seem to skip
this step when instaling cricket ... probably an incomplete cricket doku.

------------------------------------------------------------------------
r34 | oetiker | 2001-03-15 20:43:04 +0100 | 2 lines

added PROJECTS file

------------------------------------------------------------------------
r33 | oetiker | 2001-03-11 13:03:12 +0100 | 2 lines

reindented

------------------------------------------------------------------------
r32 | oetiker | 2001-03-11 12:49:28 +0100 | 2 lines

reindented the cource for better readability

------------------------------------------------------------------------
r31 | oetiker | 2001-03-11 00:54:41 +0100 | 7 lines

Support for COMPUTE data sources (CDEF data sources). Removes the RPN
parser and calculator from rrd_graph and puts then in a new file,
rrd_rpncalc.c. Changes to core files rrd_create and rrd_update. Some
clean-up of aberrant behavior stuff, including a bug fix.
Documentation update (rrdcreate.pod, rrdupdate.pod). Change xml format.
-- Jake Brutlag <jakeb@corp.webtv.net>

------------------------------------------------------------------------
r30 | oetiker | 2001-03-07 22:21:54 +0100 | 4 lines

complete rewrite of rrdgraph documentation. This also includs info
on upcomming/planned changes to the rrdgraph interface and functionality
-- Alex van den Bogaerdt <alex@slot.hollandcasino.nl>

------------------------------------------------------------------------
r28 | oetiker | 2001-03-04 14:50:31 +0100 | 2 lines

fidex jackes adderss

------------------------------------------------------------------------
r27 | oetiker | 2001-03-04 14:12:44 +0100 | 2 lines

added note on counter vs derive --  Don BAARDA <don.baarda@baesystems.com>

------------------------------------------------------------------------
r26 | oetiker | 2001-03-04 14:01:56 +0100 | 6 lines

Aberrant Behavior Detection support. A brief overview added to rrdtool.pod.
Major updates to rrd_update.c, rrd_create.c. Minor update to other core files.
This is backwards compatible! But new files using the Aberrant stuff are not readable
by old rrdtool versions. See http://cricket.sourceforge.net/aberrant/rrd_hw.htm
-- Jake Brutlag <jakeb@corp.webtv.net>

------------------------------------------------------------------------
r25 | oetiker | 2001-03-04 14:00:25 +0100 | 2 lines

another do not report Makefile and Makefile.in

------------------------------------------------------------------------
r24 | oetiker | 2001-03-04 13:51:55 +0100 | 2 lines

this file has no purpose

------------------------------------------------------------------------
r23 | oetiker | 2001-03-04 13:32:07 +0100 | 2 lines

rrdupdate is a generated file it has no place in cvs

------------------------------------------------------------------------
r21 | oetiker | 2001-03-04 12:31:21 +0100 | 2 lines

repository cleanup

------------------------------------------------------------------------
r20 | oetiker | 2001-03-04 12:14:26 +0100 | 3 lines

added at-style-time@value:value syntax to rrd_update
--  Dave Bodenstab <imdave@mcs.net>

------------------------------------------------------------------------
r19 | oetiker | 2001-03-04 11:29:20 +0100 | 3 lines

fixed filedescriptor leak
-- Mike Franusich <mike@franusich.com>

------------------------------------------------------------------------
r18 | oetiker | 2001-03-02 23:48:39 +0100 | 2 lines

added test for hpux. if matched, compile zlib with -fpic instead of -fPIC

------------------------------------------------------------------------
r17 | oetiker | 2001-03-01 22:37:54 +0100 | 2 lines

added check for the presence of the compiler used to build perl modules

------------------------------------------------------------------------
r16 | oetiker | 2001-02-26 00:18:40 +0100 | 2 lines

they do not belong into cvs ad they are autogenerated

------------------------------------------------------------------------
r15 | oetiker | 2001-02-25 23:57:02 +0100 | 2 lines

Fixed ln for modules

------------------------------------------------------------------------
r14 | oetiker | 2001-02-25 23:53:17 +0100 | 2 lines

fixed compile order ... src before bindings

------------------------------------------------------------------------
r6 | oetiker | 2001-02-25 23:25:02 +0100 | 2 lines

Initial revision

------------------------------------------------------------------------
